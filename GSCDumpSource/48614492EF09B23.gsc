// IW9 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

_id_CF1B1F86951A9209( instance, part, state, player, _id_A5B2C541413AA895, _id_CC38472E36BE1B61 )
{
    player._id_605F6834E7492317 = 1;
    _id_9CD7DF4997AEA4BF( player, instance );
    instance._id_2BC73315BD31809C[player.guid] = player;

    if ( isdefined( instance._id_055AA0066A9F3E9F ) )
        [[ instance._id_055AA0066A9F3E9F ]]( instance, part, state, player, _id_A5B2C541413AA895, _id_CC38472E36BE1B61 );

    _id_8F75065BDA6EE24A( player, instance );
}

_id_8F75065BDA6EE24A( opener, _id_69E96A4CAA72D794 )
{
    [items, _id_77DC0A100921C5A7] = scripts\mp\loot::_id_0438749EB7A7B738( _id_69E96A4CAA72D794._id_556DB0B72A96514E[opener.guid].contents, opener, _id_69E96A4CAA72D794 );
    _id_69E96A4CAA72D794._id_556DB0B72A96514E[opener.guid].contents = items;
    opener._id_02FA5B49969DEF47 = _id_69E96A4CAA72D794;
    opener._id_F2AA9AE949179907 = opener.origin;
    _id_B77D74FC05206ACD = _id_54D1E54B22F3F1F6( _id_69E96A4CAA72D794._id_46A3A8565AC0C17C );

    if ( isdefined( _id_69E96A4CAA72D794.parent ) )
        opener._id_F2AA9AE949179907 = opener.origin - _id_69E96A4CAA72D794.parent.origin;

    if ( items.size > _id_B77D74FC05206ACD )
    {

    }

    for ( _id_3793828403C6873E = 0; _id_3793828403C6873E < _id_B77D74FC05206ACD; _id_3793828403C6873E++ )
    {
        if ( _id_3793828403C6873E <= _id_77DC0A100921C5A7 )
        {
            scripts\mp\loot::_id_446C7AD7BCC70992( opener, _id_3793828403C6873E, items[_id_3793828403C6873E]["lootID"], items[_id_3793828403C6873E]["quantity"] );
            continue;
        }

        scripts\mp\loot::_id_C7294F5B9B5006D5( opener, _id_3793828403C6873E );
    }

    if ( isdefined( _id_69E96A4CAA72D794._id_556DB0B72A96514E[opener.guid]._id_04F6CDE716E0C3D7 ) )
        opener setclientomnvar( "loot_container_weapon", _id_69E96A4CAA72D794._id_556DB0B72A96514E[opener.guid]._id_04F6CDE716E0C3D7 );

    opener setclientomnvar( "loot_container_open", _id_69E96A4CAA72D794._id_46A3A8565AC0C17C );
    _id_69E96A4CAA72D794 thread scripts\mp\loot::_id_71A59F067D5FE986( _id_69E96A4CAA72D794, opener );
    _id_69E96A4CAA72D794 thread scripts\mp\loot::_id_47B931D76FFD028F( _id_69E96A4CAA72D794, opener );
}

_id_6207D6F728CEE51D( players, _id_69E96A4CAA72D794, lootid, quantity, weaponobj, _id_338E098F5CBFDA5B, _id_F8048727716242B0 )
{
    foreach ( player in players )
        _id_4DF3C8D739C4B460( player, _id_69E96A4CAA72D794, lootid, quantity, weaponobj, _id_338E098F5CBFDA5B, _id_F8048727716242B0 );
}

_id_9CD7DF4997AEA4BF( player, _id_69E96A4CAA72D794 )
{
    if ( !isdefined( _id_69E96A4CAA72D794._id_556DB0B72A96514E ) )
        _id_69E96A4CAA72D794._id_556DB0B72A96514E = [];

    if ( !isdefined( _id_69E96A4CAA72D794._id_556DB0B72A96514E[player.guid] ) )
    {
        _id_69E96A4CAA72D794._id_556DB0B72A96514E[player.guid] = spawnstruct();
        _id_69E96A4CAA72D794._id_556DB0B72A96514E[player.guid].contents = [];
        _id_69E96A4CAA72D794._id_556DB0B72A96514E[player.guid].contents[0] = [];
        _id_69E96A4CAA72D794._id_556DB0B72A96514E[player.guid].contents[0]["quantity"] = 0;
        _id_69E96A4CAA72D794._id_556DB0B72A96514E[player.guid].contents[0]["lootID"] = 0;
        _id_69E96A4CAA72D794._id_556DB0B72A96514E[player.guid]._id_04F6CDE716E0C3D7 = 0;
        _id_69E96A4CAA72D794._id_556DB0B72A96514E[player.guid]._id_6FB67C8525B1D79E = undefined;
    }

    if ( !isdefined( _id_69E96A4CAA72D794._id_46A3A8565AC0C17C ) )
        _id_69E96A4CAA72D794._id_46A3A8565AC0C17C = _id_B2FF0AF91E5DF8F4( _id_69E96A4CAA72D794.type );
}

_id_4DF3C8D739C4B460( player, _id_69E96A4CAA72D794, lootid, quantity, weaponobj, _id_338E098F5CBFDA5B, _id_F8048727716242B0 )
{
    _id_9CD7DF4997AEA4BF( player, _id_69E96A4CAA72D794 );
    [items, _id_77DC0A100921C5A7] = scripts\mp\loot::_id_0438749EB7A7B738( _id_69E96A4CAA72D794._id_556DB0B72A96514E[player.guid].contents, player, _id_69E96A4CAA72D794 );
    _id_69E96A4CAA72D794._id_556DB0B72A96514E[player.guid].contents = items;
    _id_B77D74FC05206ACD = _id_54D1E54B22F3F1F6( _id_69E96A4CAA72D794._id_46A3A8565AC0C17C );

    for ( _id_AC0E594AC96AA3A8 = _id_77DC0A100921C5A7 + 1; _id_AC0E594AC96AA3A8 < _id_B77D74FC05206ACD; _id_AC0E594AC96AA3A8++ )
        _id_69E96A4CAA72D794._id_556DB0B72A96514E[player.guid].contents[_id_AC0E594AC96AA3A8] = undefined;

    if ( lootid == 0 || quantity == 0 )
        return;

    if ( isdefined( weaponobj ) )
    {
        scripts\mp\loot::_id_67BE8D119FA22135( player, _id_69E96A4CAA72D794._id_556DB0B72A96514E[player.guid], weaponobj, lootid, undefined, undefined, quantity );
        return;
    }

    _id_D54A79024C228770 = _id_69E96A4CAA72D794._id_556DB0B72A96514E[player.guid].contents.size;
    _id_7745D84DFCF3F0FB = undefined;

    foreach ( index, item in _id_69E96A4CAA72D794._id_556DB0B72A96514E[player.guid].contents )
    {
        if ( !isdefined( item ) || !isdefined( item["quantity"] ) || !isdefined( item["lootID"] ) )
            continue;

        if ( item["lootID"] == 8395 && lootid == item["lootID"] )
        {
            _id_D54A79024C228770 = index;
            quantity = quantity + item["quantity"];
            _id_7745D84DFCF3F0FB = 1;
            break;
        }

        scriptablename = _id_600B944A95C3A7BF::_id_E1D5A33193DB0133( lootid );
        maxcount = level.br_pickups._id_04138F9DDC1CD22D[scriptablename];

        if ( !isdefined( maxcount ) || maxcount == 0 )
            maxcount = level.br_pickups.maxcounts[scriptablename];

        if ( !isdefined( maxcount ) || maxcount == 0 )
            continue;

        if ( item["lootID"] == lootid && quantity + item["quantity"] <= maxcount )
        {
            _id_D54A79024C228770 = index;
            quantity = quantity + item["quantity"];
            _id_7745D84DFCF3F0FB = 1;
            break;
        }
    }

    if ( _id_D54A79024C228770 >= _id_B77D74FC05206ACD && !isdefined( weaponobj ) && !istrue( _id_7745D84DFCF3F0FB ) )
    {
        if ( istrue( _id_F8048727716242B0 ) )
        {
            _id_D54A79024C228770 = 0;
            _id_879D3E9D5C72B703 = _id_69E96A4CAA72D794._id_556DB0B72A96514E[player.guid].contents[_id_D54A79024C228770]["lootID"];
            _id_EA1DCC638E88B8C9 = _id_69E96A4CAA72D794._id_556DB0B72A96514E[player.guid].contents[_id_D54A79024C228770]["quantity"];
            scriptablename = _id_600B944A95C3A7BF::_id_E1D5A33193DB0133( _id_879D3E9D5C72B703 );
            dropstruct = _id_7E52B56769FA7774::_id_7B9F3966A7A42003();
            _id_CB4FAD49263E20C4 = _id_7E52B56769FA7774::getitemdroporiginandangles( dropstruct, _id_69E96A4CAA72D794.origin, _id_69E96A4CAA72D794.angles );
            _id_7E52B56769FA7774::spawnpickup( scriptablename, _id_CB4FAD49263E20C4, _id_EA1DCC638E88B8C9 );
        }
        else
        {
            player scripts\mp\hud_message::showerrormessage( "MP/BALLOON_EXTRACT_DENY_NO_ROOM" );
            return;
        }
    }

    if ( isdefined( _id_69E96A4CAA72D794._id_6978A4B328FD33B3 ) )
        [[ _id_69E96A4CAA72D794._id_6978A4B328FD33B3 ]]( _id_69E96A4CAA72D794, player, lootid, quantity );

    _id_69E96A4CAA72D794._id_556DB0B72A96514E[player.guid].contents[_id_D54A79024C228770]["quantity"] = quantity;
    _id_69E96A4CAA72D794._id_556DB0B72A96514E[player.guid].contents[_id_D54A79024C228770]["lootID"] = lootid;

    if ( isdefined( _id_338E098F5CBFDA5B ) )
        _id_69E96A4CAA72D794._id_556DB0B72A96514E[player.guid].contents[_id_D54A79024C228770]["noExtract"] = 1;
    else
        _id_69E96A4CAA72D794._id_556DB0B72A96514E[player.guid].contents[_id_D54A79024C228770]["noExtract"] = undefined;

    player _id_CE9B69FC041571D2( player, _id_69E96A4CAA72D794 );
}

_id_80BADA2833945A7A( itemtype, _id_3793828403C6873E, _id_338E098F5CBFDA5B )
{
    [items, _id_77DC0A100921C5A7] = scripts\mp\loot::_id_0438749EB7A7B738( self._id_02FA5B49969DEF47._id_556DB0B72A96514E[self.guid].contents, self, self._id_02FA5B49969DEF47 );
    self._id_02FA5B49969DEF47._id_556DB0B72A96514E[self.guid].contents = items;
    _id_B77D74FC05206ACD = _id_54D1E54B22F3F1F6( self._id_02FA5B49969DEF47._id_46A3A8565AC0C17C );

    for ( _id_AC0E594AC96AA3A8 = _id_77DC0A100921C5A7 + 1; _id_AC0E594AC96AA3A8 < _id_B77D74FC05206ACD; _id_AC0E594AC96AA3A8++ )
        self._id_02FA5B49969DEF47._id_556DB0B72A96514E[self.guid].contents[_id_AC0E594AC96AA3A8] = undefined;

    _id_69E96A4CAA72D794 = self._id_02FA5B49969DEF47._id_556DB0B72A96514E[self.guid];

    if ( istrue( self getclientomnvar( "loot_container_weapon" ) ) && itemtype == 1 )
    {
        scripts\mp\hud_message::showerrormessage( "MP/BALLOON_EXTRACT_DENY_NO_ROOM" );
        return;
    }

    [lootid, quantity, weaponobj] = _id_04B1EA8143EFB9DD( itemtype, _id_3793828403C6873E );

    if ( lootid == 0 || quantity == 0 )
        return;

    if ( itemtype == 1 && isdefined( weaponobj ) )
    {
        scripts\mp\loot::_id_67BE8D119FA22135( self, self._id_02FA5B49969DEF47._id_556DB0B72A96514E[self.guid], weaponobj, lootid, itemtype, _id_3793828403C6873E, quantity );
        return;
    }

    _id_D54A79024C228770 = _id_69E96A4CAA72D794.contents.size;
    _id_7745D84DFCF3F0FB = undefined;

    foreach ( index, item in _id_69E96A4CAA72D794.contents )
    {
        if ( !isdefined( item ) || !isdefined( item["quantity"] ) || !isdefined( item["lootID"] ) )
            continue;

        if ( item["lootID"] == 8395 && lootid == item["lootID"] )
        {
            _id_D54A79024C228770 = index;
            quantity = quantity + item["quantity"];
            _id_7745D84DFCF3F0FB = 1;
            break;
        }

        scriptablename = _id_600B944A95C3A7BF::_id_E1D5A33193DB0133( lootid );
        maxcount = level.br_pickups._id_04138F9DDC1CD22D[scriptablename];

        if ( !isdefined( maxcount ) || maxcount == 0 )
            maxcount = level.br_pickups.maxcounts[scriptablename];

        if ( !isdefined( maxcount ) || maxcount == 0 )
            continue;

        if ( item["lootID"] == lootid && quantity + item["quantity"] <= maxcount )
        {
            _id_D54A79024C228770 = index;
            quantity = quantity + item["quantity"];
            _id_7745D84DFCF3F0FB = 1;
            break;
        }
    }

    if ( _id_D54A79024C228770 >= _id_B77D74FC05206ACD && itemtype != 1 && !istrue( _id_7745D84DFCF3F0FB ) )
    {
        scripts\mp\hud_message::showerrormessage( "MP/BALLOON_EXTRACT_DENY_NO_ROOM" );
        return;
    }

    if ( isdefined( _id_69E96A4CAA72D794._id_6978A4B328FD33B3 ) )
        [[ _id_69E96A4CAA72D794._id_6978A4B328FD33B3 ]]( self._id_02FA5B49969DEF47, self, lootid, quantity, itemtype, _id_3793828403C6873E );

    thread _id_7E52B56769FA7774::quickdropitem( itemtype, _id_3793828403C6873E, 1 );
    self._id_02FA5B49969DEF47._id_556DB0B72A96514E[self.guid].contents[_id_D54A79024C228770]["quantity"] = quantity;
    self._id_02FA5B49969DEF47._id_556DB0B72A96514E[self.guid].contents[_id_D54A79024C228770]["lootID"] = lootid;

    if ( isdefined( _id_338E098F5CBFDA5B ) )
        self._id_02FA5B49969DEF47._id_556DB0B72A96514E[self.guid].contents[_id_D54A79024C228770]["noExtract"] = 1;
    else
        self._id_02FA5B49969DEF47._id_556DB0B72A96514E[self.guid].contents[_id_D54A79024C228770]["noExtract"] = undefined;

    _id_CE9B69FC041571D2( self, self._id_02FA5B49969DEF47 );
}

_id_CE9B69FC041571D2( opener, _id_69E96A4CAA72D794 )
{
    [items, _id_77DC0A100921C5A7] = scripts\mp\loot::_id_0438749EB7A7B738( _id_69E96A4CAA72D794._id_556DB0B72A96514E[opener.guid].contents, opener, _id_69E96A4CAA72D794 );
    _id_69E96A4CAA72D794._id_556DB0B72A96514E[opener.guid].contents = items;
    _id_B77D74FC05206ACD = _id_54D1E54B22F3F1F6( _id_69E96A4CAA72D794._id_46A3A8565AC0C17C );

    if ( items.size > _id_B77D74FC05206ACD )
    {

    }

    for ( _id_3793828403C6873E = 0; _id_3793828403C6873E < _id_B77D74FC05206ACD; _id_3793828403C6873E++ )
        scripts\mp\loot::_id_C7294F5B9B5006D5( opener, _id_3793828403C6873E );

    for ( _id_3793828403C6873E = 0; _id_3793828403C6873E < _id_B77D74FC05206ACD; _id_3793828403C6873E++ )
    {
        if ( _id_3793828403C6873E <= _id_77DC0A100921C5A7 )
            scripts\mp\loot::_id_446C7AD7BCC70992( opener, _id_3793828403C6873E, items[_id_3793828403C6873E]["lootID"], items[_id_3793828403C6873E]["quantity"] );
    }
}

_id_B2FF0AF91E5DF8F4( scriptablename )
{
    _id_46A3A8565AC0C17C = 1;

    switch ( scriptablename )
    {
        case "dmz_dead_drop":
            _id_46A3A8565AC0C17C = 11;
            break;
        case "brloot_balloon_extract":
            _id_46A3A8565AC0C17C = 9;
            break;
        default:
            break;
    }

    return _id_46A3A8565AC0C17C;
}

_id_1225F23A18664F4C( _id_46A3A8565AC0C17C )
{
    return _id_46A3A8565AC0C17C == 11 || _id_46A3A8565AC0C17C == 9;
}

_id_54D1E54B22F3F1F6( _id_46A3A8565AC0C17C )
{
    switch ( _id_46A3A8565AC0C17C )
    {
        case 11:
            return getdvarint( "dvar_823C57EC4DAC4069", 4 ) - 1;
        case 9:
            return getdvarint( "dvar_780B498909AD7B76", 4 ) - 1;
        default:
            return 10;
    }
}

_id_04B1EA8143EFB9DD( itemtype, _id_3793828403C6873E )
{
    switch ( itemtype )
    {
        case 0:
            return [ 8395, 5 ];
        case 1:
            if ( _id_3793828403C6873E == 2 )
            {
                if ( !_id_2D9D24F7C63AC143::_id_EFAB78B72D131D76( self ) )
                    return [ 0, 0, undefined ];

                lootid = self getplayerdata( level._id_5D69837CF4DB0407, "dmzWeapon", "lootItemID" );
                _id_0EC22A950F210E39 = _id_2D9D24F7C63AC143::_id_2985254128B1C262( self );
                return [ lootid, self getweaponammoclip( _id_0EC22A950F210E39 ), _id_0EC22A950F210E39 ];
            }

            _id_0EC22A950F210E39 = _id_7E52B56769FA7774::_id_13ECF3644442A3E7( self, _id_3793828403C6873E );

            if ( !isdefined( _id_0EC22A950F210E39 ) )
                return [ 0, 0, undefined ];

            _id_AB501F397D3CD312 = _id_2669878CF5A1B6BC::getweaponrootname( _id_0EC22A950F210E39 );
            variantid = _id_0EC22A950F210E39.variantid;

            if ( !isdefined( _id_0EC22A950F210E39.variantid ) )
                variantid = 0;

            ref = _id_AB501F397D3CD312 + "_variant_" + variantid;
            lootid = _id_600B944A95C3A7BF::_id_A50B607D2500DDA5( ref, "weapon" );
            return [ lootid, self getweaponammoclip( _id_0EC22A950F210E39 ), _id_0EC22A950F210E39 ];
        case 10:
            lootid = _id_2D9D24F7C63AC143::_id_6196D9EA9A30E609( _id_3793828403C6873E );
            quantity = 1;

            if ( _id_2D9D24F7C63AC143::_id_03C17A26CE6A4668( lootid ) )
                quantity = _id_2D9D24F7C63AC143::_id_897B29ADB37F06A7( _id_3793828403C6873E );

            return [ lootid, quantity ];
        case 2:
            slot = scripts\mp\equipment::_id_4967838290CB31B9( _id_3793828403C6873E );
            _id_9BE70D6D4FF253A1 = scripts\mp\equipment::getequipmentslotammo( slot );

            if ( !isdefined( self.equipment[slot] ) || !isdefined( _id_9BE70D6D4FF253A1 ) || isdefined( _id_9BE70D6D4FF253A1 ) && _id_9BE70D6D4FF253A1 <= 0 )
                return [ 0, 0 ];

            _id_FEB782334DD23A66 = scripts\engine\utility::array_find( level.br_pickups.br_equipname, self.equipment[slot] );
            lootid = _id_600B944A95C3A7BF::_id_FAE5E1D3DE32D3F7( _id_FEB782334DD23A66 );
            return [ lootid, 1 ];
        case 3:
            if ( !isdefined( self.streakdata.streaks[1] ) )
                return [ 0, 0 ];

            scriptable = level.br_pickups._id_838863C4848D4C26[self.streakdata.streaks[1].streakname];
            lootid = _id_600B944A95C3A7BF::_id_FAE5E1D3DE32D3F7( scriptable );
            return [ lootid, 1 ];
        case 4:
            _id_9BE70D6D4FF253A1 = scripts\mp\equipment::getequipmentslotammo( "super" );

            if ( !isdefined( self.equipment["super"] ) || !isdefined( _id_9BE70D6D4FF253A1 ) || isdefined( _id_9BE70D6D4FF253A1 ) && _id_9BE70D6D4FF253A1 <= 0 )
                return [ 0, 0 ];

            _id_FEB782334DD23A66 = scripts\engine\utility::array_find( level.br_pickups.br_equipname, self.equipment["super"] );
            lootid = _id_600B944A95C3A7BF::_id_FAE5E1D3DE32D3F7( _id_FEB782334DD23A66 );
            return [ lootid, 1 ];
        default:
            return;
    }
}

_id_5711A00587F71794( player )
{
    if ( !scripts\mp\loot::_id_6F45E7311F77EAC4( player ) )
        return 0;

    if ( !isdefined( player._id_02FA5B49969DEF47 ) )
        return 0;

    if ( !isdefined( player._id_02FA5B49969DEF47._id_46A3A8565AC0C17C ) )
        return 0;

    _id_46A3A8565AC0C17C = player._id_02FA5B49969DEF47._id_46A3A8565AC0C17C;

    switch ( _id_46A3A8565AC0C17C )
    {
        case 11:
        case 9:
            return 1;
        default:
            return 0;
    }
}

_id_564C579AE581A82D( contents )
{
    _id_1C1DD30A3C77139C = [];

    foreach ( key, item in contents )
    {
        _id_1C1DD30A3C77139C[key] = spawnstruct();
        _id_1C1DD30A3C77139C[key].lootid = item["lootID"];
        _id_1C1DD30A3C77139C[key].quantity = item["quantity"];
        _id_1C1DD30A3C77139C[key].index = item["index"];

        if ( isdefined( item["noExtract"] ) )
            _id_1C1DD30A3C77139C[key]._id_338E098F5CBFDA5B = item["noExtract"];
    }

    return _id_1C1DD30A3C77139C;
}
