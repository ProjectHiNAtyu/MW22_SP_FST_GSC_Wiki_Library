// IW9 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

_id_BF4FD0B5A7C2F528()
{
    if ( !getdvarint( "dvar_56D4C1121BFFCDF1", 1 ) )
        return;

    if ( scripts\mp\utility\game::getsubgametype() == "dmz" || scripts\mp\utility\game::getsubgametype() == "exgm" )
        return;

    level._id_41F4BC9EE8C7C9C6 = spawnstruct();
    _id_7630FA0C7B8A8999();
    inittablets();
    scripts\mp\utility\disconnect_event_aggregator::registerondisconnecteventcallback( ::onplayerdisconnect );
    _id_5238DEE479BBF7FB::setupcirclepeek();
    game["dialog"]["mission_gen_accept"] = "mission_mission_gen_accept";
    game["dialog"]["mission_misc_success"] = "contract_misc_success";
    game["dialog"]["mission_obj_change"] = "mission_mission_obj_change";
    game["dialog"]["mission_obj_moved"] = "mission_mission_obj_moved";
    game["dialog"]["mission_obj_next_ptarget"] = "mission_mission_obj_next_ptarget";
    game["dialog"]["mission_obj_next_nptarget"] = "mission_mission_obj_next_nptarget";
    game["dialog"]["mission_obj_warning_time"] = "mission_mission_obj_warning_time";
    game["dialog"]["mission_obj_warning_capture"] = "mission_mission_obj_warning_capture";
    game["dialog"]["mission_obj_circle_fail"] = "mission_mission_obj_circle_fail";
    game["dialog"]["mission_gen_fail"] = "mission_mission_gen_fail";
    game["dialog"]["mission_teammate_down"] = "mission_teammate_down";
    game["dialog"]["mission_enemy_down"] = "mission_enemy_down";
    level._effect["vfx_dom_flare"] = loadfx( "vfx/iw8_br/gameplay/vfx_br_flare_dom" );
    level._effect["vfx_revive_flare"] = loadfx( "vfx/iw8_br/gameplay/vfx_br_flare_revive" );
    level._effect["vfx_smktrail_mortar"] = loadfx( "vfx/iw8_br/gameplay/vfx_br_flare_smktrail" );
    level._effect["vfx_marker_base_orange_pulse"] = loadfx( "vfx/iw8_br/gameplay/vfx_br_tr_marker.vfx" );
    level.brmodevariantrewardcullfunc = undefined;
}

_id_7630FA0C7B8A8999()
{
    _id_056EDBAF6AE77E7E = tablelookupgetnumrows( "mp/br_contracts.csv" );
    level._id_41F4BC9EE8C7C9C6._id_7BA7458B5FC820F7 = [];
    level._id_41F4BC9EE8C7C9C6._id_766F9DE01948C219 = [];
    level._id_41F4BC9EE8C7C9C6._id_8764D5E454E66EA3 = [];
    level._id_41F4BC9EE8C7C9C6._id_B6FAE9C9655C73BF = [];
    level._id_41F4BC9EE8C7C9C6._id_AB841CFACA2F23AD = [];
    level._id_41F4BC9EE8C7C9C6._id_8F51BBE0D6629B2C = [];
    level._id_41F4BC9EE8C7C9C6._id_8E0F287A7B13DA80 = [];
    level._id_41F4BC9EE8C7C9C6.rewards = spawnstruct();
    level._id_41F4BC9EE8C7C9C6.rewards.categorytogroup = [];
    level._id_41F4BC9EE8C7C9C6.rewards.grouptorewards = [];
    level._id_41F4BC9EE8C7C9C6.rewards.scalertoscaleinfo = [];
    level._id_41F4BC9EE8C7C9C6.rewards.rewardtotype = [];
    level._id_41F4BC9EE8C7C9C6.rewards.rewardtovalue = [];
    level._id_41F4BC9EE8C7C9C6.tiers = [];

    for ( _id_CF471964FC31F4EE = 0; _id_CF471964FC31F4EE < _id_056EDBAF6AE77E7E; _id_CF471964FC31F4EE++ )
    {
        _id_7BA7458B5FC820F7 = spawnstruct();
        _id_7BA7458B5FC820F7.index = _id_CF471964FC31F4EE;
        _id_7BA7458B5FC820F7.enabled = int( tablelookupbyrow( "mp/br_contracts.csv", _id_CF471964FC31F4EE, 1 ) );
        _id_7BA7458B5FC820F7.ref = tablelookupbyrow( "mp/br_contracts.csv", _id_CF471964FC31F4EE, 0 );
        _id_7BA7458B5FC820F7._id_A0CE8000D303764C = tablelookupbyrow( "mp/br_contracts.csv", _id_CF471964FC31F4EE, 2 );
        _id_7BA7458B5FC820F7.funcs = [];

        switch ( _id_7BA7458B5FC820F7.ref )
        {
            case "dom":
                _id_25E2B333B4736A48::_id_FB7271D5EE18B98D( _id_7BA7458B5FC820F7 );
                break;
            case "assassination":
                _id_02BDEFC4B5300716::_id_FB7271D5EE18B98D( _id_7BA7458B5FC820F7 );
                break;
            case "vip":
                _id_160D0F1B81840667::_id_FB7271D5EE18B98D( _id_7BA7458B5FC820F7 );
                break;
            case "scavenger":
                _id_283E1E9E47346FDC::_id_FB7271D5EE18B98D( _id_7BA7458B5FC820F7 );
                break;
            case "timedrun":
                _id_280C491864F4733C::_id_FB7271D5EE18B98D( _id_7BA7458B5FC820F7 );
                break;
            case "demo":
                _id_4E77EB48DF5875EE::_id_FB7271D5EE18B98D( _id_7BA7458B5FC820F7 );
                break;
            case "intel":
                _id_1C9FA9BFB0A2FD44::_id_FB7271D5EE18B98D( _id_7BA7458B5FC820F7 );
                break;
            case "safecracker":
                _id_29E75E5EBECA383D::_id_FB7271D5EE18B98D( _id_7BA7458B5FC820F7 );
                break;
            case "champion":
                _id_024E8AFC4332EFA8::_id_FB7271D5EE18B98D( _id_7BA7458B5FC820F7 );
                break;
            case "strongholdInfil":
                _id_28A1EB678D22E4E3::_id_FB7271D5EE18B98D( _id_7BA7458B5FC820F7 );
                break;
            case "searchseizure":
                _id_2190C693B7121AB3::_id_FB7271D5EE18B98D( _id_7BA7458B5FC820F7 );
                break;
            case "dom_legacy":
            case "assassination_legacy":
            case "scavenger_legacy":
            case "timedrun_legacy":
            case "vip_legacy":
                break;
            default:
        }

        level._id_41F4BC9EE8C7C9C6._id_7BA7458B5FC820F7[level._id_41F4BC9EE8C7C9C6._id_7BA7458B5FC820F7.size] = _id_7BA7458B5FC820F7;
        level._id_41F4BC9EE8C7C9C6._id_766F9DE01948C219[_id_7BA7458B5FC820F7.ref] = _id_7BA7458B5FC820F7;
        level._id_41F4BC9EE8C7C9C6._id_8764D5E454E66EA3[_id_7BA7458B5FC820F7._id_A0CE8000D303764C] = _id_7BA7458B5FC820F7;
    }

    _id_4DB88B018963D039 = tablelookupgetnumrows( "mp/brmissions.csv" );

    for ( _id_82A1684FCFE6E4F5 = 0; _id_82A1684FCFE6E4F5 < _id_4DB88B018963D039; _id_82A1684FCFE6E4F5++ )
    {
        state = spawnstruct();
        state.index = int( tablelookupbyrow( "mp/brmissions.csv", _id_82A1684FCFE6E4F5, 0 ) );
        state.ref = tablelookupbyrow( "mp/brmissions.csv", _id_82A1684FCFE6E4F5, 1 );
        state._id_1BBEB265EF74BC60 = tablelookupbyrow( "mp/brmissions.csv", _id_82A1684FCFE6E4F5, 18 );
        level._id_41F4BC9EE8C7C9C6._id_8F51BBE0D6629B2C[state.ref] = state;
    }
}

inittablets()
{
    level._id_41F4BC9EE8C7C9C6.activetablets = [];
    level._id_41F4BC9EE8C7C9C6._id_294684D6A0DEEF46 = [];
    level._id_41F4BC9EE8C7C9C6._id_546B3948246E4AA3 = [];
    level._id_41F4BC9EE8C7C9C6._id_B6012B6FFDB53601 = [];
    _id_64D2F24DF5D49616 = 0.0;
    _id_D1358DA240D157C5 = getdvarfloat( "dvar_4EC62B4599196026", 0.667 );

    foreach ( type in level._id_41F4BC9EE8C7C9C6._id_7BA7458B5FC820F7 )
    {
        if ( !type.enabled )
            continue;

        level._id_41F4BC9EE8C7C9C6._id_546B3948246E4AA3[type._id_A0CE8000D303764C] = 0;
        level._id_41F4BC9EE8C7C9C6._id_B6012B6FFDB53601[type._id_A0CE8000D303764C] = 0;
        _id_E0D1E3A2B6F5323A = getentitylessscriptablearray( type._id_A0CE8000D303764C );

        if ( isdefined( type._id_2F8B14DBB63CC32A ) )
            _id_64D2F24DF5D49616 = type._id_2F8B14DBB63CC32A;
        else
            _id_64D2F24DF5D49616 = _id_D1358DA240D157C5;

        _id_6D130EBB53AD2136 = getdvarfloat( "dvar_341FD6B76F01C2E8", 1200.0 );

        if ( _id_6D130EBB53AD2136 > 0 )
        {
            _id_7BEA6D9F75C96CEF = 0;

            foreach ( _id_15B89FF206500554 in level.br_armory_kiosk.scriptables )
            {
                _id_7BA908D45C350CA4 = getlootscriptablearrayinradius( type._id_A0CE8000D303764C, undefined, _id_15B89FF206500554.origin, _id_6D130EBB53AD2136 );

                foreach ( _id_EDBA0A1C91AB84BF in _id_7BA908D45C350CA4 )
                {
                    if ( istrue( _id_EDBA0A1C91AB84BF.startdisabled ) )
                        continue;

                    _id_EDBA0A1C91AB84BF.startdisabled = 1;
                    _id_7BEA6D9F75C96CEF++;
                }
            }

            for ( _id_AC0E594AC96AA3A8 = _id_E0D1E3A2B6F5323A.size - 1; _id_AC0E594AC96AA3A8 >= 0 && _id_7BEA6D9F75C96CEF; _id_AC0E594AC96AA3A8-- )
            {
                if ( istrue( _id_E0D1E3A2B6F5323A[_id_AC0E594AC96AA3A8].startdisabled ) )
                {
                    _id_E0D1E3A2B6F5323A[_id_AC0E594AC96AA3A8] = _id_E0D1E3A2B6F5323A[_id_E0D1E3A2B6F5323A.size - 1];
                    _id_E0D1E3A2B6F5323A[_id_E0D1E3A2B6F5323A.size - 1] = undefined;
                    _id_7BEA6D9F75C96CEF--;
                }
            }
        }

        for ( _id_AC0E594AC96AA3A8 = _id_E0D1E3A2B6F5323A.size - 1; _id_AC0E594AC96AA3A8 >= 0; _id_AC0E594AC96AA3A8-- )
        {
            tablet = _id_E0D1E3A2B6F5323A[_id_AC0E594AC96AA3A8];
            tablet tabletinit( type );

            if ( !tablet.init || _id_4948CDF739393D2D::_id_F0201365C368CF88( tablet.origin ) )
            {
                _id_E0D1E3A2B6F5323A[_id_AC0E594AC96AA3A8].startdisabled = 1;
                _id_E0D1E3A2B6F5323A[_id_AC0E594AC96AA3A8] = _id_E0D1E3A2B6F5323A[_id_E0D1E3A2B6F5323A.size - 1];
                _id_E0D1E3A2B6F5323A[_id_E0D1E3A2B6F5323A.size - 1] = undefined;
            }
        }

        if ( _id_E0D1E3A2B6F5323A.size )
            setobjectivetypesomvarbit( type );

        _id_2C3363605ABB4836 = _id_E0D1E3A2B6F5323A.size * _id_64D2F24DF5D49616;
        _id_5731F7181809474A = int( _id_2C3363605ABB4836 );
        _id_C678B652D11243B9 = _id_2C3363605ABB4836 - _id_5731F7181809474A;

        if ( randomfloat( 1.0 ) < _id_C678B652D11243B9 )
            _id_5731F7181809474A++;

        for ( _id_AC0E594AC96AA3A8 = 0; _id_AC0E594AC96AA3A8 < _id_5731F7181809474A; _id_AC0E594AC96AA3A8++ )
        {
            _id_2ADBA961C731BAF6 = randomintrange( 0, _id_E0D1E3A2B6F5323A.size );
            tablet = _id_E0D1E3A2B6F5323A[_id_2ADBA961C731BAF6];
            _id_E0D1E3A2B6F5323A[_id_2ADBA961C731BAF6].startdisabled = 1;
            level._id_41F4BC9EE8C7C9C6._id_294684D6A0DEEF46[level._id_41F4BC9EE8C7C9C6._id_294684D6A0DEEF46.size] = _id_E0D1E3A2B6F5323A[_id_2ADBA961C731BAF6];
            _id_E0D1E3A2B6F5323A[_id_2ADBA961C731BAF6] = _id_E0D1E3A2B6F5323A[_id_E0D1E3A2B6F5323A.size - 1];
            _id_E0D1E3A2B6F5323A[_id_E0D1E3A2B6F5323A.size - 1] = undefined;
        }
    }

    _id_18D89C513B75CAF6 = [];
    _id_7B18BF75C63CF8BE = getdvarint( "dvar_61D045AA9B2D5565", 1 );

    if ( _id_7B18BF75C63CF8BE > 0 && isdefined( level._id_DBB3DD5AB77CCD48 ) )
    {
        foreach ( _id_B205D90302DA2F07 in level._id_DBB3DD5AB77CCD48 )
            _id_18D89C513B75CAF6[_id_B205D90302DA2F07] = _id_7B18BF75C63CF8BE;
    }

    _id_F7561229EB9C2C64 = 0;

    foreach ( type in level._id_41F4BC9EE8C7C9C6._id_7BA7458B5FC820F7 )
    {
        _id_E0D1E3A2B6F5323A = getlootscriptablearray( type._id_A0CE8000D303764C );

        if ( type.enabled )
        {
            _id_F7561229EB9C2C64 = _id_F7561229EB9C2C64 + _id_E0D1E3A2B6F5323A.size;

            foreach ( tablet in _id_E0D1E3A2B6F5323A )
            {
                level._id_41F4BC9EE8C7C9C6.activetablets[level._id_41F4BC9EE8C7C9C6.activetablets.size] = tablet;

                if ( !istrue( tablet.startdisabled ) && _id_18D89C513B75CAF6.size > 0 )
                {
                    _id_B205D90302DA2F07 = _id_5DEF7AF2A9F04234::_id_6CC445C02B5EFFAC( tablet.origin );

                    if ( isdefined( _id_18D89C513B75CAF6[_id_B205D90302DA2F07] ) )
                    {
                        _id_18D89C513B75CAF6[_id_B205D90302DA2F07]--;

                        if ( !_id_18D89C513B75CAF6[_id_B205D90302DA2F07] )
                            _id_18D89C513B75CAF6[_id_B205D90302DA2F07] = undefined;
                    }
                }
            }

            continue;
        }

        foreach ( tablet in _id_E0D1E3A2B6F5323A )
            tablet thread tablethide();
    }

    if ( _id_18D89C513B75CAF6.size )
    {
        level._id_41F4BC9EE8C7C9C6._id_294684D6A0DEEF46 = scripts\engine\utility::array_randomize( level._id_41F4BC9EE8C7C9C6._id_294684D6A0DEEF46 );

        for ( _id_AC0E594AC96AA3A8 = 0; _id_AC0E594AC96AA3A8 < level._id_41F4BC9EE8C7C9C6._id_294684D6A0DEEF46.size; _id_AC0E594AC96AA3A8++ )
        {
            tablet = level._id_41F4BC9EE8C7C9C6._id_294684D6A0DEEF46[_id_AC0E594AC96AA3A8];
            _id_B205D90302DA2F07 = _id_5DEF7AF2A9F04234::_id_6CC445C02B5EFFAC( tablet.origin );

            if ( isdefined( _id_18D89C513B75CAF6[_id_B205D90302DA2F07] ) )
            {
                tablet tabletshow();
                _id_18D89C513B75CAF6[_id_B205D90302DA2F07]--;

                if ( !_id_18D89C513B75CAF6[_id_B205D90302DA2F07] )
                {
                    _id_18D89C513B75CAF6[_id_B205D90302DA2F07] = undefined;

                    if ( !_id_18D89C513B75CAF6.size )
                        break;
                }
            }
        }
    }

    foreach ( tablet in level._id_41F4BC9EE8C7C9C6.activetablets )
    {
        if ( istrue( tablet.startdisabled ) )
        {
            tablet thread tablethide();
            continue;
        }

        tablet tabletshow();
    }

    foreach ( tablet in level._id_41F4BC9EE8C7C9C6._id_294684D6A0DEEF46 )
        tablet thread tablethide();

    _id_3CD9B1B9F24084FA = level._id_41F4BC9EE8C7C9C6.activetablets.size;
    _id_89053505DA6157D0 = level._id_41F4BC9EE8C7C9C6._id_294684D6A0DEEF46.size;
    _id_715028F54BAD19A1::branalytics_inittablets( _id_F7561229EB9C2C64, _id_3CD9B1B9F24084FA, _id_89053505DA6157D0, _id_64D2F24DF5D49616 );

    if ( _id_362C58E8BB39BCDA::isfeatureenabled( "tabletReplace" ) )
        level._id_41F4BC9EE8C7C9C6 thread tabletreplace();
    else
        level._id_41F4BC9EE8C7C9C6 thread delayedshowtablets();

    level notify( "contractmanager_inittablets_done" );
}

setobjectivetypesomvarbit( type )
{
    index = _id_3D262D56274BD22E( type.ref );
    setomnvarbit( "ui_br_objective_types", index, 1 );
}

tabletreplace()
{
    if ( !isdefined( level.br_level ) )
        return;

    scripts\mp\flags::gameflagwait( "prematch_done" );
    level._id_41F4BC9EE8C7C9C6._id_294684D6A0DEEF46 = scripts\engine\utility::array_randomize( level._id_41F4BC9EE8C7C9C6._id_294684D6A0DEEF46 );
    _id_FB4145CF6A25541E = 0;
    _id_40FB495A4451D505 = level.tabletreplacefrequency;
    _id_AC0E594AC96AA3A8 = 0;

    while ( _id_AC0E594AC96AA3A8 < level._id_41F4BC9EE8C7C9C6._id_294684D6A0DEEF46.size )
    {
        tablet = level._id_41F4BC9EE8C7C9C6._id_294684D6A0DEEF46[_id_AC0E594AC96AA3A8];
        level waittill( "quest_started" );

        if ( isdefined( level.tabletreplacefrequency ) && level.tabletreplacefrequency != -1 )
        {
            _id_FB4145CF6A25541E++;

            if ( _id_FB4145CF6A25541E >= _id_40FB495A4451D505 )
            {
                tablet tabletshow();
                _id_40FB495A4451D505 = _id_40FB495A4451D505 + level.tabletreplacefrequency;
                _id_AC0E594AC96AA3A8++;
            }

            continue;
        }

        tablet tabletshow();
        _id_AC0E594AC96AA3A8++;
    }
}

_id_FE5D4D0A6A530B1E( _id_1BBEB265EF74BC60, origin, angles )
{
    foreach ( data in level._id_41F4BC9EE8C7C9C6._id_7BA7458B5FC820F7 )
    {
        ref = data.ref;

        if ( ref == _id_1BBEB265EF74BC60 )
        {
            _id_EE6EA77813E3C559 = spawnscriptable( data._id_A0CE8000D303764C, origin, angles );
            _id_7E52B56769FA7774::registerscriptableinstance( _id_EE6EA77813E3C559 );
            _id_EE6EA77813E3C559 tabletinit( data );
            _id_EE6EA77813E3C559 tabletshow();
            return _id_EE6EA77813E3C559;
        }
    }
}

delayedshowtablets()
{
    if ( !isdefined( level.br_level ) )
        return;

    _id_0046599DAB79A549 = level.br_level.br_circledelaytimes.size - 1 - getdvarint( "dvar_96878DA693689CCD", 4 );
    _id_F5F66E7F9CB52C09 = getdvarfloat( "dvar_743253D28CD0D1F7", 0.3 );
    scripts\mp\flags::gameflagwait( "prematch_done" );
    _id_0495D2ED937E965E = [];

    for ( _id_AC0E594AC96AA3A8 = 0; _id_AC0E594AC96AA3A8 < level._id_41F4BC9EE8C7C9C6._id_294684D6A0DEEF46.size; _id_AC0E594AC96AA3A8++ )
    {
        tablet = level._id_41F4BC9EE8C7C9C6._id_294684D6A0DEEF46[_id_AC0E594AC96AA3A8];
        tablet.circleindex = _id_2695A20D4011076D::getcircleindexforpoint( tablet.origin );

        if ( tablet.circleindex >= 0 )
            _id_0495D2ED937E965E[_id_0495D2ED937E965E.size] = tablet;
    }

    level._id_41F4BC9EE8C7C9C6._id_294684D6A0DEEF46 = scripts\engine\utility::array_randomize( _id_0495D2ED937E965E );

    for (;;)
    {
        level waittill( "br_circle_set" );

        if ( !level.br_circle.circleindex )
        {
            _id_715028F54BAD19A1::branalytics_delayedshowtablets( 0, _id_F5F66E7F9CB52C09, _id_0495D2ED937E965E.size, 0 );
            continue;
        }

        _id_0495D2ED937E965E = [];

        for ( _id_AC0E594AC96AA3A8 = 0; _id_AC0E594AC96AA3A8 < level._id_41F4BC9EE8C7C9C6._id_294684D6A0DEEF46.size; _id_AC0E594AC96AA3A8++ )
        {
            tablet = level._id_41F4BC9EE8C7C9C6._id_294684D6A0DEEF46[_id_AC0E594AC96AA3A8];

            if ( tablet.circleindex >= level.br_circle.circleindex )
                _id_0495D2ED937E965E[_id_0495D2ED937E965E.size] = tablet;
        }

        _id_8FA722572853FFB7 = int( ceil( _id_0495D2ED937E965E.size * _id_F5F66E7F9CB52C09 ) );
        _id_CF6DC40CA9D1B393 = int( max( 0, getdvarint( "dvar_6CD10C5D6E2A6220", 100 ) - level._id_41F4BC9EE8C7C9C6.activetablets.size ) );
        _id_8FA722572853FFB7 = int( min( _id_8FA722572853FFB7, _id_CF6DC40CA9D1B393 ) );

        for ( _id_AC0E594AC96AA3A8 = 0; _id_AC0E594AC96AA3A8 < _id_8FA722572853FFB7; _id_AC0E594AC96AA3A8++ )
        {
            tablet = _id_0495D2ED937E965E[_id_AC0E594AC96AA3A8];
            tablet tabletshow();
        }

        level._id_41F4BC9EE8C7C9C6._id_294684D6A0DEEF46 = [];

        for ( _id_AC0E594AC96AA3A8 = _id_8FA722572853FFB7; _id_AC0E594AC96AA3A8 < _id_0495D2ED937E965E.size; _id_AC0E594AC96AA3A8++ )
            level._id_41F4BC9EE8C7C9C6._id_294684D6A0DEEF46[level._id_41F4BC9EE8C7C9C6._id_294684D6A0DEEF46.size] = _id_0495D2ED937E965E[_id_AC0E594AC96AA3A8];

        _id_715028F54BAD19A1::branalytics_delayedshowtablets( level.br_circle.circleindex, _id_F5F66E7F9CB52C09, _id_0495D2ED937E965E.size, _id_8FA722572853FFB7 );

        if ( level.br_circle.circleindex >= _id_0046599DAB79A549 )
            break;
    }
}

disablealltablets()
{
    foreach ( type in level._id_41F4BC9EE8C7C9C6._id_7BA7458B5FC820F7 )
    {
        _id_E0D1E3A2B6F5323A = getlootscriptablearray( type._id_A0CE8000D303764C );

        if ( type.enabled )
        {
            foreach ( tablet in _id_E0D1E3A2B6F5323A )
                tablet tablethide();
        }
    }
}

tablethide()
{
    self endon( "show" );

    if ( isdefined( level._id_41F4BC9EE8C7C9C6._id_B6012B6FFDB53601 ) && isdefined( level._id_41F4BC9EE8C7C9C6._id_B6012B6FFDB53601[self.type] ) )
        level._id_41F4BC9EE8C7C9C6._id_B6012B6FFDB53601[self.type]++;

    scripts\mp\flags::gameflagwait( "prematch_done" );
    _id_7E52B56769FA7774::loothide( self );
}

tabletshow( _id_132F5385C2F23A96 )
{
    if ( isdefined( level._id_41F4BC9EE8C7C9C6._id_546B3948246E4AA3 ) && isdefined( level._id_41F4BC9EE8C7C9C6._id_546B3948246E4AA3[self.type] ) )
        level._id_41F4BC9EE8C7C9C6._id_546B3948246E4AA3[self.type]++;

    self notify( "show" );
    part = self.type;
    self setscriptablepartstate( part, "visible" );

    if ( !scripts\engine\utility::array_contains( level._id_41F4BC9EE8C7C9C6.activetablets, self ) )
        level._id_41F4BC9EE8C7C9C6.activetablets[level._id_41F4BC9EE8C7C9C6.activetablets.size] = self;

    if ( !istrue( _id_132F5385C2F23A96 ) )
        _id_715028F54BAD19A1::branalytics_spawntablet( self );
}

tabletinit( type )
{
    if ( isdefined( self.init ) )
        return;

    self.init = 1;
    self.tablettype = type;
    tabletinit = type.funcs["onInit"];

    if ( isdefined( tabletinit ) )
    {
        _id_B8EBE3F71A08AB40 = spawnstruct();
        _id_B8EBE3F71A08AB40.teams = [];
        _id_B8EBE3F71A08AB40.type = type;
        self._id_B8EBE3F71A08AB40 = _id_B8EBE3F71A08AB40;
        _id_B8EBE3F71A08AB40.tablet = self;
        self.init = _id_B8EBE3F71A08AB40 [[ tabletinit ]]();

        if ( !self.init )
            _id_715028F54BAD19A1::branalytics_invalidtablet( self );
    }

    return self.init;
}

_id_4D5DD20E109455F2( instance )
{
    level._id_41F4BC9EE8C7C9C6.activetablets = scripts\engine\utility::array_remove( level._id_41F4BC9EE8C7C9C6.activetablets, instance );
}

_id_8AD1B4DDC1FD852A( team, player )
{
    _id_715028F54BAD19A1::branalytics_missionstart( self, player );
    level._id_41F4BC9EE8C7C9C6._id_B6FAE9C9655C73BF[team] = self;
    level._id_41F4BC9EE8C7C9C6._id_8E0F287A7B13DA80[level._id_41F4BC9EE8C7C9C6._id_8E0F287A7B13DA80.size] = self;

    if ( !isdefined( self.teams ) )
        self.teams = [];

    self.teams[self.teams.size] = team;
    self._id_0D154AC2657C5F44 = player;
    level notify( "quest_started", team );
}

_id_93663FE58D95F174( _id_5E671FC71E72D5E8 )
{
    if ( _id_362C58E8BB39BCDA::isbrgametypefuncdefined( "contractEnd" ) )
        _id_362C58E8BB39BCDA::_id_D72AFDCCEDFC9B07( "contractEnd", self.type.ref, self.teams[0], isdefined( _id_5E671FC71E72D5E8 ) && _id_5E671FC71E72D5E8 == self.teams[0] );

    _id_C893965B0B5CC806 = isdefined( _id_5E671FC71E72D5E8 );

    foreach ( team in self.teams )
    {
        _id_DA1E4A8F39765732 = _id_C893965B0B5CC806 && _id_5E671FC71E72D5E8 == team;
        uiobjectivehidefromteam( team );
        level._id_41F4BC9EE8C7C9C6._id_B6FAE9C9655C73BF[team] = undefined;

        if ( _id_DA1E4A8F39765732 )
        {
            players = scripts\mp\utility\teams::getteamdata( team, "players" );

            foreach ( player in players )
            {
                if ( !isdefined( player.brmissionscompleted ) )
                    player.brmissionscompleted = 0;

                player.brmissionscompleted++;
                player _id_2CEDCC356F1B9FC8::updatebrscoreboardstat( "missionsCompleted", player.brmissionscompleted );
            }

            if ( !isdefined( level._id_41F4BC9EE8C7C9C6._id_AB841CFACA2F23AD[team] ) )
                level._id_41F4BC9EE8C7C9C6._id_AB841CFACA2F23AD[team] = 0;

            level._id_41F4BC9EE8C7C9C6._id_AB841CFACA2F23AD[team]++;
        }
    }

    level._id_41F4BC9EE8C7C9C6._id_8E0F287A7B13DA80 = scripts\engine\utility::array_remove( level._id_41F4BC9EE8C7C9C6._id_8E0F287A7B13DA80, self );
}

_id_BB413728BC5231D0( instance )
{
    _id_A0CE8000D303764C = instance.type;

    if ( isdefined( level._id_41F4BC9EE8C7C9C6._id_8764D5E454E66EA3[_id_A0CE8000D303764C].funcs["onTeamAssigned"] ) )
    {
        if ( _id_7094C7010C5E3827( self.team ) )
            return;

        instance tablethide();
        instance._id_B8EBE3F71A08AB40 _id_8AD1B4DDC1FD852A( self.team, self );
        instance._id_B8EBE3F71A08AB40 [[ level._id_41F4BC9EE8C7C9C6._id_8764D5E454E66EA3[_id_A0CE8000D303764C].funcs["onTeamAssigned"] ]]();
        _id_6AFF3948CF4CCA03::modify_plunder_itemsinworld( "brloot_mission_tablet", -1 );

        if ( _id_362C58E8BB39BCDA::isbrgametypefuncdefined( "contractStart" ) )
            _id_362C58E8BB39BCDA::runbrgametypefunc( "contractStart", instance._id_B8EBE3F71A08AB40.type.ref, self.team );
    }
    else
    {

    }
}

_id_7094C7010C5E3827( team )
{
    return isdefined( level._id_41F4BC9EE8C7C9C6 ) && isdefined( level._id_41F4BC9EE8C7C9C6._id_B6FAE9C9655C73BF ) && isdefined( level._id_41F4BC9EE8C7C9C6._id_B6FAE9C9655C73BF[team] );
}

_id_22239D4CFF05D0A1( team )
{
    if ( isdefined( level._id_41F4BC9EE8C7C9C6 ) && isdefined( level._id_41F4BC9EE8C7C9C6._id_B6FAE9C9655C73BF ) )
        return level._id_41F4BC9EE8C7C9C6._id_B6FAE9C9655C73BF[team];

    return undefined;
}

dangercircletick( _id_819EDACDACB810E4, _id_E86632D645C137D0, _id_52D59C928EB97C81 )
{
    activetablets = [];

    if ( !scripts\cp_mp\utility\game_utility::_id_FA7BFCC1D68B7B73() )
    {
        if ( !isdefined( level._id_41F4BC9EE8C7C9C6.activetablets ) )
            return;
        else
            activetablets = level._id_41F4BC9EE8C7C9C6.activetablets;
    }
    else
    {
        if ( !isdefined( level.questinfo ) )
            return;
        else
            activetablets = level.questinfo.activetablets;

        foreach ( _id_12461E617D024EF9 in level.questinfo.quests )
        {
            if ( isdefined( _id_12461E617D024EF9.funcs["circleTick"] ) )
            {
                foreach ( instance in _id_12461E617D024EF9.instances )
                    instance [[ _id_12461E617D024EF9.funcs["circleTick"] ]]( _id_819EDACDACB810E4, _id_52D59C928EB97C81 );
            }
        }
    }

    foreach ( tablet in activetablets )
    {
        if ( distance2dsquared( _id_819EDACDACB810E4, tablet.origin ) > _id_E86632D645C137D0 * _id_E86632D645C137D0 )
        {
            _id_7E52B56769FA7774::loothide( tablet );
            _id_6AFF3948CF4CCA03::modify_plunder_itemsinworld( "brloot_mission_tablet", -1 );
        }
    }
}

_id_1A1709943670772A()
{
    if ( !isdefined( level._id_41F4BC9EE8C7C9C6 ) )
        return;

    _id_294684D6A0DEEF46 = [];

    foreach ( tablet in level._id_41F4BC9EE8C7C9C6.activetablets )
    {
        if ( !isdefined( tablet ) || !isdefined( tablet.type ) )
            continue;

        if ( !_id_7E52B56769FA7774::isquesttablet( tablet.type ) )
            continue;

        if ( !isdefined( tablet.origin ) )
        {
            logstring( "br_contract_manager::dangerMultiCircleTick tablet does not have an origin! " + tablet.type );
            continue;
        }

        if ( !_id_58F20490049AF6AC::_id_EE854FDD1E77EFC4( tablet.origin ) )
        {
            _id_294684D6A0DEEF46[_id_294684D6A0DEEF46.size] = tablet;
            _id_7E52B56769FA7774::loothide( tablet );
            _id_6AFF3948CF4CCA03::modify_plunder_itemsinworld( "brloot_mission_tablet", -1 );
        }
    }

    return _id_294684D6A0DEEF46;
}

onplayerkilled( attacker, victim )
{
    if ( !isdefined( level.questinfo ) )
        return;

    foreach ( _id_12461E617D024EF9 in level.questinfo.quests )
    {
        if ( isdefined( _id_12461E617D024EF9.funcs["onPlayerKilled"] ) )
        {
            foreach ( instance in _id_12461E617D024EF9.instances )
                instance [[ _id_12461E617D024EF9.funcs["onPlayerKilled"] ]]( attacker, victim );
        }
    }
}

onplayerconnect( player )
{
    if ( !isdefined( player.team ) || !isdefined( level.questinfo ) )
        return;

    setquestrewardtier( player.team, getquestrewardtier( player.team ) );
}

onplayerdisconnect( player )
{
    if ( !isdefined( level.questinfo ) )
        return;

    foreach ( _id_12461E617D024EF9 in level.questinfo.quests )
    {
        if ( isdefined( _id_12461E617D024EF9.funcs["onPlayerDisconnect"] ) )
        {
            foreach ( instance in _id_12461E617D024EF9.instances )
                instance [[ _id_12461E617D024EF9.funcs["onPlayerDisconnect"] ]]( player );
        }
    }
}

onplayerentergulag()
{
    if ( !isdefined( level._id_41F4BC9EE8C7C9C6 ) )
        return;

    if ( _id_7094C7010C5E3827( self.team ) )
    {
        _id_B8EBE3F71A08AB40 = _id_22239D4CFF05D0A1( self.team );

        if ( isdefined( _id_B8EBE3F71A08AB40.type.funcs["onEnterGulag"] ) )
            _id_B8EBE3F71A08AB40 [[ _id_B8EBE3F71A08AB40.type.funcs["onEnterGulag"] ]]( self );
    }
}

onplayerrespawn()
{
    if ( !isdefined( level._id_41F4BC9EE8C7C9C6 ) )
        return;

    self setclientomnvar( "ui_player_spawned_notify", gettime() );

    if ( _id_7094C7010C5E3827( self.team ) )
    {
        _id_B8EBE3F71A08AB40 = _id_22239D4CFF05D0A1( self.team );

        if ( isdefined( _id_B8EBE3F71A08AB40.type.funcs["onPlayerRespawn"] ) )
            _id_B8EBE3F71A08AB40 [[ _id_B8EBE3F71A08AB40.type.funcs["onPlayerRespawn"] ]]( self );
    }
}

packsplashparambits( _id_D4FC3B4E84704775, _id_501265B5FE210821 )
{
    value = _id_D4FC3B4E84704775;
    value = value | _id_501265B5FE210821 << 5;
    return value;
}

_id_878EBCC241B54505( _id_F7B6CC6C062A7A43, _id_D4FC3B4E84704775, _id_501265B5FE210821, team, delay )
{
    if ( isdefined( delay ) && delay > 0 )
        wait( delay );

    params = packsplashparambits( _id_D4FC3B4E84704775, _id_501265B5FE210821 );
    players = scripts\mp\utility\teams::getteamdata( team, "players" );

    foreach ( player in players )
        player thread scripts\mp\hud_message::showsplash( _id_F7B6CC6C062A7A43, params );
}

displayteamsplash( team, _id_E9AE765E2C4FE816, params )
{
    players = scripts\mp\utility\teams::getteamdata( team, "players" );
    displaysplashtoplayers( players, _id_E9AE765E2C4FE816, params );
}

displaysplashtoplayers( players, _id_E9AE765E2C4FE816, params )
{
    foreach ( player in players )
    {
        if ( player _id_2CEDCC356F1B9FC8::isplayeringulag() )
            continue;

        if ( isbot( player ) && _id_2CEDCC356F1B9FC8::istutorial() )
            continue;

        if ( isdefined( params ) )
        {
            if ( isdefined( params.excludedplayers ) )
            {
                if ( scripts\engine\utility::array_contains( params.excludedplayers, player ) )
                    continue;
            }
        }

        displayplayersplash( player, _id_E9AE765E2C4FE816, params );
    }
}

displayplayersplash( player, _id_E9AE765E2C4FE816, params )
{
    if ( isdefined( params ) && isdefined( params.packedbits ) )
        player thread scripts\mp\hud_message::showsplash( _id_E9AE765E2C4FE816, params.packedbits );
    else if ( isdefined( params ) && isdefined( params.intvar ) )
        player thread scripts\mp\hud_message::showsplash( _id_E9AE765E2C4FE816, params.intvar );
    else
        player thread scripts\mp\hud_message::showsplash( _id_E9AE765E2C4FE816 );
}

displaysquadmessagetoplayer( _id_939B8E8818BFD5AE, state, missionid )
{
    player = _id_939B8E8818BFD5AE getentitynumber();

    if ( !isdefined( state ) )
        state = 0;

    if ( !isdefined( player ) )
        player = 0;

    if ( !isdefined( missionid ) )
        missionid = 0;

    value = 0;
    value = missionid << 12 | player << 4 | state;
    self setclientomnvar( "ui_br_expanded_obit_message", value );
}

displaysquadmessagetoteam( team, _id_939B8E8818BFD5AE, state, missionid )
{
    foreach ( player in scripts\mp\utility\teams::getteamdata( team, "players" ) )
        player displaysquadmessagetoplayer( _id_939B8E8818BFD5AE, state, missionid );
}

giveplayerpoints( player, ref )
{
    player thread scripts\mp\utility\points::_id_0366980B6A8796AE( ref );
}

giveteampoints( team, ref )
{
    foreach ( player in scripts\mp\utility\teams::getteamdata( team, "players" ) )
        player thread scripts\mp\utility\points::_id_0366980B6A8796AE( ref );
}

giveteamplunderflat( team, amount )
{
    _id_8E3C5F90E4F80A58 = getdvarfloat( "dvar_7165DAD703502609", 0.4 );
    _id_2CEFA8F8A2BA6BFE = 0;

    foreach ( player in scripts\mp\utility\teams::getteamdata( team, "players" ) )
    {
        if ( isbot( player ) && _id_2CEDCC356F1B9FC8::istutorial() )
            continue;

        _id_36773A58EB035BFF = amount;

        if ( !scripts\mp\utility\player::isreallyalive( player ) )
            _id_36773A58EB035BFF = int( amount * _id_8E3C5F90E4F80A58 );

        player _id_6AFF3948CF4CCA03::playerplunderpickup( _id_36773A58EB035BFF );
        level.br_plunder.plunder_awarded_by_missions_total = level.br_plunder.plunder_awarded_by_missions_total + _id_36773A58EB035BFF;
    }
}

giveteamplunderdistributive( players, amount )
{
    _id_6EEBCDA719CD18A1 = int( amount / players.size );

    foreach ( player in players )
    {
        if ( isbot( player ) && _id_2CEDCC356F1B9FC8::istutorial() )
            continue;

        player _id_6AFF3948CF4CCA03::playerplunderpickup( _id_6EEBCDA719CD18A1 );
        level.br_plunder.plunder_awarded_by_missions_total = level.br_plunder.plunder_awarded_by_missions_total + _id_6EEBCDA719CD18A1;
        _id_715028F54BAD19A1::trackcashevent( player, "mission", _id_6EEBCDA719CD18A1 );
    }
}

dropplunder( ammount, _id_5B7BF3433D244CDF, _id_76212928FED46301, _id_41271DE03A84A690 )
{
    if ( !istrue( level.br_plunder_enabled ) )
        return;

    _id_5C2AD86C68EAB7E9 = 0;
    _id_168EA84F2950FE38 = 1;
    _id_B590C41D9F9CE9F3 = 2;
    _id_82C3FC1E774A5A35[0] = [ "brloot_plunder_cash_uncommon_3", level.br_plunder.quantityepic, getdvarfloat( "dvar_53DD15287F7DF644", 0.2 ) ];
    _id_82C3FC1E774A5A35[1] = [ "brloot_plunder_cash_uncommon_2", level.br_plunder.quantityrare, getdvarfloat( "dvar_8FA17586AC872DA9", 0.3 ) ];
    _id_82C3FC1E774A5A35[2] = [ "brloot_plunder_cash_uncommon_1", level.br_plunder.quantitycommon, getdvarfloat( "dvar_30BF1DD438567DB0", 0.5 ) ];
    _id_403ADFAFCE8E54AE = 0;

    for ( _id_AC0E594AC96AA3A8 = 0; _id_AC0E594AC96AA3A8 < _id_82C3FC1E774A5A35.size; _id_AC0E594AC96AA3A8++ )
    {
        info = _id_82C3FC1E774A5A35[_id_AC0E594AC96AA3A8];
        _id_403ADFAFCE8E54AE = _id_403ADFAFCE8E54AE + info[_id_B590C41D9F9CE9F3];
    }

    plundertotal = 0;

    for ( _id_AC0E594AC96AA3A8 = 0; _id_AC0E594AC96AA3A8 < _id_82C3FC1E774A5A35.size; _id_AC0E594AC96AA3A8++ )
    {
        info = _id_82C3FC1E774A5A35[_id_AC0E594AC96AA3A8];
        info[_id_B590C41D9F9CE9F3] = info[_id_B590C41D9F9CE9F3] / _id_403ADFAFCE8E54AE;
        plundertotal = plundertotal + info[_id_168EA84F2950FE38] * info[_id_B590C41D9F9CE9F3];
    }

    _id_0CE1BD3FDF0FCECF = ammount / plundertotal;
    _id_F278EB5EB7F1E8BE = ammount;
    _id_C75B43B86B00CB9D = [];

    for ( _id_AC0E594AC96AA3A8 = 0; _id_AC0E594AC96AA3A8 < _id_82C3FC1E774A5A35.size; _id_AC0E594AC96AA3A8++ )
    {
        info = _id_82C3FC1E774A5A35[_id_AC0E594AC96AA3A8];
        _id_C75B43B86B00CB9D[_id_AC0E594AC96AA3A8] = int( _id_0CE1BD3FDF0FCECF * info[_id_B590C41D9F9CE9F3] );
        _id_F278EB5EB7F1E8BE = _id_F278EB5EB7F1E8BE - _id_C75B43B86B00CB9D[_id_AC0E594AC96AA3A8] * info[_id_168EA84F2950FE38];
    }

    if ( _id_F278EB5EB7F1E8BE > 0 )
    {
        for ( _id_AC0E594AC96AA3A8 = 0; _id_AC0E594AC96AA3A8 < _id_82C3FC1E774A5A35.size; _id_AC0E594AC96AA3A8++ )
        {
            info = _id_82C3FC1E774A5A35[_id_AC0E594AC96AA3A8];
            extra = int( _id_F278EB5EB7F1E8BE / info[_id_168EA84F2950FE38] );
            _id_C75B43B86B00CB9D[_id_AC0E594AC96AA3A8] = _id_C75B43B86B00CB9D[_id_AC0E594AC96AA3A8] + extra;
            _id_F278EB5EB7F1E8BE = _id_F278EB5EB7F1E8BE - extra * info[_id_168EA84F2950FE38];
        }
    }

    _id_1473580AC7CFA299 = [];

    for ( _id_AC0E594AC96AA3A8 = 0; _id_AC0E594AC96AA3A8 < _id_C75B43B86B00CB9D.size; _id_AC0E594AC96AA3A8++ )
    {
        for ( _id_AC0E5C4AC96AAA41 = 0; _id_AC0E5C4AC96AAA41 < _id_C75B43B86B00CB9D[_id_AC0E594AC96AA3A8]; _id_AC0E5C4AC96AAA41++ )
            _id_1473580AC7CFA299[_id_1473580AC7CFA299.size] = _id_AC0E594AC96AA3A8;
    }

    _id_1473580AC7CFA299 = scripts\engine\utility::array_randomize( _id_1473580AC7CFA299 );
    dropstruct = _id_7E52B56769FA7774::_id_7B9F3966A7A42003();

    for ( _id_AC0E594AC96AA3A8 = 0; _id_AC0E594AC96AA3A8 < _id_1473580AC7CFA299.size; _id_AC0E594AC96AA3A8++ )
    {
        _id_CB4FAD49263E20C4 = _id_7E52B56769FA7774::getitemdroporiginandangles( dropstruct, _id_5B7BF3433D244CDF, _id_76212928FED46301, _id_41271DE03A84A690 );
        _id_7E52B56769FA7774::spawnpickup( _id_82C3FC1E774A5A35[_id_1473580AC7CFA299[_id_AC0E594AC96AA3A8]][_id_5C2AD86C68EAB7E9], _id_CB4FAD49263E20C4, _id_82C3FC1E774A5A35[_id_1473580AC7CFA299[_id_AC0E594AC96AA3A8]][_id_168EA84F2950FE38], 1 );
    }

    level.br_plunder.plunder_awarded_by_missions_total = level.br_plunder.plunder_awarded_by_missions_total + ammount;
    level thread _id_6AFF3948CF4CCA03::dropplundersounds( _id_5B7BF3433D244CDF, _id_1473580AC7CFA299.size );
}

_id_D282041688C032B5( category )
{
    _id_1BBEB265EF74BC60 = tablelookup( "mp/brmissions.csv", 1, category, 18 );
    _id_723B8F7CB71CEB11 = tablelookup( "mp/br_contracts.csv", 0, _id_1BBEB265EF74BC60, 3 );

    if ( !isdefined( _id_723B8F7CB71CEB11 ) || _id_723B8F7CB71CEB11 == "" )
        return 0;

    return int( _id_723B8F7CB71CEB11 );
}

_id_D212A5E7A40D7C8D( _id_05A4D4A174EA2EAC, team, _id_4E031B1C97A51F99 )
{
    _id_2F0B8C1F978FD835 = tablelookup( "mp/br_contracts.csv", 0, _id_05A4D4A174EA2EAC, 7 );

    if ( isdefined( _id_2F0B8C1F978FD835 ) && _id_2F0B8C1F978FD835 != "" )
        return _id_3ACF1C0EBAF602F2::givequestrewardgroup( _id_2F0B8C1F978FD835, team, _id_4E031B1C97A51F99.origin, _id_4E031B1C97A51F99.angles );
}

_id_6DDD1EECBE562ACF( _id_2F0B8C1F978FD835, team, _id_4E031B1C97A51F99 )
{
    if ( isdefined( _id_2F0B8C1F978FD835 ) && _id_2F0B8C1F978FD835 != "" )
        return _id_3ACF1C0EBAF602F2::givequestrewardgroup( _id_2F0B8C1F978FD835, team, _id_4E031B1C97A51F99.origin, _id_4E031B1C97A51F99.angles );
}

_id_3D262D56274BD22E( ref )
{
    return level._id_41F4BC9EE8C7C9C6._id_766F9DE01948C219[ref].index;
}

getquestindex( ref )
{
    return level._id_41F4BC9EE8C7C9C6._id_8F51BBE0D6629B2C[ref].index;
}

getquesttableindex( ref )
{
    index = int( tablelookup( "mp/brmissions.csv", 1, ref, 0 ) );
    return index;
}

uiobjectiveshow( ref )
{
    index = getquestindex( ref );
    setquestindexomnvar( index );
}

uiobjectiveshowtoteam( ref, team )
{
    foreach ( player in scripts\mp\utility\teams::getteamdata( team, "players" ) )
        player uiobjectiveshow( ref );
}

uiobjectivehide()
{
    setquestindexomnvar( 0 );
}

uiobjectivehidefromteam( team )
{
    foreach ( player in scripts\mp\utility\teams::getteamdata( team, "players" ) )
        player uiobjectivehide();
}

_id_E2AA45E2C6B5DEC1( value )
{
    foreach ( player in scripts\mp\utility\teams::getteamdata( self.teams[0], "players" ) )
        player uiobjectivesetparameter( value );
}

uiobjectivesetparameter( value )
{
    self setclientomnvar( "ui_br_objective_param", value );
}

uiobjectivesetlootid( value )
{
    self setclientomnvar( "ui_br_objective_loot_id", value );
}

createquestobjicon( _id_CB8E582431CF1641, state, _id_38116998DF9814D4 )
{
    self.objectiveiconid = scripts\mp\objidpoolmanager::requestobjectiveid( 1 );

    if ( self.objectiveiconid != -1 )
    {
        scripts\mp\objidpoolmanager::objective_add_objective( self.objectiveiconid, state, ( 0, 0, 0 ), _id_CB8E582431CF1641 );
        scripts\mp\objidpoolmanager::update_objective_setbackground( self.objectiveiconid, 1 );
        objective_showtoplayersinmask( self.objectiveiconid );
        scripts\mp\objidpoolmanager::objective_set_play_intro( self.objectiveiconid, 1 );

        if ( isdefined( _id_38116998DF9814D4 ) )
            movequestobjicon( _id_38116998DF9814D4 );
    }
    else
    {

    }
}

movequestobjicon( _id_A9706ADAF7C52E27 )
{
    scripts\mp\objidpoolmanager::update_objective_position( self.objectiveiconid, _id_A9706ADAF7C52E27 );
}

showquestobjicontoplayer( player )
{
    objective_addclienttomask( self.objectiveiconid, player );
}

showquestobjicontoall( objid )
{
    objective_addalltomask( objid );
}

hidequestobjiconfromplayer( player )
{
    objective_removeclientfrommask( self.objectiveiconid, player );
}

checkforactiveobjicon()
{
    return isdefined( self.objectiveiconid );
}

deletequestobjicon()
{
    scripts\mp\objidpoolmanager::objective_playermask_hidefromall( self.objectiveiconid );
    scripts\mp\objidpoolmanager::returnobjectiveid( self.objectiveiconid );
}

utilflare_shootflare( spawn_origin, _id_1DA50610F94E1BFB, _id_30A49DC77E377647 )
{
    level endon( "game_ended" );
    _id_3E146ED5E207E635 = scripts\engine\trace::create_contents( 0, 1, 0, 1, 0, 0, 0 );
    new_position = scripts\engine\trace::ray_trace( spawn_origin + ( 0, 0, 4000 ), spawn_origin, undefined, _id_3E146ED5E207E635, undefined, 1 )["position"];

    if ( !isdefined( _id_30A49DC77E377647 ) )
        _id_30A49DC77E377647 = 0;

    if ( istrue( _id_30A49DC77E377647 ) )
        flare = spawn( "script_model", spawn_origin );
    else
        flare = spawn( "script_model", new_position );

    if ( !isdefined( flare ) )
        return;

    flare.angles = vectortoangles( ( 0, 0, 1 ) );
    flare setmodel( "equip_flare_br" );
    wait 0.5;
    flare setscriptablepartstate( "launch", "start", 0 );
    _id_3FC3DAADE1C87824 = "start";

    if ( _id_1DA50610F94E1BFB == "revive" )
        _id_3FC3DAADE1C87824 = "start_revive";
    else if ( _id_1DA50610F94E1BFB == "dmz_exfil" )
        _id_3FC3DAADE1C87824 = "start_dmz_exfil";

    flare setscriptablepartstate( "travel", _id_3FC3DAADE1C87824, 0 );
    flare thread _utilflare_lerpflare( _id_1DA50610F94E1BFB );
}

_utilflare_lerpflare( _id_1DA50610F94E1BFB )
{
    self endon( "death" );
    level endon( "game_ended" );
    movetime = 3.125;
    self moveto( self.origin + ( 0, 0, 2500 ), movetime );
    wait( movetime );
    _utilflare_flareexplode( _id_1DA50610F94E1BFB );
}

_utilflare_flareexplode( _id_1DA50610F94E1BFB )
{
    if ( !isdefined( _id_1DA50610F94E1BFB ) )
        _id_1DA50610F94E1BFB = "<undefined>";

    self setscriptablepartstate( "travel", "off", 0 );

    if ( !_utilflare_isvalidflaretype( _id_1DA50610F94E1BFB ) )
        return;

    _id_44A98E57FEB74898 = "start_" + _id_1DA50610F94E1BFB;
    self setscriptablepartstate( "explode", _id_44A98E57FEB74898, 0 );
    thread sfx_br_flare_phosphorus( _id_1DA50610F94E1BFB );
}

_utilflare_isvalidflaretype( _id_1DA50610F94E1BFB )
{
    _id_03BA45E0E07877B7 = 0;

    if ( isdefined( _id_1DA50610F94E1BFB ) )
    {
        switch ( _id_1DA50610F94E1BFB )
        {
            case "dmz_exfil":
            case "revive":
            case "dom":
                _id_03BA45E0E07877B7 = 1;
                break;
        }
    }

    return _id_03BA45E0E07877B7;
}

sfx_br_flare_phosphorus( _id_1DA50610F94E1BFB )
{
    self endon( "death" );
    level endon( "game_ended" );
    self setscriptablepartstate( "phosphorus", "start", 0 );
    wait 0.3;
    self setscriptablepartstate( "phosphorus_loop", "start", 0 );

    switch ( _id_1DA50610F94E1BFB )
    {
        case "dmz_exfil":
            wait 40;
            break;
        default:
            wait 12;
            break;
    }

    self setscriptablepartstate( "phosphorus", "end", 0 );
    wait 0.3;
    self setscriptablepartstate( "phosphorus_loop", "off", 0 );
    wait 5;
    self delete();
}

questpointgetradius( point )
{
    radius = 0;

    if ( point.spawnflags & 4 )
        radius = 256;
    else if ( point.spawnflags & 2 )
        radius = 128;
    else if ( point.spawnflags & 1 )
        radius = 168;

    return radius;
}

_id_5A15174D34F0670C( time, _id_09707FF10D99D386 )
{
    if ( !isdefined( _id_09707FF10D99D386 ) )
        _id_09707FF10D99D386 = 0;

    totaltime = time + _id_09707FF10D99D386;
    self.missiontime = gettime() + totaltime * 1000;
    _id_51D3A2B4CDE79545();
}

_id_5606274C76B4A2DF( time )
{
    self.missiontime = self.missiontime + time * 1000;
    _id_51D3A2B4CDE79545();
}

_id_51D3A2B4CDE79545()
{
    foreach ( player in scripts\mp\utility\teams::getteamdata( self.teams[0], "players" ) )
        player setclientomnvar( "ui_br_objective_countdown_timer", self.missiontime );
}

questrewardcirclepeek( team )
{
    _id_5238DEE479BBF7FB::_id_647A8C40104E4866( team );
}

_id_496ED653FAACACD2( _id_30F14EF6CD430297 )
{
    _id_20BF70E9BC435ED5 = self;

    if ( isdefined( _id_20BF70E9BC435ED5 ) && scripts\mp\utility\player::isreallyalive( _id_20BF70E9BC435ED5 ) && !_id_20BF70E9BC435ED5 _id_2CEDCC356F1B9FC8::isplayeringulag() )
        _id_20BF70E9BC435ED5 _id_7E52B56769FA7774::forcegivesuper( "super_supply_drop", 1, 0, 0, 0 );
    else
    {
        foreach ( player in scripts\mp\utility\teams::getteamdata( _id_30F14EF6CD430297, "players" ) )
        {
            if ( !isdefined( player ) )
                continue;

            if ( isdefined( _id_20BF70E9BC435ED5 ) && player == _id_20BF70E9BC435ED5 )
                continue;

            if ( !scripts\mp\utility\player::isreallyalive( player ) )
                continue;

            if ( player _id_2CEDCC356F1B9FC8::isplayeringulag() )
                continue;

            player _id_7E52B56769FA7774::forcegivesuper( "super_supply_drop", 1, 0, 0, 0 );
            break;
        }
    }
}

_id_9B6275085FBCB8F4( time )
{
    if ( _id_362C58E8BB39BCDA::isbrgametypefuncdefined( "contractTimeModify" ) )
        time = _id_362C58E8BB39BCDA::runbrgametypefunc( "contractTimeModify", self.type.ref, time );

    return time;
}

_id_F69C3E487B364F2F( time )
{
    if ( _id_362C58E8BB39BCDA::isbrgametypefuncdefined( "contractTimeAddModify" ) )
        time = _id_362C58E8BB39BCDA::runbrgametypefunc( "contractTimeAddModify", self.type.ref, time );

    return time;
}

getquestrewardtier( team )
{
    tier = level._id_41F4BC9EE8C7C9C6.tiers[team];

    if ( !isdefined( tier ) )
        tier = 1;

    return tier;
}

setquestrewardtier( team, tier )
{
    level._id_41F4BC9EE8C7C9C6.tiers[team] = tier;
    setquestrewardtierteamomnvar( team, tier );
}

addquestrewardtier( team, value )
{
    setquestrewardtier( team, getquestrewardtier( team ) + value );
}

addquestrewardtierframeend( team, value )
{
    waittillframeend;
    setquestrewardtier( team, getquestrewardtier( team ) + value );
}

_id_473AB9452660E60F( ref )
{
    index = getquesttableindex( ref );

    foreach ( team in self.teams )
    {
        players = scripts\mp\utility\teams::getteamdata( team, "players" );

        foreach ( player in players )
            player setquestindexomnvar( index );
    }
}

setquestindexteamomnvar( team, _id_5E9B1036A4CAE82F )
{
    foreach ( player in scripts\mp\utility\teams::getteamdata( team, "players" ) )
        player setquestindexomnvar( _id_5E9B1036A4CAE82F );
}

setquestindexomnvar( _id_5E9B1036A4CAE82F )
{
    self setclientomnvar( "ui_br_objective_index", _id_5E9B1036A4CAE82F );
}

setquestrewardtierteamomnvar( team, tier )
{
    foreach ( player in scripts\mp\utility\teams::getteamdata( team, "players" ) )
        player setquestrewardtieromnvar( tier );
}

setquestrewardtieromnvar( tier )
{
    self setclientomnvar( "ui_br_objective_reward_tier", tier );
}

_id_19582BA0DBCC0AB0( targetplayer, threatlevel )
{
    if ( isdefined( self.aq_targethudenabled ) && self.aq_targethudenabled && isdefined( targetplayer ) )
        entitynumber = targetplayer getentitynumber();
    else
        entitynumber = -1;

    entitynumber = entitynumber + 1;
    value = threatlevel << 8 | entitynumber;
    self setclientomnvar( "ui_br_assassination_target", value );
}

_id_8A25384BACDD7B79( _id_EE6EA77813E3C559, _id_A0CE8000D303764C )
{
    if ( !isdefined( level._id_41F4BC9EE8C7C9C6._id_7BA7458B5FC820F7 ) )
        return;

    foreach ( data in level._id_41F4BC9EE8C7C9C6._id_7BA7458B5FC820F7 )
    {
        if ( data._id_A0CE8000D303764C == _id_A0CE8000D303764C )
        {
            _id_EE6EA77813E3C559 tabletinit( data );
            break;
        }
    }
}
