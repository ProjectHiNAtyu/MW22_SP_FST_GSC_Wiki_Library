// IW9 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

init()
{
    level.lootweaponcache = [];
    level.lootweaponrefs = [];
    _id_725F93C8F8F7CF9D = getdvarint( "dvar_D8D8D08BFD9EC4DF", 30 );
    level._id_DE221BFB117F1FD1 = _id_725F93C8F8F7CF9D * _id_725F93C8F8F7CF9D;
    level._id_87960B9CE7021569 = getdvarfloat( "dvar_ED1EA4AC182C02CF", 0.8 );
}

getpassivesforweapon( _id_5C3F9357F11D2223, variantid )
{
    _id_60CE74182E7C83A7 = getlootinfoforweapon( _id_5C3F9357F11D2223, variantid );

    if ( isdefined( _id_60CE74182E7C83A7 ) )
        return _id_60CE74182E7C83A7.passives;

    return undefined;
}

getlootinfoforweapon( _id_5C3F9357F11D2223, variantid )
{
    if ( !isdefined( variantid ) )
        return undefined;

    if ( isdefined( level.lootweaponcache[_id_5C3F9357F11D2223] ) && isdefined( level.lootweaponcache[_id_5C3F9357F11D2223][variantid] ) )
    {
        weaponinfo = level.lootweaponcache[_id_5C3F9357F11D2223][variantid];
        return weaponinfo;
    }

    weaponinfo = cachelootweaponweaponinfo( _id_5C3F9357F11D2223, variantid );

    if ( isdefined( weaponinfo ) )
        return weaponinfo;

    return undefined;
}

getweaponassetfromrootweapon( _id_CD13663AEE778DB6, variantid )
{
    _id_6CF67C6D17CF3316 = "mp/loot/weapon/" + _id_CD13663AEE778DB6 + ".csv";
    weaponasset = tablelookup( _id_6CF67C6D17CF3316, 0, variantid, 3 );
    return weaponasset;
}

lookupvariantref( _id_CD13663AEE778DB6, variantid )
{
    _id_6CF67C6D17CF3316 = "mp/loot/weapon/" + _id_CD13663AEE778DB6 + ".csv";
    _id_093B3002EBEF628B = tablelookup( _id_6CF67C6D17CF3316, 0, variantid, 1 );
    return _id_093B3002EBEF628B;
}

isweaponitem( _id_358E8D9068997399 )
{
    return _id_600B944A95C3A7BF::_id_282CF83C9EEDA744( _id_358E8D9068997399 ) == "weapon";
}

cachelootweaponweaponinfo( _id_5C3F9357F11D2223, variantid )
{
    if ( !isdefined( level.lootweaponcache[_id_5C3F9357F11D2223] ) )
        level.lootweaponcache[_id_5C3F9357F11D2223] = [];

    _id_0C6C779C138E8C65 = getweaponloottable( _id_5C3F9357F11D2223 );
    weaponinfo = readweaponinfofromtable( _id_0C6C779C138E8C65, variantid, _id_5C3F9357F11D2223 );
    level.lootweaponcache[_id_5C3F9357F11D2223][variantid] = weaponinfo;
    return weaponinfo;
}

readweaponinfofromtable( _id_0B2F2B716DA5389C, variantid, _id_5C3F9357F11D2223 )
{
    struct = spawnstruct();
    _id_4BB9768282D4260D = _id_2669878CF5A1B6BC::getweaponrootname( _id_5C3F9357F11D2223 );
    ref = _id_4BB9768282D4260D + "|" + variantid;
    struct.ref = ref;
    struct.weaponasset = level.weaponlootmapdata[ref].assetname;
    struct.variantid = variantid;
    return struct;
}

getweaponqualitybyid( weapon, variantid )
{
    if ( !isdefined( variantid ) || variantid < 0 )
        return 0;

    _id_0C6C779C138E8C65 = getweaponloottable( weapon );
    quality = int( tablelookup( _id_0C6C779C138E8C65, 0, variantid, 4 ) );
    return quality;
}

_id_381163B13DA57799( opener, _id_69E96A4CAA72D794, _id_3793828403C6873E )
{
    if ( !isdefined( _id_69E96A4CAA72D794.contents[_id_3793828403C6873E] ) )
        return 0;

    item = _id_69E96A4CAA72D794.contents[_id_3793828403C6873E];
    quantity = item["quantity"];
    lootid = item["lootID"];
    team = item["team"];
    _id_FAFCDAA6B732231A = item["visibilityCondition"];

    if ( isdefined( quantity ) && quantity > 0 && isdefined( lootid ) && lootid > 0 && ( !isdefined( team ) || team == opener.team ) && ( !isdefined( _id_FAFCDAA6B732231A ) || [[ _id_FAFCDAA6B732231A ]]( opener, _id_69E96A4CAA72D794 ) ) )
        return 1;

    return 0;
}

_id_2581F2AB21309779( _id_69E96A4CAA72D794 )
{
    if ( !isdefined( _id_69E96A4CAA72D794._id_46A3A8565AC0C17C ) )
        return 1;

    switch ( _id_69E96A4CAA72D794._id_46A3A8565AC0C17C )
    {
        case 12:
        case 11:
        case 10:
        case 9:
            return 0;
        default:
            return 1;
    }
}

_id_9514E33EEB6EEA69( opener, lootid, quantity )
{
    _id_A1093166DE09E6B8 = _id_600B944A95C3A7BF::_id_E1D5A33193DB0133( lootid );

    if ( !isdefined( _id_A1093166DE09E6B8 ) )
        return quantity;

    maxcount = level.br_pickups._id_04138F9DDC1CD22D[_id_A1093166DE09E6B8];

    if ( !isdefined( maxcount ) || maxcount == 0 )
        maxcount = level.br_pickups.maxcounts[_id_A1093166DE09E6B8];

    if ( maxcount > 0 && isdefined( lootid ) )
    {
        for ( _id_AC0E594AC96AA3A8 = 0; _id_AC0E594AC96AA3A8 < _id_2D9D24F7C63AC143::_id_B13E35608B336D65( opener ); _id_AC0E594AC96AA3A8++ )
        {
            _id_EEEAE9DEFA0C1E95 = opener _id_2D9D24F7C63AC143::_id_6196D9EA9A30E609( _id_AC0E594AC96AA3A8 );

            if ( _id_EEEAE9DEFA0C1E95 == lootid )
            {
                _id_E30B916ADC1E2DC8 = opener _id_2D9D24F7C63AC143::_id_897B29ADB37F06A7( _id_AC0E594AC96AA3A8 );

                if ( _id_E30B916ADC1E2DC8 < maxcount )
                    return _id_E30B916ADC1E2DC8 + quantity - maxcount;
            }
        }
    }

    if ( _id_2CEDCC356F1B9FC8::isammo( _id_A1093166DE09E6B8 ) )
    {
        _id_509D86412C9D7426 = opener getweaponslistprimaries();

        foreach ( _id_DE88CD14114C1E24 in _id_509D86412C9D7426 )
        {
            _id_7CAC4FF8E11F1BCA = _id_724736FCF0FB6604::br_ammo_type_for_weapon( _id_DE88CD14114C1E24 );

            if ( isdefined( _id_7CAC4FF8E11F1BCA ) && _id_A1093166DE09E6B8 == _id_7CAC4FF8E11F1BCA && opener.br_ammo[_id_A1093166DE09E6B8] < level._id_E6EA72FC5E3FCD00[_id_A1093166DE09E6B8] )
                return opener.br_ammo[_id_A1093166DE09E6B8] + quantity - maxcount;
        }
    }

    if ( _id_2CEDCC356F1B9FC8::isarmorplate( _id_A1093166DE09E6B8 ) )
    {
        equipname = level.br_pickups.br_equipname[_id_A1093166DE09E6B8];
        slot = level.equipment.table[equipname].defaultslot;

        if ( !isdefined( opener.equipment[slot] ) || opener _id_7E52B56769FA7774::equipmentslothasroom( _id_A1093166DE09E6B8, slot ) )
        {
            _id_5324597EDFAFF57C = opener scripts\mp\equipment::getequipmentslotammo( slot );
            _id_5324597EDFAFF57C = scripts\engine\utility::ter_op( isdefined( _id_5324597EDFAFF57C ), _id_5324597EDFAFF57C, 0 );
            _id_B5CDF4D935E6AC13 = opener scripts\mp\equipment::getequipmentmaxammo( equipname );
            return _id_5324597EDFAFF57C + quantity - _id_B5CDF4D935E6AC13;
        }
    }

    if ( _id_7E52B56769FA7774::_id_B989EDD9AF4F42C7( _id_A1093166DE09E6B8 ) || _id_7E52B56769FA7774::_id_D7C5786A0C42EF6C( _id_A1093166DE09E6B8 ) )
    {
        equipname = level.br_pickups.br_equipname[_id_A1093166DE09E6B8];
        slot = level.equipment.table[equipname].defaultslot;

        if ( opener _id_7E52B56769FA7774::pickupissameasequipmentslot( equipname, slot ) && opener _id_7E52B56769FA7774::equipmentslothasroom( _id_A1093166DE09E6B8, slot ) )
        {
            _id_5324597EDFAFF57C = opener scripts\mp\equipment::getequipmentslotammo( slot );
            _id_5324597EDFAFF57C = scripts\engine\utility::ter_op( isdefined( _id_5324597EDFAFF57C ), _id_5324597EDFAFF57C, 0 );
            _id_B5CDF4D935E6AC13 = opener scripts\mp\equipment::getequipmentmaxammo( equipname );
            return _id_5324597EDFAFF57C + quantity - _id_B5CDF4D935E6AC13;
        }
    }

    if ( _id_7E52B56769FA7774::isplunder( _id_A1093166DE09E6B8 ) )
        return 0;

    return quantity;
}

_id_62AF29AB6021665D( opener, lootid, quantity, _id_69E96A4CAA72D794 )
{
    _id_A1093166DE09E6B8 = _id_600B944A95C3A7BF::_id_E1D5A33193DB0133( lootid );

    if ( !isdefined( _id_A1093166DE09E6B8 ) )
        return quantity;

    maxcount = level.br_pickups._id_04138F9DDC1CD22D[_id_A1093166DE09E6B8];

    if ( !isdefined( maxcount ) || maxcount == 0 )
        maxcount = level.br_pickups.maxcounts[_id_A1093166DE09E6B8];

    if ( _id_2CEDCC356F1B9FC8::isammo( _id_A1093166DE09E6B8 ) )
    {
        _id_509D86412C9D7426 = opener getweaponslistprimaries();

        foreach ( _id_DE88CD14114C1E24 in _id_509D86412C9D7426 )
        {
            _id_7CAC4FF8E11F1BCA = _id_724736FCF0FB6604::br_ammo_type_for_weapon( _id_DE88CD14114C1E24 );

            if ( isdefined( _id_7CAC4FF8E11F1BCA ) && _id_A1093166DE09E6B8 == _id_7CAC4FF8E11F1BCA && opener.br_ammo[_id_A1093166DE09E6B8] < level._id_E6EA72FC5E3FCD00[_id_A1093166DE09E6B8] )
            {
                _id_18B32CA21763754C = int( min( opener.br_ammo[_id_A1093166DE09E6B8] + quantity, level._id_E6EA72FC5E3FCD00[_id_A1093166DE09E6B8] ) );
                _id_724736FCF0FB6604::br_ammo_give_type( opener, _id_7CAC4FF8E11F1BCA, _id_18B32CA21763754C );
                _id_2D9D24F7C63AC143::_id_5BAAA0CE73D6FE84( opener );
                quantity = quantity - ( level._id_E6EA72FC5E3FCD00[_id_A1093166DE09E6B8] - opener.br_ammo[_id_A1093166DE09E6B8] );
                break;
            }
        }
    }

    if ( _id_2CEDCC356F1B9FC8::isarmorplate( _id_A1093166DE09E6B8 ) )
    {
        equipname = "equip_armorplate";
        slot = "health";

        if ( !isdefined( opener.equipment[slot] ) || opener _id_7E52B56769FA7774::equipmentslothasroom( _id_A1093166DE09E6B8, slot ) )
        {
            _id_5324597EDFAFF57C = opener scripts\mp\equipment::getequipmentslotammo( slot );
            _id_5324597EDFAFF57C = scripts\engine\utility::ter_op( isdefined( _id_5324597EDFAFF57C ), _id_5324597EDFAFF57C, 0 );
            _id_B5CDF4D935E6AC13 = opener scripts\mp\equipment::getequipmentmaxammo( equipname );
            _id_945AD4EC7764D35D = int( min( _id_5324597EDFAFF57C + quantity, _id_B5CDF4D935E6AC13 ) );
            opener scripts\mp\equipment::giveequipment( equipname, slot );
            opener scripts\mp\equipment::setequipmentammo( equipname, _id_945AD4EC7764D35D );
            quantity = quantity - ( _id_B5CDF4D935E6AC13 - _id_5324597EDFAFF57C );
        }
    }

    if ( _id_7E52B56769FA7774::_id_B989EDD9AF4F42C7( _id_A1093166DE09E6B8 ) || _id_7E52B56769FA7774::_id_D7C5786A0C42EF6C( _id_A1093166DE09E6B8 ) )
    {
        equipname = level.br_pickups.br_equipname[_id_A1093166DE09E6B8];
        slot = level.equipment.table[equipname].defaultslot;

        if ( opener _id_7E52B56769FA7774::pickupissameasequipmentslot( equipname, slot ) && opener _id_7E52B56769FA7774::equipmentslothasroom( _id_A1093166DE09E6B8, slot ) )
        {
            _id_5324597EDFAFF57C = opener scripts\mp\equipment::getequipmentslotammo( slot );
            _id_5324597EDFAFF57C = scripts\engine\utility::ter_op( isdefined( _id_5324597EDFAFF57C ), _id_5324597EDFAFF57C, 0 );
            _id_B5CDF4D935E6AC13 = opener scripts\mp\equipment::getequipmentmaxammo( equipname );
            _id_7573A61DB73EDF86 = int( min( _id_5324597EDFAFF57C + quantity, _id_B5CDF4D935E6AC13 ) );
            opener scripts\mp\equipment::giveequipment( equipname, slot );
            opener scripts\mp\equipment::setequipmentammo( equipname, _id_7573A61DB73EDF86 );
            quantity = quantity - ( _id_B5CDF4D935E6AC13 - _id_5324597EDFAFF57C );
        }
    }

    if ( _id_7E52B56769FA7774::isplunder( _id_A1093166DE09E6B8 ) )
    {
        _id_60227BFF1E9478CC = spawnstruct();
        _id_60227BFF1E9478CC._id_69E96A4CAA72D794 = _id_69E96A4CAA72D794;
        _id_60227BFF1E9478CC.scriptablename = _id_A1093166DE09E6B8;
        _id_60227BFF1E9478CC.count = quantity;
        opener _id_6AFF3948CF4CCA03::takeplunderpickup( _id_60227BFF1E9478CC );
        opener scripts\cp_mp\challenges::onpickupitem( "plunder" );
        quantity = 0;
    }

    if ( maxcount > 0 && isdefined( lootid ) && isdefined( quantity ) && quantity > 0 )
    {
        for ( _id_AC0E594AC96AA3A8 = 0; _id_AC0E594AC96AA3A8 < _id_2D9D24F7C63AC143::_id_B13E35608B336D65( opener ); _id_AC0E594AC96AA3A8++ )
        {
            _id_EEEAE9DEFA0C1E95 = opener _id_2D9D24F7C63AC143::_id_6196D9EA9A30E609( _id_AC0E594AC96AA3A8 );

            if ( _id_EEEAE9DEFA0C1E95 == lootid )
            {
                _id_E30B916ADC1E2DC8 = opener _id_2D9D24F7C63AC143::_id_897B29ADB37F06A7( _id_AC0E594AC96AA3A8 );

                if ( _id_E30B916ADC1E2DC8 < maxcount )
                {
                    _id_DFAB44D4D8D10B36 = int( min( _id_E30B916ADC1E2DC8 + quantity, maxcount ) );
                    _id_2D9D24F7C63AC143::_id_11F48AE5B87B4525( opener, _id_AC0E594AC96AA3A8, lootid, _id_DFAB44D4D8D10B36 );
                    quantity = quantity - ( maxcount - _id_E30B916ADC1E2DC8 );

                    if ( quantity <= 0 )
                        break;
                }
            }
        }
    }

    _id_60227BFF1E9478CC = spawnstruct();
    _id_60227BFF1E9478CC._id_69E96A4CAA72D794 = _id_69E96A4CAA72D794;
    _id_60227BFF1E9478CC.scriptablename = _id_A1093166DE09E6B8;
    opener _id_7E52B56769FA7774::_id_EFDDDF60C5DB058C( _id_60227BFF1E9478CC, 1 );
    return quantity;
}

_id_57C0F59F64F553FA( opener, _id_69E96A4CAA72D794, items )
{
    opener endon( "death_or_disconnect" );
    _id_69E96A4CAA72D794 endon( "closed" );
    level endon( "game_ended" );
    waittime = 0.55;
    _id_E88566CF37C5687E = getdvarfloat( "dvar_D9E519D9C89AF2F3", 0.0 );

    if ( _id_E88566CF37C5687E > 0.0 )
        waittime = _id_E88566CF37C5687E + 0.2;

    _id_677B4D98122F0868 = getdvarfloat( "dvar_12B0E0C79CCF572D", 0.0 );

    if ( _id_677B4D98122F0868 > 0.0 )
    {
        waittime = 0.35 + _id_677B4D98122F0868;

        if ( _id_E88566CF37C5687E > 0.0 )
            waittime = _id_E88566CF37C5687E + _id_677B4D98122F0868;
    }

    wait( waittime );

    foreach ( item in items )
    {
        wait( getdvarfloat( "dvar_F920B46A5250C2A9", 0.33 ) );

        if ( !scripts\mp\utility\player::isreallyalive( opener ) || !_id_6F45E7311F77EAC4( opener ) || _id_23A3BB1172216C05( _id_69E96A4CAA72D794, opener ) )
            return;

        if ( !isdefined( item ) || !isdefined( item.lootid ) || !isdefined( item._id_C79D6D2F755EB27E ) || !isdefined( item.index ) )
            continue;

        if ( !_id_381163B13DA57799( opener, _id_69E96A4CAA72D794, item.index ) )
            continue;

        quantity = _id_62AF29AB6021665D( opener, item.lootid, item._id_C79D6D2F755EB27E, _id_69E96A4CAA72D794 );

        if ( isdefined( quantity ) && quantity > 0 )
        {
            _id_446C7AD7BCC70992( opener, item.index, item.lootid, quantity );
            _id_69E96A4CAA72D794.contents[item.index]["quantity"] = quantity;
            continue;
        }

        _id_C7294F5B9B5006D5( opener, item.index );
        _id_69E96A4CAA72D794.contents[item.index]["quantity"] = 0;
        _id_69E96A4CAA72D794.contents[item.index]["lootID"] = 0;
    }
}

getlootweaponref( _id_358E8D9068997399 )
{
    return level.lootweaponrefs[_id_358E8D9068997399];
}

_id_30F5EA60517F9E06( opener, _id_69E96A4CAA72D794 )
{
    _id_BFBB389447A5262C = 0;

    for ( _id_3793828403C6873E = 0; _id_3793828403C6873E < 10; _id_3793828403C6873E++ )
    {
        if ( _id_381163B13DA57799( opener, _id_69E96A4CAA72D794, _id_3793828403C6873E ) )
        {
            if ( isweaponitem( _id_69E96A4CAA72D794.contents[_id_3793828403C6873E]["lootID"] ) )
            {
                _id_E97B68032A8F5332 = _id_69E96A4CAA72D794.contents[_id_BFBB389447A5262C];
                _id_69E96A4CAA72D794.contents[_id_BFBB389447A5262C] = _id_69E96A4CAA72D794.contents[_id_3793828403C6873E];
                _id_69E96A4CAA72D794.contents[_id_3793828403C6873E] = _id_E97B68032A8F5332;
                _id_BFBB389447A5262C++;
            }
        }
    }

    items = _id_69E96A4CAA72D794.contents;
    opener._id_02FA5B49969DEF47 = _id_69E96A4CAA72D794;
    opener._id_F2AA9AE949179907 = opener.origin;

    if ( isdefined( _id_69E96A4CAA72D794.parent ) )
        opener._id_F2AA9AE949179907 = opener.origin - _id_69E96A4CAA72D794.parent.origin;

    if ( items.size > 10 )
    {

    }

    _id_FAB72763A744C649 = [];
    _id_4472B62C1FA150E5 = 0;

    for ( _id_3793828403C6873E = 0; _id_3793828403C6873E < 10; _id_3793828403C6873E++ )
    {
        if ( _id_381163B13DA57799( opener, _id_69E96A4CAA72D794, _id_3793828403C6873E ) )
        {
            _id_A28BD7F30254C8A0 = items[_id_3793828403C6873E]["quantity"];

            if ( getdvarint( "dvar_C272DFD858EBA88F", 1 ) && _id_2581F2AB21309779( _id_69E96A4CAA72D794 ) )
                _id_A28BD7F30254C8A0 = _id_9514E33EEB6EEA69( opener, items[_id_3793828403C6873E]["lootID"], items[_id_3793828403C6873E]["quantity"] );

            _id_446C7AD7BCC70992( opener, _id_3793828403C6873E, items[_id_3793828403C6873E]["lootID"], items[_id_3793828403C6873E]["quantity"] );

            if ( _id_A28BD7F30254C8A0 != items[_id_3793828403C6873E]["quantity"] )
            {
                _id_A0D21FDD38F60ECF = _id_FAB72763A744C649.size;
                _id_FAB72763A744C649[_id_A0D21FDD38F60ECF] = spawnstruct();
                _id_FAB72763A744C649[_id_A0D21FDD38F60ECF].index = _id_3793828403C6873E;
                _id_FAB72763A744C649[_id_A0D21FDD38F60ECF]._id_C79D6D2F755EB27E = items[_id_3793828403C6873E]["quantity"];
                _id_FAB72763A744C649[_id_A0D21FDD38F60ECF].lootid = items[_id_3793828403C6873E]["lootID"];
            }

            if ( !_id_4472B62C1FA150E5 )
            {
                scriptablename = _id_600B944A95C3A7BF::_id_E1D5A33193DB0133( items[_id_3793828403C6873E]["lootID"] );

                if ( isdefined( scriptablename ) )
                    _id_4472B62C1FA150E5 = _id_2CEDCC356F1B9FC8::_id_63D8455B2C1455EB( scriptablename );
            }

            continue;
        }

        _id_C7294F5B9B5006D5( opener, _id_3793828403C6873E );
    }

    if ( _id_FAB72763A744C649.size > 0 )
        thread _id_57C0F59F64F553FA( opener, _id_69E96A4CAA72D794, _id_FAB72763A744C649 );

    if ( isdefined( _id_69E96A4CAA72D794._id_04F6CDE716E0C3D7 ) )
        opener setclientomnvar( "loot_container_weapon", _id_69E96A4CAA72D794._id_04F6CDE716E0C3D7 );
    else
        opener setclientomnvar( "loot_container_weapon", 0 );

    if ( !isdefined( _id_69E96A4CAA72D794._id_46A3A8565AC0C17C ) )
        _id_69E96A4CAA72D794._id_46A3A8565AC0C17C = 1;

    _id_46A3A8565AC0C17C = _id_69E96A4CAA72D794._id_46A3A8565AC0C17C;

    if ( _id_46A3A8565AC0C17C == 6 )
    {
        _id_8B1B7044E27E6A56 = isdefined( _id_69E96A4CAA72D794.owner ) && scripts\engine\utility::is_equal( _id_69E96A4CAA72D794.owner.team, opener.team );
        _id_491E446B95DF4233 = isdefined( _id_69E96A4CAA72D794.owner ) && istrue( level.matchmakingmatch ) && scripts\engine\utility::array_contains( _id_69E96A4CAA72D794.owner getfireteammembers(), opener );

        if ( _id_491E446B95DF4233 )
            _id_46A3A8565AC0C17C = 8;
        else if ( _id_8B1B7044E27E6A56 )
            _id_46A3A8565AC0C17C = 7;

        if ( isdefined( _id_69E96A4CAA72D794._id_846A20D8E6F30B8E ) )
            opener setclientomnvar( "loot_container_dead_player_index", _id_69E96A4CAA72D794._id_846A20D8E6F30B8E );
    }

    if ( _id_46A3A8565AC0C17C == 12 )
    {
        if ( isdefined( _id_69E96A4CAA72D794._id_846A20D8E6F30B8E ) )
            opener setclientomnvar( "loot_container_dead_player_index", _id_69E96A4CAA72D794._id_846A20D8E6F30B8E );

        if ( isdefined( _id_69E96A4CAA72D794._id_342175A1B9F9067E ) )
            opener setclientomnvar( "loot_container_dead_player_backpack_size", _id_69E96A4CAA72D794._id_342175A1B9F9067E );

        _id_46BF6F4D9DCC9B78( opener, _id_69E96A4CAA72D794 );
    }

    opener setclientomnvar( "loot_container_open", _id_46A3A8565AC0C17C );

    if ( istrue( level._id_A101059DEA76957C ) && !istrue( _id_69E96A4CAA72D794._id_4E6E38A1603F22EE ) && _id_69E96A4CAA72D794._id_46A3A8565AC0C17C != 9 && _id_69E96A4CAA72D794._id_46A3A8565AC0C17C != 11 && !_id_54066DBD8EF44FE1( _id_69E96A4CAA72D794 ) )
    {
        _id_69E96A4CAA72D794._id_4E6E38A1603F22EE = 1;
        thread _id_86D77B1DBD44B06E( opener, _id_69E96A4CAA72D794, _id_4472B62C1FA150E5 );
    }

    _id_69E96A4CAA72D794 thread _id_71A59F067D5FE986( _id_69E96A4CAA72D794, opener );
    _id_69E96A4CAA72D794 thread _id_47B931D76FFD028F( _id_69E96A4CAA72D794, opener );
}

_id_0438749EB7A7B738( items, opener, _id_69E96A4CAA72D794 )
{
    _id_542AB2415C42E657 = [];
    _id_47868F432C8FCB6B = 0;
    lastindex = items.size - 1;

    foreach ( item in items )
    {
        quantity = item["quantity"];
        lootid = item["lootID"];
        team = item["team"];
        _id_FAFCDAA6B732231A = item["visibilityCondition"];

        if ( isdefined( quantity ) && quantity > 0 && isdefined( lootid ) && lootid > 0 && ( !isdefined( team ) || team == opener.team ) && ( !isdefined( _id_FAFCDAA6B732231A ) || [[ _id_FAFCDAA6B732231A ]]( opener, _id_69E96A4CAA72D794 ) ) )
        {
            _id_542AB2415C42E657[_id_47868F432C8FCB6B] = item;
            _id_47868F432C8FCB6B++;
            continue;
        }

        _id_542AB2415C42E657[lastindex] = item;
        lastindex--;
    }

    return [ _id_542AB2415C42E657, lastindex ];
}

_id_C7294F5B9B5006D5( player, index )
{
    player setclientomnvar( "loot_container_item_" + index, 0 );
    player setclientomnvar( "loot_container_quantity_" + index, 0 );
    player setclientomnvar( "loot_container_type_" + index, 0 );
}

_id_47B931D76FFD028F( _id_69E96A4CAA72D794, opener )
{
    _id_69E96A4CAA72D794 endon( "death" );
    level endon( "game_ended" );
    _id_69E96A4CAA72D794 endon( "closed" );
    opener scripts\engine\utility::waittill_any_4( "close_container", "flashbang", "concussed", "weapon_fired" );
    _id_68085C72D7B628EC( _id_69E96A4CAA72D794, opener );
}

_id_76C94E25D72E5EE3( _id_69E96A4CAA72D794, opener )
{
    if ( !isdefined( _id_69E96A4CAA72D794.origin ) )
        return 0;

    _id_4B2D501A4D31124F = ( opener geteye()[2] + _id_69E96A4CAA72D794.origin[2] ) / 2;
    _id_34309721C147A177 = ( _id_69E96A4CAA72D794.origin[0], _id_69E96A4CAA72D794.origin[1], _id_4B2D501A4D31124F );
    _id_191EB489F1B47256 = vectornormalize( _id_34309721C147A177 - opener geteye() );
    _id_98595DEEC3D636D2 = opener getplayerangles();
    _id_775BF9279623C833 = anglestoforward( _id_98595DEEC3D636D2 );
    return vectordot( _id_191EB489F1B47256, _id_775BF9279623C833 ) > level._id_87960B9CE7021569;
}

_id_71A59F067D5FE986( _id_69E96A4CAA72D794, opener )
{
    _id_69E96A4CAA72D794 endon( "death" );
    level endon( "game_ended" );
    _id_69E96A4CAA72D794 endon( "closed" );
    opener endon( "disconnect" );

    while ( scripts\mp\utility\player::isreallyalive( opener ) && !istrue( opener.isdisconnecting ) && isdefined( opener.origin ) && ( !isdefined( _id_69E96A4CAA72D794.parent ) && distancesquared( opener._id_F2AA9AE949179907, opener.origin ) <= level._id_DE221BFB117F1FD1 || isdefined( _id_69E96A4CAA72D794.parent ) && distancesquared( opener._id_F2AA9AE949179907, opener.origin - _id_69E96A4CAA72D794.parent.origin ) <= level._id_DE221BFB117F1FD1 ) && _id_76C94E25D72E5EE3( _id_69E96A4CAA72D794, opener ) && opener playerads() < 0.5 )
        wait 0.05;

    _id_68085C72D7B628EC( _id_69E96A4CAA72D794, opener );
}

_id_68085C72D7B628EC( _id_69E96A4CAA72D794, opener )
{
    if ( isdefined( opener ) )
        opener setclientomnvar( "loot_container_open", 0 );

    if ( !isdefined( _id_69E96A4CAA72D794 ) )
        return;

    partname = _id_69E96A4CAA72D794 _meth_EC5F4851431F3382();

    if ( _id_23A3BB1172216C05( _id_69E96A4CAA72D794, opener ) )
    {
        if ( _id_552B8E4EA5FF7DF1::_id_6759FF16E552AA94( _id_69E96A4CAA72D794 ) || _id_552B8E4EA5FF7DF1::_id_8C57777A730CA632( _id_69E96A4CAA72D794 ) || scripts\mp\teamrevive::_id_5B55070C02328EA7( _id_69E96A4CAA72D794 ) )
        {
            _id_69E96A4CAA72D794 notify( "death" );
            _id_69E96A4CAA72D794 freescriptable();
        }
        else if ( _id_69E96A4CAA72D794 getscriptableparthasstate( partname, "fully_opening_unusable" ) )
            _id_69E96A4CAA72D794 setscriptablepartstate( partname, "fully_opening_unusable" );
    }
    else if ( _id_F3557CAF4562BFF7( _id_69E96A4CAA72D794 ) )
    {
        foreach ( player in level.players )
            _id_69E96A4CAA72D794 enablescriptableplayeruse( player );
    }
    else if ( !_id_532EAC3C428E5B9B( _id_69E96A4CAA72D794 ) )
    {
        if ( _id_69E96A4CAA72D794 getscriptableparthasstate( partname, "partially_open_usable" ) )
        {
            state = _id_69E96A4CAA72D794 getscriptablepartstate( partname );

            if ( !isdefined( state ) )
                logstring( "Log this in IW9-396144: state is undefined, container.type = " + scripts\engine\utility::ter_op( isdefined( _id_69E96A4CAA72D794.type ), _id_69E96A4CAA72D794.type, "undefined" ) + ", partName = " + partname );

            if ( state == "partially_open_in_use_unusable" )
                _id_69E96A4CAA72D794 setscriptablepartstate( partname, "partially_open_usable" );
            else if ( state == "partially_opening_unusable" )
                _id_69E96A4CAA72D794 thread _id_D3E618521013C7EB();
            else if ( state != "partially_open_usable" && state != "closing" )
            {

            }
        }
    }

    if ( _id_532EAC3C428E5B9B( _id_69E96A4CAA72D794 ) && isdefined( _id_69E96A4CAA72D794._id_CEB543956C7203E7 ) )
        [[ _id_69E96A4CAA72D794._id_CEB543956C7203E7 ]]( _id_69E96A4CAA72D794, opener );

    if ( isdefined( opener ) && istrue( opener._id_7F15935A89EA5B13 ) )
        opener._id_7F15935A89EA5B13 = undefined;

    if ( getdvarint( "dvar_C85A9BCC06A81A1F", 0 ) && isdefined( _id_69E96A4CAA72D794._id_2568210352BE1ECF ) && _id_69E96A4CAA72D794._id_2568210352BE1ECF.size > 0 )
    {
        dropstruct = _id_7E52B56769FA7774::_id_7B9F3966A7A42003();

        foreach ( index, item in _id_69E96A4CAA72D794._id_2568210352BE1ECF )
        {
            _id_CB4FAD49263E20C4 = _id_7E52B56769FA7774::getitemdroporiginandangles( dropstruct, opener.origin, opener.angles, opener, undefined );
            scriptablename = _id_600B944A95C3A7BF::_id_E1D5A33193DB0133( item["lootID"] );
            _id_7E52B56769FA7774::spawnpickup( scriptablename, _id_CB4FAD49263E20C4, item["quantity"], 1, undefined, 0 );
            opener._id_02FA5B49969DEF47.contents[index]["lootID"] = 0;
            opener._id_02FA5B49969DEF47.contents[index]["quantity"] = 0;
        }

        _id_69E96A4CAA72D794._id_2568210352BE1ECF = undefined;
    }

    opener._id_1F8CD0CE903FF0DA = undefined;
    opener._id_02FA5B49969DEF47 = undefined;
    _id_69E96A4CAA72D794 notify( "closed" );
}

_id_D3E618521013C7EB()
{
    self endon( "death" );
    level endon( "game_ended" );
    partname = self _meth_EC5F4851431F3382();
    waitframe();

    while ( self getscriptablepartstate( partname ) == "partially_opening_unusable" )
        waitframe();

    self setscriptablepartstate( partname, "partially_open_usable" );
}

_id_6F45E7311F77EAC4( player )
{
    return player getclientomnvar( "loot_container_open" ) > 0;
}

_id_C5D7D310ADD72C25( player )
{
    if ( !_id_6F45E7311F77EAC4( player ) )
        return 0;

    if ( !isdefined( player._id_02FA5B49969DEF47 ) )
        return 0;

    if ( !isdefined( player._id_02FA5B49969DEF47._id_46A3A8565AC0C17C ) )
        return 0;

    if ( player._id_02FA5B49969DEF47._id_46A3A8565AC0C17C != 10 )
        return 0;

    if ( !isdefined( player._id_02FA5B49969DEF47.contents ) )
        return 0;

    foreach ( item in player._id_02FA5B49969DEF47.contents )
    {
        scriptablename = _id_600B944A95C3A7BF::_id_E1D5A33193DB0133( item["lootID"] );

        if ( _id_7E52B56769FA7774::_id_EC7064081654489C( scriptablename ) )
            return 1;
    }

    return 0;
}

_id_446C7AD7BCC70992( player, index, lootid, quantity )
{
    _id_319F74ED8FA1A512 = _id_600B944A95C3A7BF::_id_282CF83C9EEDA744( lootid );
    _id_BA7D157F3BBF68E9 = undefined;

    if ( isdefined( _id_319F74ED8FA1A512 ) )
        _id_BA7D157F3BBF68E9 = level._id_F984BA508AE5BCB1[_id_319F74ED8FA1A512];

    if ( lootid == 0 )
        _id_C7294F5B9B5006D5( player, index );
    else if ( isdefined( _id_BA7D157F3BBF68E9 ) )
    {
        player setclientomnvar( "loot_container_item_" + index, lootid );
        player setclientomnvar( "loot_container_quantity_" + index, quantity );
        player setclientomnvar( "loot_container_type_" + index, _id_BA7D157F3BBF68E9._id_03A436BD812A2B86 );
    }
    else
    {

    }
}

_id_7EDA25C90CC3AAA1( index )
{
    return index >= 10 && index <= 18;
}

_id_C26E54FFD0C8BE94( _id_69E96A4CAA72D794, index )
{
    return _id_7EDA25C90CC3AAA1( index ) && _id_54066DBD8EF44FE1( _id_69E96A4CAA72D794 );
}

_id_4DF382B17698F0C5( _id_69E96A4CAA72D794, index )
{
    if ( isdefined( _id_69E96A4CAA72D794 ) && isdefined( _id_69E96A4CAA72D794._id_BF23A60678978C19 ) && isdefined( _id_69E96A4CAA72D794._id_BF23A60678978C19[index] ) && isdefined( _id_69E96A4CAA72D794._id_BF23A60678978C19[index]["lootID"] ) )
        return _id_69E96A4CAA72D794._id_BF23A60678978C19[index]["lootID"];

    return 0;
}

_id_DC8D7C1709ADCD67( _id_69E96A4CAA72D794, index )
{
    if ( isdefined( _id_69E96A4CAA72D794 ) && isdefined( _id_69E96A4CAA72D794._id_BF23A60678978C19 ) && isdefined( _id_69E96A4CAA72D794._id_BF23A60678978C19[index] ) && isdefined( _id_69E96A4CAA72D794._id_BF23A60678978C19[index]["quantity"] ) )
        return _id_69E96A4CAA72D794._id_BF23A60678978C19[index]["quantity"];

    return 0;
}

_id_7F855164A30A5F5F( player )
{
    player setclientomnvar( "loot_container_loadout_weapon_id", 0 );
    player setclientomnvar( "loot_container_loadout_weapon_attachments", 0 );
    player setclientomnvar( "loot_container_loadout_weapon_ammo", 0 );
}

_id_9B4AD636BEC4278D( player, lootid, quantity )
{
    gasmasktype = 0;
    gasmaskhealth = 0;

    if ( !( lootid == 0 || quantity == 0 ) )
    {
        gasmaskhealth = quantity;
        scriptablename = _id_600B944A95C3A7BF::_id_E1D5A33193DB0133( lootid );

        if ( scriptablename == "brloot_equip_gasmask_durable" )
            gasmasktype = 3;
        else
            gasmasktype = 2;
    }

    player setclientomnvar( "loot_container_loadout_gasmask_id", gasmasktype );
    player setclientomnvar( "loot_container_loadout_gasmask_quantity", gasmaskhealth );
}

_id_B1423ADECED14528( player, index, lootid, quantity )
{
    if ( lootid == 0 || quantity == 0 )
    {
        lootid = 0;
        quantity = 0;
    }

    switch ( index )
    {
        case 0:
            player setclientomnvar( "loot_container_loadout_plunder_quantity", quantity );
            break;
        case 1:
            player setclientomnvar( "loot_container_loadout_lethal_id", lootid );
            player setclientomnvar( "loot_container_loadout_lethal_quantity", quantity );
            break;
        case 2:
            player setclientomnvar( "loot_container_loadout_tactical_id", lootid );
            player setclientomnvar( "loot_container_loadout_tactical_quantity", quantity );
            break;
        case 3:
            player setclientomnvar( "loot_container_loadout_armor_quantity", quantity );
            break;
        case 6:
            _id_9B4AD636BEC4278D( player, lootid, quantity );
            break;
        case 7:
            player setclientomnvar( "loot_container_loadout_revive", quantity );
            break;
        case 5:
            player setclientomnvar( "loot_container_loadout_super_id", lootid );
            break;
        case 4:
            player setclientomnvar( "loot_container_loadout_killstreak_id", lootid );
            break;
        case 8:
            player setclientomnvar( "loot_container_loadout_dogtag", 1 );
            break;
        default:
            break;
    }
}

_id_46BF6F4D9DCC9B78( player, _id_69E96A4CAA72D794 )
{
    _id_2E1CE198700F793C = 0;
    _id_BF23A60678978C19 = _id_69E96A4CAA72D794._id_BF23A60678978C19;

    foreach ( index, item in _id_BF23A60678978C19 )
    {
        if ( !isdefined( item["lootID"] ) )
            continue;

        lootid = item["lootID"];
        quantity = item["quantity"];

        switch ( index )
        {
            case 0:
                player setclientomnvar( "loot_container_loadout_plunder_quantity", quantity );
                break;
            case 1:
                player setclientomnvar( "loot_container_loadout_lethal_id", lootid );
                player setclientomnvar( "loot_container_loadout_lethal_quantity", quantity );
                break;
            case 2:
                player setclientomnvar( "loot_container_loadout_tactical_id", lootid );
                player setclientomnvar( "loot_container_loadout_tactical_quantity", quantity );
                break;
            case 3:
                player setclientomnvar( "loot_container_loadout_armor_quantity", quantity );
                break;
            case 6:
                _id_9B4AD636BEC4278D( player, lootid, quantity );
                break;
            case 7:
                player setclientomnvar( "loot_container_loadout_revive", quantity );
                break;
            case 5:
                player setclientomnvar( "loot_container_loadout_super_id", lootid );
                break;
            case 4:
                player setclientomnvar( "loot_container_loadout_killstreak_id", lootid );
                break;
            case 8:
                player setclientomnvar( "loot_container_loadout_dogtag", 1 );
                break;
            default:
                break;
        }
    }

    if ( isdefined( _id_69E96A4CAA72D794._id_A06E7128C001851D ) && isdefined( _id_69E96A4CAA72D794._id_A0E9FEF038504BD0 ) )
    {
        _id_98F7CE981BB1F93C = _id_69E96A4CAA72D794._id_A06E7128C001851D;
        weaponobj = _id_69E96A4CAA72D794._id_A0E9FEF038504BD0;
        attachments = getweaponattachments( weaponobj );
        _id_A28F4E760500001B = 0;

        foreach ( attachment in attachments )
        {
            if ( !scripts\mp\utility\weapon::attachmentisselectable( weaponobj, attachment ) )
                continue;

            _id_A28F4E760500001B++;
        }

        player setclientomnvar( "loot_container_loadout_weapon_id", _id_98F7CE981BB1F93C );
        player setclientomnvar( "loot_container_loadout_weapon_attachments", _id_A28F4E760500001B );
        player setclientomnvar( "loot_container_loadout_weapon_ammo", player getweaponammoclip( weaponobj ) );
    }
}

_id_F478CA9D3C44018C( player, index )
{
    _id_5C9DDCF56D36F133 = undefined;

    if ( index == 100 )
        _id_5C9DDCF56D36F133 = player getclientomnvar( "loot_container_weapon" );
    else
        _id_5C9DDCF56D36F133 = player getclientomnvar( "loot_container_item_" + index );

    return _id_5C9DDCF56D36F133;
}

_id_8E5978971B5DCD16( player, index )
{
    if ( index == 100 )
        return 1;

    return player getclientomnvar( "loot_container_quantity_" + index );
}

_id_23A3BB1172216C05( _id_69E96A4CAA72D794, opener )
{
    if ( _id_532EAC3C428E5B9B( _id_69E96A4CAA72D794 ) )
        return 0;

    if ( !isdefined( _id_69E96A4CAA72D794.contents ) )
        return 1;

    foreach ( _id_C56207BDA09B3A36 in _id_69E96A4CAA72D794.contents )
    {
        if ( !isdefined( _id_C56207BDA09B3A36["lootID"] ) || !isdefined( _id_C56207BDA09B3A36["quantity"] ) )
            continue;

        if ( _id_C56207BDA09B3A36["lootID"] > 0 && _id_C56207BDA09B3A36["quantity"] > 0 )
            return 0;
    }

    if ( isdefined( _id_69E96A4CAA72D794._id_04F6CDE716E0C3D7 ) )
    {
        _id_6C2B460EA57431F8 = opener getclientomnvar( "loot_container_weapon" );

        if ( istrue( _id_6C2B460EA57431F8 ) )
            return 0;
    }

    if ( isdefined( _id_69E96A4CAA72D794._id_46A3A8565AC0C17C ) && _id_69E96A4CAA72D794._id_46A3A8565AC0C17C == 12 )
    {
        if ( isdefined( _id_69E96A4CAA72D794._id_BF23A60678978C19 ) )
        {
            foreach ( _id_C56207BDA09B3A36 in _id_69E96A4CAA72D794._id_BF23A60678978C19 )
            {
                if ( !isdefined( _id_C56207BDA09B3A36["lootID"] ) || !isdefined( _id_C56207BDA09B3A36["quantity"] ) )
                    continue;

                if ( _id_C56207BDA09B3A36["lootID"] > 0 && _id_C56207BDA09B3A36["quantity"] > 0 )
                    return 0;
            }
        }
    }

    return 1;
}

_id_60D2295CCC45D8C0( player, lootid, quantity, _id_69E96A4CAA72D794 )
{
    _id_3EAA9F644DBE7834 = scripts\cp_mp\challenges::_id_6D40F12A09494350( 0, 0 );
    scriptablename = _id_69E96A4CAA72D794.type;
    _id_46A3A8565AC0C17C = _id_69E96A4CAA72D794._id_46A3A8565AC0C17C;

    if ( isdefined( _id_46A3A8565AC0C17C ) && ( _id_46A3A8565AC0C17C == 2 || _id_46A3A8565AC0C17C == 6 || _id_46A3A8565AC0C17C == 7 || _id_46A3A8565AC0C17C == 8 ) )
        _id_3EAA9F644DBE7834 = scripts\cp_mp\challenges::_id_6D40F12A09494350( _id_3EAA9F644DBE7834, 4 );
    else
        _id_3EAA9F644DBE7834 = scripts\cp_mp\challenges::_id_6D40F12A09494350( _id_3EAA9F644DBE7834, 3 );

    lootsource = 0;

    if ( isdefined( scriptablename ) )
    {
        switch ( scriptablename )
        {
            case "dmz_hidden_container":
                lootsource = scripts\cp_mp\challenges::_id_6D40F12A09494350( lootsource, 1 );
                break;
            case "cache_medical_box_wall":
            case "cache_medicine_cabinet":
                lootsource = scripts\cp_mp\challenges::_id_6D40F12A09494350( lootsource, 2 );
                break;
            case "cache_computer_tower":
                lootsource = scripts\cp_mp\challenges::_id_6D40F12A09494350( lootsource, 3 );
                break;
            case "dmz_supply_drop":
                lootsource = scripts\cp_mp\challenges::_id_6D40F12A09494350( lootsource, 4 );
                lootsource = scripts\cp_mp\challenges::_id_6D40F12A09494350( lootsource, 5 );
                break;
            case "dmz_supply_drop_samsite":
                lootsource = scripts\cp_mp\challenges::_id_6D40F12A09494350( lootsource, 4 );
                lootsource = scripts\cp_mp\challenges::_id_6D40F12A09494350( lootsource, 6 );
                break;
            default:
                break;
        }
    }

    scripts\cp_mp\challenges::_id_D24138B32084FC3E( player, lootid, undefined, _id_3EAA9F644DBE7834, quantity, lootsource );
}

_id_F3557CAF4562BFF7( _id_69E96A4CAA72D794 )
{
    if ( !isdefined( _id_69E96A4CAA72D794._id_46A3A8565AC0C17C ) )
        return 0;

    return _id_69E96A4CAA72D794._id_46A3A8565AC0C17C == 10;
}

_id_532EAC3C428E5B9B( _id_69E96A4CAA72D794 )
{
    if ( !isdefined( _id_69E96A4CAA72D794._id_46A3A8565AC0C17C ) )
        return 0;

    return _id_69E96A4CAA72D794._id_46A3A8565AC0C17C == 9 || _id_69E96A4CAA72D794._id_46A3A8565AC0C17C == 11;
}

_id_54066DBD8EF44FE1( _id_69E96A4CAA72D794 )
{
    if ( !isdefined( _id_69E96A4CAA72D794._id_46A3A8565AC0C17C ) )
        return 0;

    return _id_69E96A4CAA72D794._id_46A3A8565AC0C17C == 12;
}

_id_86D77B1DBD44B06E( opener, _id_69E96A4CAA72D794, _id_4472B62C1FA150E5 )
{
    level endon( "game_ended" );
    opener endon( "death_or_disconnect" );
    _id_69E96A4CAA72D794 endon( "death" );
    waittime = 0.35;
    _id_97072EEAE32EBD38 = getdvarfloat( "dvar_D9E519D9C89AF2F3", 0.0 );

    if ( _id_97072EEAE32EBD38 > 0.0 )
        waittime = _id_97072EEAE32EBD38;

    _id_69E96A4CAA72D794 scripts\engine\utility::waittill_any_timeout_1( waittime, "closed" );

    if ( !scripts\mp\utility\player::isreallyalive( opener ) )
        return;

    if ( _id_4472B62C1FA150E5 )
    {
        opener thread scripts\mp\utility\points::_id_0366980B6A8796AE( "stat_F396D39FEE1A8054" );
        opener playsoundtoplayer( "uin_loot_container_open_epic", opener );
    }
    else
    {
        opener thread scripts\mp\utility\points::_id_0366980B6A8796AE( "stat_C19301D569C97C3C" );
        opener playsoundtoplayer( "uin_loot_container_open_common", opener );
    }
}

_id_1791C1E8974E9BD7( player, lootid, quantity, weaponref )
{
    ref = _id_600B944A95C3A7BF::_id_793E8A72CEDB8EF3( lootid );
    success = 0;

    if ( ref == "cash" )
    {
        _id_3466C10973E9C476 = _id_6AFF3948CF4CCA03::getplundernamebyamount( quantity );
        _id_60227BFF1E9478CC = spawnstruct();
        _id_60227BFF1E9478CC.scriptablename = _id_3466C10973E9C476;
        _id_60227BFF1E9478CC._id_8598D3D3BC3D9CEB = 1;
        _id_7E52B56769FA7774::_id_EFDDDF60C5DB058C( _id_60227BFF1E9478CC );
        player _id_6AFF3948CF4CCA03::playerplunderpickup( quantity );
        player scripts\cp_mp\challenges::onpickupitem( "plunder" );
        success = 1;
    }
    else if ( ref == "dmz_loot_quest_intel" || ref == "dmz_trap_quest_trigger" )
    {
        player _id_7E52B56769FA7774::_id_37BE6E543436F3B3( lootid, undefined, 1 );
        success = 1;
    }
    else if ( _id_2CEDCC356F1B9FC8::isammo( ref ) )
        success = player _id_7E52B56769FA7774::_id_54DAC56D15DD3D93( ref, lootid, quantity, 1 );
    else
        success = _id_7E52B56769FA7774::_id_D8CD9C1941A88194( lootid, quantity, weaponref, 1 );

    return success;
}

_id_A335AA664CAA37C9( player, _id_69E96A4CAA72D794 )
{
    lootid = _id_2D9D24F7C63AC143::_id_D9B1550011525161( player );
    _id_F6432F9A3688CA5A = _id_532EAC3C428E5B9B( _id_69E96A4CAA72D794 );

    if ( _id_F6432F9A3688CA5A && !isdefined( _id_69E96A4CAA72D794._id_556DB0B72A96514E[player.guid]._id_6FB67C8525B1D79E ) )
        return;

    if ( !isdefined( _id_69E96A4CAA72D794._id_6FB67C8525B1D79E ) )
        return;

    _id_C161EC212069668D = 1;

    foreach ( weaponobj in player.primaryinventory )
    {
        if ( weaponobj.basename == "iw9_me_fists_mp" )
        {
            _id_C161EC212069668D = 0;
            break;
        }
    }

    if ( _id_C161EC212069668D && _id_2D9D24F7C63AC143::_id_EFAB78B72D131D76( player ) )
    {
        scripts\mp\hud_message::showerrormessage( level.br_pickups.br_pickupdenyequipnoroom );
        return;
    }

    _id_60D2295CCC45D8C0( player, lootid, 1, _id_69E96A4CAA72D794 );

    if ( !_id_C161EC212069668D )
    {
        _id_A92926D5B02CF6ED( player, _id_69E96A4CAA72D794 );
        return;
    }

    weaponobj = undefined;
    _id_E1147886CCF51970 = undefined;

    if ( _id_F6432F9A3688CA5A )
    {
        weaponobj = _id_69E96A4CAA72D794._id_556DB0B72A96514E[player.guid]._id_6FB67C8525B1D79E;
        _id_E1147886CCF51970 = _id_69E96A4CAA72D794._id_556DB0B72A96514E[player.guid]._id_275F4441AB7920C8;
    }
    else
    {
        weaponobj = _id_69E96A4CAA72D794._id_6FB67C8525B1D79E;
        _id_E1147886CCF51970 = _id_69E96A4CAA72D794._id_275F4441AB7920C8;
    }

    _id_2D9D24F7C63AC143::_id_E35A7CB7E7C8C17E( player, weaponobj );
    _id_724736FCF0FB6604::_id_AE30366A2D519A57( player, 2, _id_E1147886CCF51970 );
    player playsoundtoplayer( "br_pickup_weap", player );
    player setclientomnvar( "loot_container_weapon", 0 );

    if ( _id_F6432F9A3688CA5A )
    {
        _id_69E96A4CAA72D794._id_556DB0B72A96514E[player.guid]._id_6FB67C8525B1D79E = undefined;
        _id_69E96A4CAA72D794._id_556DB0B72A96514E[player.guid]._id_04F6CDE716E0C3D7 = 0;
    }
    else
    {
        _id_69E96A4CAA72D794._id_04F6CDE716E0C3D7 = 0;
        _id_69E96A4CAA72D794._id_6FB67C8525B1D79E = undefined;
    }

    if ( istrue( player._id_7F15935A89EA5B13 ) )
    {
        player._id_3EEDB8574BAE470A._id_04F6CDE716E0C3D7 = 0;
        player._id_3EEDB8574BAE470A._id_6FB67C8525B1D79E = undefined;
    }
}

_id_2F00CA0526F3EDC6( player, index, quantity, _id_69E96A4CAA72D794 )
{
    lootid = 0;
    _id_35EABFFB2F0F31E3 = 0;
    _id_042DCD1DAFC60CA9 = _id_C26E54FFD0C8BE94( _id_69E96A4CAA72D794, index );
    _id_F6432F9A3688CA5A = _id_532EAC3C428E5B9B( _id_69E96A4CAA72D794 );

    if ( _id_042DCD1DAFC60CA9 )
    {
        index = index - 10;
        lootid = _id_4DF382B17698F0C5( _id_69E96A4CAA72D794, index );
        _id_35EABFFB2F0F31E3 = _id_DC8D7C1709ADCD67( _id_69E96A4CAA72D794, index );
    }
    else
    {
        lootid = _id_F478CA9D3C44018C( player, index );
        _id_35EABFFB2F0F31E3 = _id_8E5978971B5DCD16( player, index );
    }

    ref = undefined;
    _id_609578472524B507 = undefined;

    if ( isdefined( _id_69E96A4CAA72D794 ) && !_id_F6432F9A3688CA5A && isdefined( _id_69E96A4CAA72D794.contents[index] ) && isdefined( _id_69E96A4CAA72D794.contents[index]["ref"] ) )
    {
        ref = _id_69E96A4CAA72D794.contents[index]["ref"];
        _id_60227BFF1E9478CC = spawnstruct();
        _id_60227BFF1E9478CC.scriptablename = ref;
        _id_DD515FCF025B2E79 = _id_724736FCF0FB6604::_id_55C5D35C8C76A95B( _id_60227BFF1E9478CC )[0];

        foreach ( _id_DE88CD14114C1E24 in self.primaryweapons )
        {
            if ( issameweapon( _id_DE88CD14114C1E24, _id_DD515FCF025B2E79 ) )
            {
                lootid = _id_600B944A95C3A7BF::_id_FAE5E1D3DE32D3F7( _id_724736FCF0FB6604::br_ammo_type_for_weapon( _id_DD515FCF025B2E79 ) );
                _id_35EABFFB2F0F31E3 = weaponclipsize( _id_DD515FCF025B2E79 );
                quantity = _id_35EABFFB2F0F31E3;
                _id_609578472524B507 = 1;
                break;
            }
        }
    }

    if ( !isdefined( quantity ) )
        quantity = _id_35EABFFB2F0F31E3;

    if ( lootid == 0 || quantity == 0 )
        return 1;

    success = _id_1791C1E8974E9BD7( player, lootid, quantity, ref );

    if ( success || istrue( _id_609578472524B507 ) )
    {
        _id_A28BD7F30254C8A0 = _id_35EABFFB2F0F31E3 - quantity;
        _id_699DE62155C8C832 = lootid;

        if ( isdefined( _id_69E96A4CAA72D794 ) )
        {
            if ( _id_042DCD1DAFC60CA9 )
                _id_69E96A4CAA72D794._id_BF23A60678978C19[index]["quantity"] = _id_A28BD7F30254C8A0;
            else if ( _id_F6432F9A3688CA5A )
                _id_69E96A4CAA72D794._id_556DB0B72A96514E[self.guid].contents[index]["quantity"] = _id_A28BD7F30254C8A0;
            else
                _id_69E96A4CAA72D794.contents[index]["quantity"] = _id_A28BD7F30254C8A0;
        }

        if ( istrue( player._id_7F15935A89EA5B13 ) )
            player._id_3EEDB8574BAE470A.contents[index]["quantity"] = _id_A28BD7F30254C8A0;

        _id_60D2295CCC45D8C0( player, _id_699DE62155C8C832, quantity, _id_69E96A4CAA72D794 );

        if ( scripts\cp_mp\utility\script_utility::issharedfuncdefined( "pmc_missions", "onContainerLooted" ) )
            [[ scripts\cp_mp\utility\script_utility::getsharedfunc( "pmc_missions", "onContainerLooted" ) ]]( player, _id_699DE62155C8C832, quantity, _id_69E96A4CAA72D794 );

        if ( _id_A28BD7F30254C8A0 <= 0 )
        {
            _id_699DE62155C8C832 = 0;

            if ( isdefined( _id_69E96A4CAA72D794 ) )
            {
                if ( _id_042DCD1DAFC60CA9 )
                    _id_69E96A4CAA72D794._id_BF23A60678978C19[index]["lootID"] = _id_699DE62155C8C832;
                else if ( _id_F6432F9A3688CA5A )
                    _id_69E96A4CAA72D794._id_556DB0B72A96514E[self.guid].contents[index]["lootID"] = _id_699DE62155C8C832;
                else
                    _id_69E96A4CAA72D794.contents[index]["lootID"] = _id_699DE62155C8C832;
            }

            if ( istrue( player._id_7F15935A89EA5B13 ) )
                player._id_3EEDB8574BAE470A.contents[index]["lootID"] = _id_699DE62155C8C832;
        }

        if ( _id_042DCD1DAFC60CA9 )
            _id_B1423ADECED14528( player, index, _id_699DE62155C8C832, _id_A28BD7F30254C8A0 );
        else
            _id_446C7AD7BCC70992( player, index, _id_699DE62155C8C832, _id_A28BD7F30254C8A0 );
    }

    return success;
}

_id_67BE8D119FA22135( player, _id_DFF481F07E235198, weaponobj, lootid, itemtype, _id_3793828403C6873E, quantity )
{
    _id_E1147886CCF51970 = _id_724736FCF0FB6604::_id_86A5C7670325346B( player, 2 );
    player._id_02FA5B49969DEF47._id_04F6CDE716E0C3D7 = lootid;
    player._id_02FA5B49969DEF47._id_6FB67C8525B1D79E = weaponobj;
    player._id_02FA5B49969DEF47._id_275F4441AB7920C8 = _id_E1147886CCF51970;

    if ( isdefined( quantity ) )
        player._id_02FA5B49969DEF47._id_00853813B5D65CCC = quantity;

    if ( isdefined( _id_DFF481F07E235198 ) )
    {
        _id_DFF481F07E235198._id_04F6CDE716E0C3D7 = lootid;
        _id_DFF481F07E235198._id_6FB67C8525B1D79E = weaponobj;
        _id_DFF481F07E235198._id_275F4441AB7920C8 = _id_E1147886CCF51970;

        if ( isdefined( quantity ) )
            _id_DFF481F07E235198._id_00853813B5D65CCC = quantity;
    }

    player setclientomnvar( "loot_container_weapon", lootid );

    if ( isdefined( itemtype ) && isdefined( _id_3793828403C6873E ) )
        player thread _id_7E52B56769FA7774::quickdropitem( itemtype, _id_3793828403C6873E, 1 );
}

_id_A92926D5B02CF6ED( player, _id_69E96A4CAA72D794, itemtype )
{
    if ( !isdefined( _id_69E96A4CAA72D794 ) )
        return 1;

    _id_C67DA3567CAE3337 = 0;
    _id_6FB67C8525B1D79E = undefined;
    _id_F6432F9A3688CA5A = _id_532EAC3C428E5B9B( _id_69E96A4CAA72D794 );

    if ( isdefined( itemtype ) )
    {
        if ( itemtype == 150 )
        {
            _id_6FB67C8525B1D79E = _id_69E96A4CAA72D794._id_A0E9FEF038504BD0;
            _id_C67DA3567CAE3337 = 1;
        }
        else
        {
            lootid = player getclientomnvar( "loot_container_weapon" );

            if ( lootid == 0 )
                return 1;

            if ( _id_F6432F9A3688CA5A )
                _id_6FB67C8525B1D79E = _id_69E96A4CAA72D794._id_556DB0B72A96514E[player.guid]._id_6FB67C8525B1D79E;
            else
                _id_6FB67C8525B1D79E = _id_69E96A4CAA72D794._id_6FB67C8525B1D79E;
        }
    }
    else if ( _id_F6432F9A3688CA5A )
        _id_6FB67C8525B1D79E = _id_69E96A4CAA72D794._id_556DB0B72A96514E[player.guid]._id_6FB67C8525B1D79E;
    else
        _id_6FB67C8525B1D79E = _id_69E96A4CAA72D794._id_6FB67C8525B1D79E;

    if ( !isdefined( _id_6FB67C8525B1D79E ) )
        return 1;

    weapon = _id_6FB67C8525B1D79E;

    foreach ( _id_DE88CD14114C1E24 in self.primaryweapons )
    {
        if ( issameweapon( _id_DE88CD14114C1E24, weapon ) )
        {
            scripts\mp\hud_message::showerrormessage( level.br_pickups.br_pickupdenyalreadyhaveweapon );
            return;
        }
    }

    if ( _id_2D9D24F7C63AC143::_id_EFAB78B72D131D76( player ) )
    {
        _id_4D2B659118F5C515 = _id_2D9D24F7C63AC143::_id_2985254128B1C262( player );

        if ( issameweapon( _id_4D2B659118F5C515, weapon ) )
        {
            scripts\mp\hud_message::showerrormessage( level.br_pickups.br_pickupdenyalreadyhaveweapon );
            return;
        }
    }

    _id_E1147886CCF51970 = undefined;

    if ( _id_F6432F9A3688CA5A )
        _id_E1147886CCF51970 = _id_69E96A4CAA72D794._id_556DB0B72A96514E[player.guid]._id_275F4441AB7920C8;
    else if ( !_id_C67DA3567CAE3337 )
        _id_E1147886CCF51970 = _id_69E96A4CAA72D794._id_275F4441AB7920C8;

    quantity = weaponclipsize( weapon );

    if ( _id_F6432F9A3688CA5A && isdefined( _id_69E96A4CAA72D794._id_556DB0B72A96514E[player.guid]._id_00853813B5D65CCC ) )
        quantity = _id_69E96A4CAA72D794._id_556DB0B72A96514E[player.guid]._id_00853813B5D65CCC;
    else if ( _id_C67DA3567CAE3337 && isdefined( _id_69E96A4CAA72D794._id_3BA6CEBFBDD8130A ) )
        quantity = _id_69E96A4CAA72D794._id_3BA6CEBFBDD8130A;
    else if ( isdefined( _id_69E96A4CAA72D794._id_00853813B5D65CCC ) )
        quantity = _id_69E96A4CAA72D794._id_00853813B5D65CCC;

    _id_7E52B56769FA7774::_id_E5845FF9B61AC5D7( weapon, quantity, undefined, undefined, undefined, undefined );

    if ( !_id_C67DA3567CAE3337 )
    {
        _id_FE4048AD22C35D73 = _id_724736FCF0FB6604::_id_2AB3BDA08C595A32( player, weapon );
        _id_724736FCF0FB6604::_id_AE30366A2D519A57( player, _id_FE4048AD22C35D73, _id_E1147886CCF51970 );
    }

    if ( _id_C67DA3567CAE3337 )
    {
        _id_7F855164A30A5F5F( player );
        _id_69E96A4CAA72D794._id_A06E7128C001851D = 0;
        _id_69E96A4CAA72D794._id_A0E9FEF038504BD0 = undefined;
    }
    else if ( _id_F6432F9A3688CA5A )
    {
        player setclientomnvar( "loot_container_weapon", 0 );
        _id_69E96A4CAA72D794._id_556DB0B72A96514E[player.guid]._id_04F6CDE716E0C3D7 = 0;
        _id_69E96A4CAA72D794._id_556DB0B72A96514E[player.guid]._id_6FB67C8525B1D79E = undefined;
        _id_69E96A4CAA72D794._id_556DB0B72A96514E[player.guid]._id_275F4441AB7920C8 = undefined;
    }
    else
    {
        player setclientomnvar( "loot_container_weapon", 0 );
        _id_69E96A4CAA72D794._id_04F6CDE716E0C3D7 = 0;
        _id_69E96A4CAA72D794._id_6FB67C8525B1D79E = undefined;
        _id_69E96A4CAA72D794._id_275F4441AB7920C8 = undefined;
    }

    if ( istrue( player._id_7F15935A89EA5B13 ) )
    {
        player._id_3EEDB8574BAE470A._id_04F6CDE716E0C3D7 = 0;
        player._id_3EEDB8574BAE470A._id_6FB67C8525B1D79E = undefined;
        player._id_3EEDB8574BAE470A._id_275F4441AB7920C8 = undefined;
    }

    if ( _id_F3557CAF4562BFF7( _id_69E96A4CAA72D794 ) )
    {
        player setclientomnvar( "loot_container_open", 0 );
        _id_69E96A4CAA72D794 notify( "closed" );
        _id_7E52B56769FA7774::loothide( _id_69E96A4CAA72D794 );
    }
}

_id_3AE3712FE76D0C6A( player, index, loadoutindex, _id_69E96A4CAA72D794 )
{
    _id_042DCD1DAFC60CA9 = _id_C26E54FFD0C8BE94( _id_69E96A4CAA72D794, index );
    lootid = 0;
    quantity = 0;
    _id_F6432F9A3688CA5A = _id_532EAC3C428E5B9B( _id_69E96A4CAA72D794 );

    if ( _id_042DCD1DAFC60CA9 )
    {
        index = index - 10;
        lootid = _id_4DF382B17698F0C5( _id_69E96A4CAA72D794, index );
        quantity = _id_DC8D7C1709ADCD67( _id_69E96A4CAA72D794, index );
    }
    else
    {
        lootid = _id_F478CA9D3C44018C( player, index );
        quantity = _id_8E5978971B5DCD16( player, index );
    }

    if ( lootid == 0 || quantity == 0 )
        return;

    ref = _id_600B944A95C3A7BF::_id_793E8A72CEDB8EF3( lootid );

    if ( !_id_042DCD1DAFC60CA9 && !_id_F6432F9A3688CA5A && isdefined( _id_69E96A4CAA72D794.contents[index]["ref"] ) )
        ref = _id_69E96A4CAA72D794.contents[index]["ref"];

    if ( _id_2CEDCC356F1B9FC8::isammo( ref ) )
    {
        _id_BADA25504E8844D7 = spawnstruct();
        _id_BADA25504E8844D7.scriptablename = ref;
        _id_BADA25504E8844D7.count = quantity;
        player _id_2D9D24F7C63AC143::_id_10F6E537F1B5763C( lootid, _id_BADA25504E8844D7 );
    }
    else if ( _id_7E52B56769FA7774::_id_5449DA9D3D0358A4( ref ) )
    {
        scripts\mp\hud_message::showerrormessage( level.br_pickups._id_0FDE0E27B3A09BF3 );
        return;
    }
    else if ( !_id_042DCD1DAFC60CA9 && !_id_F6432F9A3688CA5A && isdefined( _id_69E96A4CAA72D794.contents[index]["ref"] ) )
    {
        if ( loadoutindex > 0 )
            _id_7E52B56769FA7774::_id_62F068CEC343A111( player, 1, loadoutindex - 1, undefined, 0, 0 );

        weaponobj = _id_7E52B56769FA7774::getfullweaponobjforscriptablepartname( ref );
        quantity = weaponclipsize( weaponobj );
        success = _id_7E52B56769FA7774::_id_E5845FF9B61AC5D7( weaponobj, quantity, undefined, undefined, undefined, undefined );

        if ( scripts\cp_mp\utility\script_utility::issharedfuncdefined( "pmc_missions", "onPickupWeapon" ) )
            [[ scripts\cp_mp\utility\script_utility::getsharedfunc( "pmc_missions", "onPickupWeapon" ) ]]( player );

        if ( !istrue( success ) )
            return;
    }
    else
    {
        _id_6A80B9F81CD7AD99 = _id_2D9D24F7C63AC143::_id_AE22C70A9C2474D9();
        result = _id_7E52B56769FA7774::_id_FE539E37B6579930( lootid, quantity, _id_6A80B9F81CD7AD99 );

        if ( !istrue( result ) )
            return;
    }

    if ( _id_F3557CAF4562BFF7( _id_69E96A4CAA72D794 ) )
    {
        player setclientomnvar( "loot_container_open", 0 );
        _id_69E96A4CAA72D794 notify( "closed" );
        _id_7E52B56769FA7774::loothide( _id_69E96A4CAA72D794 );
    }
    else
    {
        if ( isdefined( _id_69E96A4CAA72D794 ) )
        {
            if ( _id_042DCD1DAFC60CA9 )
            {
                _id_69E96A4CAA72D794._id_BF23A60678978C19[index]["quantity"] = 0;
                _id_69E96A4CAA72D794._id_BF23A60678978C19[index]["lootID"] = 0;
            }
            else if ( _id_F6432F9A3688CA5A )
            {
                _id_69E96A4CAA72D794._id_556DB0B72A96514E[player.guid].contents[index]["quantity"] = 0;
                _id_69E96A4CAA72D794._id_556DB0B72A96514E[player.guid].contents[index]["lootID"] = 0;
            }
            else
            {
                _id_69E96A4CAA72D794.contents[index]["quantity"] = 0;
                _id_69E96A4CAA72D794.contents[index]["lootID"] = 0;
            }
        }

        if ( istrue( player._id_7F15935A89EA5B13 ) )
        {
            player._id_3EEDB8574BAE470A.contents[index]["quantity"] = 0;
            player._id_3EEDB8574BAE470A.contents[index]["lootID"] = 0;
        }

        if ( _id_042DCD1DAFC60CA9 )
        {
            _id_B1423ADECED14528( player, index, 0, 0 );
            return;
        }

        _id_446C7AD7BCC70992( player, index, 0, 0 );
    }
}

_id_F0617AD70B7E7792( _id_8817E4FBE0F63228, _id_EBBCB5A184F5C67B, _id_69E96A4CAA72D794 )
{
    if ( !isalive( self ) )
        return;

    _id_042DCD1DAFC60CA9 = _id_C26E54FFD0C8BE94( _id_69E96A4CAA72D794, _id_8817E4FBE0F63228 );
    _id_F6432F9A3688CA5A = _id_532EAC3C428E5B9B( _id_69E96A4CAA72D794 );

    if ( _id_042DCD1DAFC60CA9 )
        _id_8817E4FBE0F63228 = _id_8817E4FBE0F63228 - 10;

    if ( _id_EBBCB5A184F5C67B == 100 )
    {
        if ( scripts\cp_mp\utility\script_utility::issharedfuncdefined( "pmc_missions", "onPickupWeapon" ) )
            [[ scripts\cp_mp\utility\script_utility::getsharedfunc( "pmc_missions", "onPickupWeapon" ) ]]( self );

        if ( _id_2D9D24F7C63AC143::_id_EFAB78B72D131D76( self ) )
        {
            _id_FCBB55496A5BA4CB = _id_2D9D24F7C63AC143::_id_2985254128B1C262( self );
            _id_45D3E9C928EE2A64 = getcompleteweaponname( _id_FCBB55496A5BA4CB );
            dropstruct = _id_7E52B56769FA7774::_id_7B9F3966A7A42003();
            _id_CB4FAD49263E20C4 = _id_7E52B56769FA7774::getitemdroporiginandangles( dropstruct, self.origin, self.angles, self, undefined );
            item = _id_7E52B56769FA7774::spawnpickup( _id_45D3E9C928EE2A64, _id_CB4FAD49263E20C4, 1, 1, _id_FCBB55496A5BA4CB, 0 );
            item._id_E1147886CCF51970 = _id_724736FCF0FB6604::_id_86A5C7670325346B( self, 2 );
            _id_2D9D24F7C63AC143::_id_954372D604277278( self );
        }

        weaponobj = undefined;
        _id_C67DA3567CAE3337 = 0;

        if ( _id_8817E4FBE0F63228 == 150 )
        {
            if ( isdefined( _id_69E96A4CAA72D794._id_A0E9FEF038504BD0 ) )
            {
                weaponobj = _id_69E96A4CAA72D794._id_A0E9FEF038504BD0;
                _id_C67DA3567CAE3337 = 1;
            }
        }
        else if ( isdefined( _id_69E96A4CAA72D794._id_6FB67C8525B1D79E ) )
            weaponobj = _id_69E96A4CAA72D794._id_6FB67C8525B1D79E;
        else if ( isdefined( _id_69E96A4CAA72D794.contents[_id_8817E4FBE0F63228]["ref"] ) )
        {
            weaponref = _id_69E96A4CAA72D794.contents[_id_8817E4FBE0F63228]["ref"];
            weaponobj = _id_7E52B56769FA7774::getfullweaponobjforscriptablepartname( weaponref );
        }
        else if ( _id_F6432F9A3688CA5A && isdefined( _id_69E96A4CAA72D794._id_556DB0B72A96514E[self.guid]._id_6FB67C8525B1D79E ) )
            weaponobj = _id_69E96A4CAA72D794._id_556DB0B72A96514E[self.guid]._id_6FB67C8525B1D79E;

        if ( !isdefined( weaponobj ) )
            return;

        _id_E1147886CCF51970 = undefined;

        if ( _id_F6432F9A3688CA5A )
            _id_E1147886CCF51970 = _id_69E96A4CAA72D794._id_556DB0B72A96514E[self.guid]._id_275F4441AB7920C8;
        else
            _id_E1147886CCF51970 = _id_69E96A4CAA72D794._id_275F4441AB7920C8;

        _id_2D9D24F7C63AC143::_id_E35A7CB7E7C8C17E( self, weaponobj, 1 );
        _id_724736FCF0FB6604::_id_AE30366A2D519A57( self, 2, _id_E1147886CCF51970 );

        if ( _id_C67DA3567CAE3337 )
        {
            _id_7F855164A30A5F5F( self );
            _id_69E96A4CAA72D794._id_A06E7128C001851D = 0;
            _id_69E96A4CAA72D794._id_A0E9FEF038504BD0 = undefined;
        }
        else
        {
            if ( isdefined( _id_69E96A4CAA72D794._id_6FB67C8525B1D79E ) )
            {
                self setclientomnvar( "loot_container_weapon", 0 );
                _id_69E96A4CAA72D794._id_04F6CDE716E0C3D7 = 0;
                _id_69E96A4CAA72D794._id_6FB67C8525B1D79E = undefined;
            }

            if ( _id_F6432F9A3688CA5A && isdefined( _id_69E96A4CAA72D794._id_556DB0B72A96514E[self.guid]._id_6FB67C8525B1D79E ) )
            {
                self setclientomnvar( "loot_container_weapon", 0 );
                _id_69E96A4CAA72D794._id_556DB0B72A96514E[self.guid]._id_04F6CDE716E0C3D7 = 0;
                _id_69E96A4CAA72D794._id_556DB0B72A96514E[self.guid]._id_6FB67C8525B1D79E = undefined;
            }
            else
            {
                _id_69E96A4CAA72D794.contents[_id_8817E4FBE0F63228]["lootID"] = 0;
                _id_69E96A4CAA72D794.contents[_id_8817E4FBE0F63228]["quantity"] = 0;
            }
        }

        if ( istrue( self._id_7F15935A89EA5B13 ) )
        {
            self._id_3EEDB8574BAE470A.contents[_id_8817E4FBE0F63228]["quantity"] = 0;
            self._id_3EEDB8574BAE470A.contents[_id_8817E4FBE0F63228]["lootID"] = 0;
        }

        if ( !_id_C67DA3567CAE3337 )
            _id_446C7AD7BCC70992( self, _id_8817E4FBE0F63228, 0, 0 );

        return;
    }

    if ( _id_042DCD1DAFC60CA9 )
    {
        _id_879D3E9D5C72B703 = _id_69E96A4CAA72D794._id_BF23A60678978C19[_id_8817E4FBE0F63228]["lootID"];
        _id_EA1DCC638E88B8C9 = _id_69E96A4CAA72D794._id_BF23A60678978C19[_id_8817E4FBE0F63228]["quantity"];
    }
    else if ( _id_F6432F9A3688CA5A )
    {
        _id_879D3E9D5C72B703 = _id_69E96A4CAA72D794._id_556DB0B72A96514E[self.guid].contents[_id_8817E4FBE0F63228]["lootID"];
        _id_EA1DCC638E88B8C9 = _id_69E96A4CAA72D794._id_556DB0B72A96514E[self.guid].contents[_id_8817E4FBE0F63228]["quantity"];
    }
    else
    {
        _id_879D3E9D5C72B703 = _id_69E96A4CAA72D794.contents[_id_8817E4FBE0F63228]["lootID"];
        _id_EA1DCC638E88B8C9 = _id_69E96A4CAA72D794.contents[_id_8817E4FBE0F63228]["quantity"];
    }

    _id_B358C0DF5898A29B = _id_600B944A95C3A7BF::_id_E1D5A33193DB0133( _id_879D3E9D5C72B703 );
    [_id_F27898E4AFD922B4, _id_DFAB44D4D8D10B36] = _id_2D9D24F7C63AC143::_id_6738846DA50730F1( _id_EBBCB5A184F5C67B );
    _id_2789584B4D4CB228 = _id_600B944A95C3A7BF::_id_E1D5A33193DB0133( _id_F27898E4AFD922B4 );
    _id_AB2190C9F802C652 = isdefined( _id_B358C0DF5898A29B ) && _id_55E418C5CC946593::_id_43044DA0ED44D79F( _id_B358C0DF5898A29B );
    _id_FA65D19C2D55B80D = isdefined( _id_2789584B4D4CB228 ) && _id_55E418C5CC946593::_id_43044DA0ED44D79F( _id_2789584B4D4CB228 );
    _id_49A9BFD1B8E9AF02 = isdefined( _id_2789584B4D4CB228 ) && _id_7E52B56769FA7774::_id_EC7064081654489C( _id_2789584B4D4CB228 );

    if ( _id_FA65D19C2D55B80D )
    {
        dropstruct = _id_7E52B56769FA7774::_id_7B9F3966A7A42003();
        dropstruct.dropcount = _id_EBBCB5A184F5C67B;
        _id_CB4FAD49263E20C4 = _id_7E52B56769FA7774::getitemdroporiginandangles( dropstruct, self.origin, self.angles, self, undefined );
        item = _id_7E52B56769FA7774::spawnpickup( _id_2789584B4D4CB228, _id_CB4FAD49263E20C4, _id_DFAB44D4D8D10B36, 1, undefined, 0 );
        _id_55E418C5CC946593::_id_BBB44BD3B8347EFC( _id_EBBCB5A184F5C67B, item );
    }
    else if ( _id_49A9BFD1B8E9AF02 )
    {
        dropstruct = _id_7E52B56769FA7774::_id_7B9F3966A7A42003();
        _id_CB4FAD49263E20C4 = _id_7E52B56769FA7774::getitemdroporiginandangles( dropstruct, self.origin, self.angles, self, undefined );
        _id_F7806D4CF24AACD3 = _id_7E52B56769FA7774::spawnpickup( _id_2789584B4D4CB228, _id_CB4FAD49263E20C4, _id_DFAB44D4D8D10B36, 1, undefined, 0 );
        _id_024E8AFC4332EFA8::_id_ED6E702B8D56CF31( self, _id_F7806D4CF24AACD3, _id_EBBCB5A184F5C67B );
    }

    _id_2D9D24F7C63AC143::_id_DB1DD76061352E5B( _id_EBBCB5A184F5C67B, _id_DFAB44D4D8D10B36 );
    _id_60227BFF1E9478CC = spawnstruct();
    _id_60227BFF1E9478CC.scriptablename = _id_600B944A95C3A7BF::_id_E1D5A33193DB0133( _id_879D3E9D5C72B703 );
    _id_60227BFF1E9478CC.count = _id_EA1DCC638E88B8C9;

    if ( _id_AB2190C9F802C652 )
    {
        _id_55E418C5CC946593::_id_1CA82D98D7519E1F( _id_EBBCB5A184F5C67B, _id_69E96A4CAA72D794 );
        _id_2D9D24F7C63AC143::_id_11F48AE5B87B4525( self, _id_EBBCB5A184F5C67B, _id_879D3E9D5C72B703, 1 );
    }
    else
    {
        _id_2D9D24F7C63AC143::_id_10F6E537F1B5763C( _id_879D3E9D5C72B703, _id_60227BFF1E9478CC );
        _id_7E52B56769FA7774::_id_A74604666BDE595B( _id_60227BFF1E9478CC );
    }

    if ( !getdvarint( "dvar_8B40BEE5A7E0FC04", 0 ) || _id_F3557CAF4562BFF7( _id_69E96A4CAA72D794 ) || _id_54066DBD8EF44FE1( _id_69E96A4CAA72D794 ) )
    {
        if ( _id_042DCD1DAFC60CA9 )
        {
            _id_69E96A4CAA72D794._id_BF23A60678978C19[_id_8817E4FBE0F63228]["lootID"] = 0;
            _id_69E96A4CAA72D794._id_BF23A60678978C19[_id_8817E4FBE0F63228]["quantity"] = 0;
        }
        else if ( _id_F6432F9A3688CA5A )
        {
            _id_69E96A4CAA72D794._id_556DB0B72A96514E[self.guid].contents[_id_8817E4FBE0F63228]["lootID"] = 0;
            _id_69E96A4CAA72D794._id_556DB0B72A96514E[self.guid].contents[_id_8817E4FBE0F63228]["quantity"] = 0;
        }
        else
        {
            _id_69E96A4CAA72D794.contents[_id_8817E4FBE0F63228]["lootID"] = 0;
            _id_69E96A4CAA72D794.contents[_id_8817E4FBE0F63228]["quantity"] = 0;
        }

        if ( istrue( self._id_7F15935A89EA5B13 ) )
        {
            self._id_3EEDB8574BAE470A.contents[_id_8817E4FBE0F63228]["quantity"] = 0;
            self._id_3EEDB8574BAE470A.contents[_id_8817E4FBE0F63228]["lootID"] = 0;
        }

        if ( _id_042DCD1DAFC60CA9 )
            _id_B1423ADECED14528( self, _id_8817E4FBE0F63228, 0, 0 );
        else
            _id_446C7AD7BCC70992( self, _id_8817E4FBE0F63228, 0, 0 );

        maxcount = level.br_pickups._id_04138F9DDC1CD22D[_id_60227BFF1E9478CC.scriptablename];

        if ( !isdefined( maxcount ) || maxcount == 0 )
            maxcount = level.br_pickups.maxcounts[_id_60227BFF1E9478CC.scriptablename];

        dropstruct = _id_7E52B56769FA7774::_id_7B9F3966A7A42003();

        if ( maxcount < _id_EA1DCC638E88B8C9 )
            dropstruct.dropcount = 1;

        if ( !_id_FA65D19C2D55B80D && !_id_49A9BFD1B8E9AF02 )
        {
            _id_CB4FAD49263E20C4 = _id_7E52B56769FA7774::getitemdroporiginandangles( dropstruct, self.origin, self.angles, self, undefined );
            scriptablename = _id_600B944A95C3A7BF::_id_E1D5A33193DB0133( _id_F27898E4AFD922B4 );
            _id_7E52B56769FA7774::spawnpickup( scriptablename, _id_CB4FAD49263E20C4, _id_DFAB44D4D8D10B36, 1, undefined, 0 );
        }
    }
    else
    {
        if ( _id_F6432F9A3688CA5A )
        {
            _id_69E96A4CAA72D794._id_556DB0B72A96514E[self.guid].contents[_id_8817E4FBE0F63228]["lootID"] = _id_F27898E4AFD922B4;
            _id_69E96A4CAA72D794._id_556DB0B72A96514E[self.guid].contents[_id_8817E4FBE0F63228]["quantity"] = _id_DFAB44D4D8D10B36;
        }
        else
        {
            _id_69E96A4CAA72D794.contents[_id_8817E4FBE0F63228]["lootID"] = _id_F27898E4AFD922B4;
            _id_69E96A4CAA72D794.contents[_id_8817E4FBE0F63228]["quantity"] = _id_DFAB44D4D8D10B36;
        }

        if ( istrue( self._id_7F15935A89EA5B13 ) )
        {
            self._id_3EEDB8574BAE470A.contents[_id_8817E4FBE0F63228]["quantity"] = _id_F27898E4AFD922B4;
            self._id_3EEDB8574BAE470A.contents[_id_8817E4FBE0F63228]["lootID"] = _id_DFAB44D4D8D10B36;
        }

        _id_446C7AD7BCC70992( self, _id_8817E4FBE0F63228, _id_F27898E4AFD922B4, _id_DFAB44D4D8D10B36 );

        if ( getdvarint( "dvar_C85A9BCC06A81A1F", 0 ) )
        {
            if ( !isdefined( _id_69E96A4CAA72D794._id_2568210352BE1ECF ) )
                _id_69E96A4CAA72D794._id_2568210352BE1ECF = [];

            _id_69E96A4CAA72D794._id_2568210352BE1ECF[_id_8817E4FBE0F63228] = [];
            _id_69E96A4CAA72D794._id_2568210352BE1ECF[_id_8817E4FBE0F63228]["lootID"] = _id_F27898E4AFD922B4;
            _id_69E96A4CAA72D794._id_2568210352BE1ECF[_id_8817E4FBE0F63228]["quantity"] = _id_DFAB44D4D8D10B36;
        }
    }

    if ( _id_F3557CAF4562BFF7( _id_69E96A4CAA72D794 ) )
    {
        self setclientomnvar( "loot_container_open", 0 );
        _id_69E96A4CAA72D794 notify( "closed" );
        _id_7E52B56769FA7774::loothide( _id_69E96A4CAA72D794 );
    }
}

_id_E183B2E94298BB75( loadoutindex, player, _id_69E96A4CAA72D794, itemtype )
{
    _id_7E52B56769FA7774::_id_62F068CEC343A111( player, 1, loadoutindex - 1, undefined, 0, 0 );
    _id_6FB67C8525B1D79E = undefined;
    _id_C67DA3567CAE3337 = 0;
    _id_F6432F9A3688CA5A = _id_532EAC3C428E5B9B( _id_69E96A4CAA72D794 );

    if ( itemtype == 150 )
    {
        _id_6FB67C8525B1D79E = _id_69E96A4CAA72D794._id_A0E9FEF038504BD0;
        _id_C67DA3567CAE3337 = 1;
    }
    else if ( _id_F6432F9A3688CA5A )
        _id_6FB67C8525B1D79E = _id_69E96A4CAA72D794._id_556DB0B72A96514E[player.guid]._id_6FB67C8525B1D79E;
    else
        _id_6FB67C8525B1D79E = _id_69E96A4CAA72D794._id_6FB67C8525B1D79E;

    _id_45D3E9C928EE2A64 = getcompleteweaponname( _id_6FB67C8525B1D79E );
    _id_0D8AEA6BBFACDFF1 = undefined;

    if ( isdefined( _id_6FB67C8525B1D79E.basename ) )
        _id_0D8AEA6BBFACDFF1 = _id_6FB67C8525B1D79E.basename;
    else
        _id_0D8AEA6BBFACDFF1 = getweaponbasename( _id_6FB67C8525B1D79E );

    success = _id_724736FCF0FB6604::br_forcegivecustomweapon( player, _id_6FB67C8525B1D79E, _id_45D3E9C928EE2A64, _id_0D8AEA6BBFACDFF1 );

    if ( success )
    {
        weaponslot = scripts\engine\utility::ter_op( player.primaryweaponobj == _id_6FB67C8525B1D79E, 0, 1 );
        _id_0B7A9CE0A2282B79::_id_5D94B2DFABBC4CCE( player, _id_6FB67C8525B1D79E, weaponslot, 1 );

        if ( _id_C67DA3567CAE3337 )
        {
            _id_7F855164A30A5F5F( player );
            _id_69E96A4CAA72D794._id_A06E7128C001851D = 0;
            _id_69E96A4CAA72D794._id_A0E9FEF038504BD0 = undefined;
        }
        else if ( _id_F6432F9A3688CA5A )
        {
            player setclientomnvar( "loot_container_weapon", 0 );
            _id_69E96A4CAA72D794._id_556DB0B72A96514E[player.guid]._id_04F6CDE716E0C3D7 = 0;
            _id_69E96A4CAA72D794._id_556DB0B72A96514E[player.guid]._id_6FB67C8525B1D79E = undefined;
        }
        else
        {
            player setclientomnvar( "loot_container_weapon", 0 );
            _id_69E96A4CAA72D794._id_04F6CDE716E0C3D7 = 0;
            _id_69E96A4CAA72D794._id_6FB67C8525B1D79E = undefined;
        }

        if ( _id_F3557CAF4562BFF7( _id_69E96A4CAA72D794 ) )
        {
            player setclientomnvar( "loot_container_open", 0 );
            _id_69E96A4CAA72D794 notify( "closed" );
            _id_7E52B56769FA7774::loothide( _id_69E96A4CAA72D794 );
        }
    }
}

_id_68CA06034B8AACCD( opener, _id_69E96A4CAA72D794 )
{
    [items, _id_77DC0A100921C5A7] = _id_0438749EB7A7B738( _id_69E96A4CAA72D794.contents, opener, _id_69E96A4CAA72D794 );
    _id_69E96A4CAA72D794.contents = items;
    opener._id_02FA5B49969DEF47 = _id_69E96A4CAA72D794;
    opener._id_F2AA9AE949179907 = opener.origin;

    if ( isdefined( _id_69E96A4CAA72D794.parent ) )
        opener._id_F2AA9AE949179907 = opener.origin - _id_69E96A4CAA72D794.parent.origin;

    if ( items.size > 10 )
    {

    }

    for ( _id_3793828403C6873E = 0; _id_3793828403C6873E < 10; _id_3793828403C6873E++ )
    {
        if ( _id_3793828403C6873E <= _id_77DC0A100921C5A7 )
        {
            _id_446C7AD7BCC70992( opener, _id_3793828403C6873E, items[_id_3793828403C6873E]["lootID"], items[_id_3793828403C6873E]["quantity"] );
            continue;
        }

        _id_C7294F5B9B5006D5( opener, _id_3793828403C6873E );
    }

    opener setclientomnvar( "loot_container_weapon", 0 );

    if ( !isdefined( _id_69E96A4CAA72D794._id_46A3A8565AC0C17C ) )
        _id_69E96A4CAA72D794._id_46A3A8565AC0C17C = 1;

    _id_46A3A8565AC0C17C = _id_69E96A4CAA72D794._id_46A3A8565AC0C17C;

    foreach ( player in level.players )
        _id_69E96A4CAA72D794 disablescriptableplayeruse( player );

    opener setclientomnvar( "loot_container_open", _id_46A3A8565AC0C17C );
    _id_69E96A4CAA72D794 thread _id_71A59F067D5FE986( _id_69E96A4CAA72D794, opener );
    _id_69E96A4CAA72D794 thread _id_47B931D76FFD028F( _id_69E96A4CAA72D794, opener );
}

_id_E146F016A8A7244F( _id_EA3E3B2121E6713A, _id_E1D097C517C3AF5B )
{
    if ( istrue( level.infilcinematicactive ) )
        return;

    if ( isdefined( _id_EA3E3B2121E6713A ) )
    {
        if ( !isdefined( self._id_02FA5B49969DEF47 ) )
            return;

        _id_69E96A4CAA72D794 = self._id_02FA5B49969DEF47;

        switch ( _id_EA3E3B2121E6713A )
        {
            case "loot_container":
                _id_9D924AEA120C2693( self, _id_E1D097C517C3AF5B, _id_69E96A4CAA72D794 );
                _id_2F00CA0526F3EDC6( self, _id_E1D097C517C3AF5B, 1, _id_69E96A4CAA72D794 );

                if ( isdefined( _id_69E96A4CAA72D794 ) && _id_23A3BB1172216C05( _id_69E96A4CAA72D794, self ) && _id_6F45E7311F77EAC4( self ) )
                    _id_68085C72D7B628EC( _id_69E96A4CAA72D794, self );

                break;
            case "loot_all_container":
                if ( isdefined( _id_69E96A4CAA72D794 ) && _id_F3557CAF4562BFF7( _id_69E96A4CAA72D794 ) )
                    break;

                if ( _id_E1D097C517C3AF5B == 100 )
                    _id_A335AA664CAA37C9( self, _id_69E96A4CAA72D794 );
                else
                {
                    _id_9D924AEA120C2693( self, _id_E1D097C517C3AF5B, _id_69E96A4CAA72D794 );
                    _id_2F00CA0526F3EDC6( self, _id_E1D097C517C3AF5B, undefined, _id_69E96A4CAA72D794 );
                }

                if ( isdefined( _id_69E96A4CAA72D794 ) && _id_23A3BB1172216C05( _id_69E96A4CAA72D794, self ) && _id_6F45E7311F77EAC4( self ) )
                    _id_68085C72D7B628EC( _id_69E96A4CAA72D794, self );

                break;
            case "equip_loot_container":
                loadoutindex = _id_E1D097C517C3AF5B >> 8;
                itemtype = _id_E1D097C517C3AF5B & 255;

                if ( ( itemtype == 3 || itemtype == 150 ) && loadoutindex != 0 )
                    _id_E183B2E94298BB75( loadoutindex, self, _id_69E96A4CAA72D794, itemtype );
                else if ( _id_E1D097C517C3AF5B == 100 || itemtype == 150 )
                    _id_A92926D5B02CF6ED( self, _id_69E96A4CAA72D794, itemtype );
                else
                {
                    _id_9D924AEA120C2693( self, itemtype, _id_69E96A4CAA72D794 );
                    _id_3AE3712FE76D0C6A( self, itemtype, loadoutindex, _id_69E96A4CAA72D794 );
                }

                if ( isdefined( _id_69E96A4CAA72D794 ) && _id_23A3BB1172216C05( _id_69E96A4CAA72D794, self ) && _id_6F45E7311F77EAC4( self ) )
                    _id_68085C72D7B628EC( _id_69E96A4CAA72D794, self );

                break;
            case "close_loot_container":
                if ( isdefined( _id_69E96A4CAA72D794 ) && !istrue( self._id_7F15935A89EA5B13 ) )
                    _id_68085C72D7B628EC( _id_69E96A4CAA72D794, self );

                break;
            case "loot_to_specific_slot":
                _id_8817E4FBE0F63228 = _id_E1D097C517C3AF5B >> 8;
                _id_EBBCB5A184F5C67B = _id_E1D097C517C3AF5B & 255;

                if ( _id_6F45E7311F77EAC4( self ) && isdefined( _id_69E96A4CAA72D794 ) )
                    _id_F0617AD70B7E7792( _id_8817E4FBE0F63228, _id_EBBCB5A184F5C67B, _id_69E96A4CAA72D794 );

                if ( isdefined( _id_69E96A4CAA72D794 ) && _id_23A3BB1172216C05( _id_69E96A4CAA72D794, self ) && _id_6F45E7311F77EAC4( self ) )
                    _id_68085C72D7B628EC( _id_69E96A4CAA72D794, self );

                break;
            default:
                break;
        }
    }
}

_id_9D924AEA120C2693( player, _id_E1D097C517C3AF5B, _id_69E96A4CAA72D794 )
{
    if ( _id_C26E54FFD0C8BE94( _id_69E96A4CAA72D794, _id_E1D097C517C3AF5B ) )
        return;

    lootid = _id_F478CA9D3C44018C( player, _id_E1D097C517C3AF5B );
    _id_35EABFFB2F0F31E3 = _id_8E5978971B5DCD16( player, _id_E1D097C517C3AF5B );

    if ( lootid == 0 || _id_35EABFFB2F0F31E3 == 0 )
        return;

    contents = undefined;

    if ( _id_532EAC3C428E5B9B( _id_69E96A4CAA72D794 ) )
        contents = _id_69E96A4CAA72D794._id_556DB0B72A96514E[player.guid].contents;
    else
        contents = _id_69E96A4CAA72D794.contents;

    if ( isdefined( contents[_id_E1D097C517C3AF5B] ) && isdefined( contents[_id_E1D097C517C3AF5B]["callback"] ) )
        thread [[ self._id_02FA5B49969DEF47.contents[_id_E1D097C517C3AF5B]["callback"] ]]( self._id_02FA5B49969DEF47, player );
}

_id_55B384ECB923003E()
{
    return getdvarint( "dvar_F86A28F69E6CCC38", 1 ) == 1;
}

_id_C929A8AD95B46FDA( _id_69E96A4CAA72D794 )
{
    if ( isdefined( _id_69E96A4CAA72D794.type ) && _id_69E96A4CAA72D794.type != "br_loot_cache" && _id_69E96A4CAA72D794.type != "br_loot_cache_lege" && _id_69E96A4CAA72D794.type != "dmz_crate_wood" )
        return 1;

    if ( !getdvarint( "dvar_F6C12CF19AC66121", 1 ) )
        return 1;

    return 0;
}

_id_4749C1A092E650BD()
{
    return getdvarint( "dvar_1B2E1EF116B3DE36", 0 ) == 1;
}

_id_8306D72EA2E8889C()
{
    return getdvarint( "dvar_B692410C5B56FFB5", 1 ) == 1;
}

_id_310AB06891CB4517()
{
    return _id_4749C1A092E650BD() || _id_8306D72EA2E8889C() || _id_55B384ECB923003E();
}
