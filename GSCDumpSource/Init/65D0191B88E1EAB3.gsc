// IW9 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

onplayerjointeam( player )
{
    thread onplayerjointeamnospectator( player );

    if ( isdefined( level.onjointeamcallbacks ) )
    {
        foreach ( callback in level.onjointeamcallbacks )
            self [[ callback ]]( player );
    }
}

registeronplayerjointeamcallback( callback )
{
    if ( !isdefined( level.onjointeamcallbacks ) )
        level.onjointeamcallbacks = [];

    level.onjointeamcallbacks[level.onjointeamcallbacks.size] = callback;
}

onplayerjointeamnospectator( player )
{
    player notify( "onPlayerJoinTeamNoSpectator" );

    if ( player.sessionstate == "spectator" )
    {
        player endon( "death_or_disconnect" );
        player endon( "onPlayerJoinTeamNoSpectator" );

        while ( player.sessionstate == "spectator" )
            waitframe();
    }

    if ( isdefined( level.onjointeamnospectatorcallbacks ) )
    {
        foreach ( callback in level.onjointeamnospectatorcallbacks )
            self [[ callback ]]( player );
    }
}

registeronplayerjointeamnospectatorcallback( callback )
{
    if ( !isdefined( level.onjointeamnospectatorcallbacks ) )
        level.onjointeamnospectatorcallbacks = [];

    level.onjointeamnospectatorcallbacks[level.onjointeamnospectatorcallbacks.size] = callback;
}
