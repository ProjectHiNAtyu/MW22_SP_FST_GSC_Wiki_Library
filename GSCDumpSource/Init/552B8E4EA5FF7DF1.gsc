// IW9 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

brlootcache_init()
{
    scripts\engine\scriptable::scriptable_addusedcallbackbypart( "body", ::lootcacheused );
}

canspawnitemname( itemname )
{
    if ( !isdefined( itemname ) )
        return 0;

    if ( _id_2CEDCC356F1B9FC8::_id_D6AE35E0CE14BBAF() )
    {
        if ( isdefined( level.forbiddencachespawns ) && isdefined( level.forbiddencachespawns[itemname] ) )
            return 0;
    }

    if ( itemname == "brloot_respawn_token" && _id_7E52B56769FA7774::respawntokendisabled() )
        return 0;

    return 1;
}

lootspawnitem( itemname, dropstruct, origin, angles, _id_4EDDEDC3311EDE0D, _id_3F237137640BEDCE )
{
    if ( istrue( _id_4EDDEDC3311EDE0D ) )
    {
        if ( dropstruct.dropcount % 2 > 0 )
            yaw = 75;
        else
            yaw = 115;

        yaw = yaw + randomfloatrange( -10, 10 );
        dist = 35 + dropstruct.dropcount / 2 * 25 + randomfloatrange( -5, 5 );
        _id_CB4FAD49263E20C4 = _id_7E52B56769FA7774::getitemdroporiginandangles( dropstruct, origin, angles, undefined, yaw, dist );
    }
    else
        _id_CB4FAD49263E20C4 = _id_7E52B56769FA7774::getitemdroporiginandangles( dropstruct, origin, angles );

    dropcount = level.br_pickups.counts[itemname];
    _id_EB545D149EFBFD23 = undefined;
    _id_37DDA6C5E1DABEFA = undefined;
    fullweaponobj = _id_7E52B56769FA7774::getfullweaponobjforscriptablepartname( itemname );

    if ( isdefined( fullweaponobj ) )
    {
        dropcount = _id_724736FCF0FB6604::br_getweaponstartingclipammo( fullweaponobj );

        if ( scripts\mp\utility\weapon::isakimbo( fullweaponobj ) )
            _id_EB545D149EFBFD23 = dropcount;

        if ( fullweaponobj.hasalternate )
        {
            _id_BE014A8D5A4F68F4 = fullweaponobj getaltweapon();
            _id_37DDA6C5E1DABEFA = int( min( weaponclipsize( _id_BE014A8D5A4F68F4 ), dropcount ) );
        }
    }

    _id_AD30CE892002A2B2 = _id_7E52B56769FA7774::spawnpickup( itemname, _id_CB4FAD49263E20C4, dropcount, 1, undefined, undefined, _id_EB545D149EFBFD23, _id_37DDA6C5E1DABEFA );
    _id_A69FFF5222862F26 = level.br_pickups.br_itemrarity[itemname];

    if ( _id_3F237137640BEDCE )
    {

    }

    return _id_AD30CE892002A2B2;
}

_id_848E20CF1D6CAB8F( contents, quantity, lootid, ref, _id_A6F8D8115E0F1E79 )
{
    if ( !isdefined( _id_A6F8D8115E0F1E79 ) )
        _id_A6F8D8115E0F1E79 = contents.size;

    contents[_id_A6F8D8115E0F1E79] = [];
    contents[_id_A6F8D8115E0F1E79]["quantity"] = int( quantity );
    contents[_id_A6F8D8115E0F1E79]["lootID"] = lootid;

    if ( isdefined( ref ) && _id_7E52B56769FA7774::isweaponpickup( ref ) )
        contents[_id_A6F8D8115E0F1E79]["ref"] = ref;

    return contents;
}

_id_EC87B214CD429E96( items, _id_3D7259162C4253EA )
{
    contents = [];

    if ( isdefined( _id_3D7259162C4253EA ) )
        contents = _id_3D7259162C4253EA;

    if ( isdefined( items ) )
    {
        _id_48E9C0F948129A0C = contents.size;

        for ( index = 0; index < items.size - _id_48E9C0F948129A0C; index++ )
        {
            item = items[index];
            lootid = _id_600B944A95C3A7BF::_id_FAE5E1D3DE32D3F7( item );
            quantity = 1;

            if ( isdefined( level.br_pickups.counts[item] ) )
                quantity = level.br_pickups.counts[item];

            if ( !isdefined( lootid ) )
            {
                if ( item == "brloot_armor_plate" )
                    lootid = _id_600B944A95C3A7BF::_id_A50B607D2500DDA5( "armor_plate", "consumable" );
                else if ( _id_7E52B56769FA7774::isplatepouch( item ) )
                    lootid = _id_600B944A95C3A7BF::_id_A50B607D2500DDA5( "armor_satchel", "consumable" );
                else if ( _id_7E52B56769FA7774::isplunder( item ) )
                {
                    lootid = _id_600B944A95C3A7BF::_id_A50B607D2500DDA5( "cash", "consumable" );
                    quantity = level.br_pickups.counts[item];
                }
                else if ( _id_2CEDCC356F1B9FC8::isammo( item ) || item == "brloot_self_revive" )
                {
                    lootid = _id_600B944A95C3A7BF::_id_A50B607D2500DDA5( item, "consumable" );
                    quantity = level.br_pickups.counts[item];
                }
            }

            contents = _id_848E20CF1D6CAB8F( contents, quantity, lootid, item );
        }

        contents = scripts\engine\utility::array_randomize( contents );
    }

    return contents;
}

_id_9065B3738AC07DF0( items, _id_B038ED928EC17A81, player, contents )
{
    _id_B038ED928EC17A81.contents = _id_EC87B214CD429E96( items, contents );

    if ( isdefined( _id_B038ED928EC17A81.contents ) )
        _id_B038ED928EC17A81._id_9632642B41DAD704 = _id_B038ED928EC17A81.contents;

    scripts\mp\loot::_id_30F5EA60517F9E06( player, _id_B038ED928EC17A81 );
    return [];
}

lootspawnitemlist( items, _id_A6293F3144240B99, player )
{
    _id_E05413A53B5D9167 = [];
    _id_17B34CF2DD66912F = 0;

    if ( _id_8C57777A730CA632( self ) && isdefined( self.owner ) )
    {
        _id_E9E9E4F0D28D6357 = [];

        foreach ( item in items )
        {
            if ( isdefined( item["lootID"] ) )
            {
                scriptable = _id_600B944A95C3A7BF::_id_E1D5A33193DB0133( item["lootID"] );
                _id_E9E9E4F0D28D6357[_id_E9E9E4F0D28D6357.size] = scriptable;
            }
        }

        items = _id_E9E9E4F0D28D6357;
    }

    dropstruct = _id_7E52B56769FA7774::_id_7B9F3966A7A42003();
    _id_4472B62C1FA150E5 = 0;

    foreach ( itemname in items )
    {
        if ( canspawnitemname( itemname ) )
        {
            _id_A69FFF5222862F26 = level.br_pickups.br_itemrarity[itemname];

            if ( isdefined( _id_A69FFF5222862F26 ) && _id_A69FFF5222862F26 == 4 && _id_17B34CF2DD66912F == 0 )
            {
                _id_E05413A53B5D9167[_id_E05413A53B5D9167.size] = lootspawnitem( itemname, dropstruct, self.origin, self.angles, _id_A6293F3144240B99, 1 );
                self.itemsdropped++;
                _id_17B34CF2DD66912F = 1;
            }
            else
            {
                _id_E05413A53B5D9167[_id_E05413A53B5D9167.size] = lootspawnitem( itemname, dropstruct, self.origin, self.angles, _id_A6293F3144240B99, 0 );
                self.itemsdropped++;
            }

            if ( !_id_4472B62C1FA150E5 && istrue( _id_A6293F3144240B99 ) )
                _id_4472B62C1FA150E5 = _id_2CEDCC356F1B9FC8::_id_63D8455B2C1455EB( itemname );
        }
    }

    if ( _id_8C57777A730CA632( self ) && isdefined( self.owner ) )
    {
        foreach ( item in _id_E05413A53B5D9167 )
            self.owner _id_7E52B56769FA7774::_id_2F4E0022C686DBE6( item );

        if ( isdefined( self._id_04F6CDE716E0C3D7 ) && isdefined( self._id_6FB67C8525B1D79E ) )
        {
            _id_CB4FAD49263E20C4 = _id_7E52B56769FA7774::getitemdroporiginandangles( dropstruct, self.origin, self.angles );
            _id_C9614496B843196E = _id_724736FCF0FB6604::weaponspawn( self._id_6FB67C8525B1D79E, self.owner, _id_CB4FAD49263E20C4, 0, 1 );

            if ( isdefined( _id_C9614496B843196E ) )
            {
                ammotype = _id_724736FCF0FB6604::br_ammo_type_for_weapon( self._id_6FB67C8525B1D79E );
                _id_C9614496B843196E.ammotype = ammotype;
                _id_7E52B56769FA7774::loot_setitemcount( _id_C9614496B843196E, self._id_3EF503345DC57957, 0, self._id_86B32AFF94B5714E );
            }

            self.owner _id_7E52B56769FA7774::_id_2F4E0022C686DBE6( _id_C9614496B843196E );
            self._id_04F6CDE716E0C3D7 = undefined;
            self._id_6FB67C8525B1D79E = undefined;
        }

        self.contents = [];
    }

    if ( istrue( _id_A6293F3144240B99 ) && isdefined( player ) )
    {
        if ( _id_4472B62C1FA150E5 )
        {
            player thread scripts\mp\utility\points::_id_0366980B6A8796AE( "stat_F396D39FEE1A8054" );
            player playsoundtoplayer( "uin_loot_container_open_epic", player );
        }
        else
        {
            player thread scripts\mp\utility\points::_id_0366980B6A8796AE( "stat_C19301D569C97C3C" );
            player playsoundtoplayer( "uin_loot_container_open_common", player );
        }
    }

    return _id_E05413A53B5D9167;
}

lootcachespawncontents( items, _id_7A824904D97D59D7, player, contents )
{
    if ( _id_7A824904D97D59D7 )
        return _id_9065B3738AC07DF0( items, self, player, contents );
    else
        return lootspawnitemlist( items, 1, player );
}

lootcacheused( instance, part, state, player, _id_A5B2C541413AA895, _id_CC38472E36BE1B61 )
{
    if ( istrue( player _id_362C58E8BB39BCDA::runbrgametypefunc( "playerSkipLootPickup", instance ) ) )
        return;

    _id_64C59C08B4538D72 = scripts\mp\loot::_id_55B384ECB923003E() && !_id_E91A96D043315490( instance ) && scripts\mp\loot::_id_C929A8AD95B46FDA( instance );

    if ( ( state == "closed_usable" || state == "closed_usable_no_collision" ) && !isdefined( instance.entity ) )
    {
        if ( _id_509A21C5F4CEA6AE::_id_3392F98172A332D7() && !isbot( player ) )
            player thread _id_509A21C5F4CEA6AE::_id_A23861C0F0635CF4( instance.type );

        if ( isdefined( instance._id_534E0CF170A981B7 ) )
        {
            result = [[ instance._id_534E0CF170A981B7 ]]( instance, player );

            if ( isdefined( result ) && result == 0 )
                return;
        }

        if ( _id_64C59C08B4538D72 && instance getscriptableparthasstate( part, "partially_opening_unusable" ) )
            instance setscriptablepartstate( part, "partially_opening_unusable" );
        else if ( instance getscriptableparthasstate( part, "fully_opening_unusable" ) )
            instance setscriptablepartstate( part, "fully_opening_unusable" );

        instance.itemsdropped = 0;
        _id_E05413A53B5D9167 = [];
        items = undefined;

        if ( isdefined( instance.contents ) && !_id_AE639176FEC476A6( instance ) )
            items = instance.contents;
        else
        {
            if ( _id_AE639176FEC476A6( instance ) )
            {
                instance _id_EF853AD16B5319E6();
                items = instance.contents;
            }
            else
                items = getscriptablelootcachecontents( instance );

            if ( !isdefined( items ) )
                return;

            items = _id_728BDC627D7DF6C2( items, instance );

            if ( player scripts\mp\utility\perk::_hasperk( "specialty_br_extra_killstreak_chance" ) )
                items = lootcontentsadjustkillchain( items, player );

            if ( getdvar( "dvar_7611A2790A0BF7FE", "" ) == "plunder" || getdvar( "dvar_7611A2790A0BF7FE", "" ) == "risk" )
            {
                if ( scripts\mp\flags::gameflag( "placement_updates_allowed" ) )
                {
                    placement = game["teamPlacements"][player.team];

                    if ( !isdefined( level.dmz_numteamswithplayers ) )
                        _id_56055017E5E588FE::calculatenumteamswithplayers();

                    _id_777FC6D644BB8864 = 100 - 100 * placement / level.dmz_numteamswithplayers;

                    if ( isdefined( level.bottompercentagetoadjusteconomy ) && _id_777FC6D644BB8864 < level.bottompercentagetoadjusteconomy )
                        items = lootcontentsadjusteconomy_bottomtier( instance, items );
                    else if ( isdefined( level.toppercentagetoadjusteconomy ) && _id_777FC6D644BB8864 > level.toppercentagetoadjusteconomy )
                        items = lootcontentsadjusteconomy_toptier( instance, items );
                }
            }

            if ( isdefined( level.maxaccesscardspawns_red ) )
                items = lootcontentsadjust_accesscardsred( items );
        }

        if ( _id_6759FF16E552AA94( instance ) || _id_8C57777A730CA632( instance ) )
            player playsoundtoplayer( "open_backpack", player );

        if ( !isdefined( instance._id_46A3A8565AC0C17C ) )
            instance._id_46A3A8565AC0C17C = 3;

        _id_E05413A53B5D9167 = instance lootcachespawncontents( items, _id_64C59C08B4538D72, player, instance.contents );

        if ( !isdefined( level._id_BD006676148E6C40 ) )
            level._id_BD006676148E6C40 = [];

        _id_2B48101CA8AD8249 = undefined;

        switch ( instance.type )
        {
            case "br_loot_cache":
                _id_2B48101CA8AD8249 = "cache";
                level._id_BD006676148E6C40 = scripts\engine\utility::array_add( level._id_BD006676148E6C40, instance );
                break;
            case "br_loot_cache_lege":
                _id_2B48101CA8AD8249 = "cache_legendary";
                level._id_BD006676148E6C40 = scripts\engine\utility::array_add( level._id_BD006676148E6C40, instance );
                break;
            case "br_scavenger_quest_cache":
                _id_2B48101CA8AD8249 = "cache_scavenger";
                break;
            case "br_secretstash_quest_cache":
                _id_2B48101CA8AD8249 = "cache_secretstash";
                break;
            case "br_reusable_loot_cache":
                _id_2B48101CA8AD8249 = "reusable_cache";
                instance thread _id_BD5CC49BE99997BD( part );
                instance._id_AB01AFAE3CE374E2 = player;
                level._id_BD006676148E6C40 = scripts\engine\utility::array_add( level._id_BD006676148E6C40, instance );
                break;
        }

        if ( isdefined( _id_2B48101CA8AD8249 ) )
        {
            foreach ( ent in _id_E05413A53B5D9167 )
                ent.lootsource = _id_2B48101CA8AD8249;

            _id_6AFF3948CF4CCA03::modify_plunder_itemsinworld( "br_loot_cache", -1 );
            player scripts\cp_mp\challenges::oncacheopen();

            if ( !isdefined( player.lootcachesopened ) )
                player.lootcachesopened = 1;
            else
                player.lootcachesopened++;

            if ( scripts\mp\utility\game::getsubgametype() != "dmz" )
                player scripts\mp\utility\stats::setextrascore1( player.lootcachesopened );

            level notify( "lootcache_opened_kill_callout" + instance.origin );
        }

        _id_6A8EC730B2BFA844::_id_68D841F5BC2DD2B6( player, instance );
    }
    else if ( _id_64C59C08B4538D72 && isdefined( instance.contents ) && state == "partially_open_usable" )
    {
        if ( instance getscriptableparthasstate( part, "partially_open_in_use_unusable" ) )
            instance setscriptablepartstate( part, "partially_open_in_use_unusable" );

        instance lootcachespawncontents( undefined, _id_64C59C08B4538D72, player, instance.contents );
        _id_6A8EC730B2BFA844::_id_68D841F5BC2DD2B6( player, instance );
    }
}

_id_AE639176FEC476A6( instance )
{
    return instance.type == "br_reusable_loot_cache" && istrue( instance._id_1208F086F2985C55 );
}

_id_BD5CC49BE99997BD( part )
{
    level endon( "game_ended" );
    self endon( "death" );
    _id_EB937F6D33835604 = getdvarint( "dvar_FD0C403FEE9DC217", 90 );
    wait( _id_EB937F6D33835604 );

    if ( isdefined( self._id_AB01AFAE3CE374E2 ) && isdefined( self._id_AB01AFAE3CE374E2._id_02FA5B49969DEF47 ) && self._id_AB01AFAE3CE374E2._id_02FA5B49969DEF47 == self )
        self._id_AB01AFAE3CE374E2 setclientomnvar( "loot_container_open", 0 );

    self setscriptablepartstate( part, "closing" );
    self notify( "closed" );
    self._id_1208F086F2985C55 = 1;
    level._id_BD006676148E6C40 = scripts\engine\utility::array_remove( level._id_BD006676148E6C40, self );
}

_id_EF853AD16B5319E6()
{
    self._id_1208F086F2985C55 = 0;
    _id_744EDF9C7DF03F55 = getdvar( "dvar_5B24E2B2B67B3037", "mp/loot_set_cache_contents_base.csv" );
    self.contents = [];
    _id_E9E9E4F0D28D6357 = getscriptcachecontents( "sc_reusable_cache_restock", randomintrange( 0, 100 ) );
    self.contents = _id_EC87B214CD429E96( _id_E9E9E4F0D28D6357 );
}

_id_E91A96D043315490( instance )
{
    return _id_8C57777A730CA632( instance ) && istrue( level._id_04BC57EBFFEE174B );
}

_id_6759FF16E552AA94( _id_69E96A4CAA72D794 )
{
    return isdefined( _id_69E96A4CAA72D794 ) && isdefined( _id_69E96A4CAA72D794.type ) && _id_69E96A4CAA72D794.type == "brloot_backpack";
}

_id_8C57777A730CA632( _id_69E96A4CAA72D794 )
{
    return isdefined( _id_69E96A4CAA72D794 ) && isdefined( _id_69E96A4CAA72D794.type ) && ( _id_69E96A4CAA72D794.type == "brloot_backpack_player_small" || _id_69E96A4CAA72D794.type == "brloot_backpack_player_medium" || _id_69E96A4CAA72D794.type == "brloot_backpack_player_large" );
}

_id_163D360C111CAA16( contents, _id_8BD50C7E994C7434, _id_42BE80BA01341305 )
{
    _id_FEC4228317AFE4FF = 0;
    _id_311064D4E2C10B88 = 0;

    foreach ( item in contents )
    {
        if ( _id_7E52B56769FA7774::_id_34AF0F77C1668DBA( item["lootID"] ) )
        {
            _id_FEC4228317AFE4FF = _id_FEC4228317AFE4FF + item["quantity"];
            _id_311064D4E2C10B88++;
        }
    }

    if ( _id_311064D4E2C10B88 )
    {
        _id_7F7DFF1F5FD7EF9D = _id_8BD50C7E994C7434 - _id_FEC4228317AFE4FF;
        _id_C1D5034790909C2E = 5 * int( _id_7F7DFF1F5FD7EF9D / _id_311064D4E2C10B88 / 5 );
        _id_E58EAACF6D3921DA = 150;
        _id_745BBDE1234BC1E1 = 0;

        foreach ( _id_AC0E594AC96AA3A8, item in contents )
        {
            if ( _id_7E52B56769FA7774::_id_34AF0F77C1668DBA( item["lootID"] ) && item["quantity"] < _id_E58EAACF6D3921DA )
            {
                _id_BBE29C12A0CBBB11 = max( item["quantity"] + _id_C1D5034790909C2E - _id_E58EAACF6D3921DA, 0 );
                contents[_id_AC0E594AC96AA3A8]["quantity"] = int( min( item["quantity"] + _id_C1D5034790909C2E, _id_E58EAACF6D3921DA ) );
                _id_745BBDE1234BC1E1 = _id_745BBDE1234BC1E1 + _id_BBE29C12A0CBBB11;
            }
        }

        while ( _id_745BBDE1234BC1E1 > 0 )
        {
            value = min( _id_745BBDE1234BC1E1, _id_E58EAACF6D3921DA );
            contents = _id_848E20CF1D6CAB8F( contents, value, 8395 );
            _id_745BBDE1234BC1E1 = _id_745BBDE1234BC1E1 - value;
        }
    }

    return scripts\engine\utility::array_randomize( contents );
}

_id_728BDC627D7DF6C2( items, instance )
{
    if ( instance.type != "br_loot_cache_lege" )
        return items;

    ammotype = "brloot_ammo_762";

    foreach ( item in items )
    {
        if ( isdefined( level.br_lootiteminfo[item] ) && isdefined( level.br_lootiteminfo[item].fullweaponobj ) && _id_7E52B56769FA7774::isweaponpickup( item ) )
        {
            ammotype = _id_724736FCF0FB6604::br_ammo_type_for_weapon( level.br_lootiteminfo[item].fullweaponobj );
            break;
        }
    }

    items[items.size] = ammotype;
    return scripts\engine\utility::array_randomize( items );
}

lootcontentsadjusteconomy_bottomtier( instance, items )
{
    _id_B059ADAF8E5750F5 = [];

    foreach ( item in items )
    {
        if ( issubstr( item, "brloot_plunder" ) )
        {
            if ( instance.type == "br_loot_cache_lege" )
            {
                if ( item != "brloot_plunder_cash_legendary_1" && scripts\engine\utility::cointoss() )
                    item = "brloot_plunder_cash_legendary_1";
            }
            else if ( item != "brloot_plunder_cash_epic_2" && scripts\engine\utility::cointoss() )
                item = "brloot_plunder_cash_epic_2";
        }

        _id_B059ADAF8E5750F5[_id_B059ADAF8E5750F5.size] = item;
    }

    return _id_B059ADAF8E5750F5;
}

lootcontentsadjusteconomy_toptier( instance, items )
{
    _id_B059ADAF8E5750F5 = [];

    foreach ( item in items )
    {
        if ( issubstr( item, "brloot_plunder" ) )
        {
            if ( instance.type == "br_loot_cache_lege" )
            {
                if ( ( item == "brloot_plunder_cash_epic_2" || item == "brloot_plunder_cash_legendary_1" ) && scripts\engine\utility::cointoss() )
                    item = "brloot_plunder_cash_epic_1";
            }
            else if ( ( item == "brloot_plunder_cash_epic_2" || item == "brloot_plunder_cash_epic_1" ) && scripts\engine\utility::cointoss() )
                item = "brloot_plunder_cash_rare_2";
        }

        _id_B059ADAF8E5750F5[_id_B059ADAF8E5750F5.size] = item;
    }

    return _id_B059ADAF8E5750F5;
}

lootcontentsadjust_accesscardsred( items )
{
    _id_B059ADAF8E5750F5 = [];

    foreach ( item in items )
    {
        if ( item != "brloot_access_card_red" )
        {
            _id_B059ADAF8E5750F5[_id_B059ADAF8E5750F5.size] = item;
            continue;
        }

        if ( level.maxaccesscardspawns_red > level.accesscardsspawned_red )
        {
            _id_B059ADAF8E5750F5[_id_B059ADAF8E5750F5.size] = item;
            level.accesscardsspawned_red++;
        }
    }

    return _id_B059ADAF8E5750F5;
}

chooseandspawnitems( dropstruct, _id_426AB5C68504F990, _id_2860FA0F2247CCF0, _id_E31187607FF31DA2, _id_D6379F1654C3DCA3, angleoffset )
{
    _id_E05413A53B5D9167 = [];
    _id_17B34CF2DD66912F = 0;

    if ( !isdefined( _id_E31187607FF31DA2 ) )
        _id_E31187607FF31DA2 = "";

    if ( !isdefined( _id_426AB5C68504F990 ) )
        _id_426AB5C68504F990 = 0;

    _id_6314E68D57B3349B = "mp/loot_set_cache_contents_base.csv";

    if ( isdefined( _id_D6379F1654C3DCA3 ) )
        _id_6314E68D57B3349B = _id_D6379F1654C3DCA3;

    for ( _id_EC877E0D3A90BCD3 = 0; _id_EC877E0D3A90BCD3 < _id_2860FA0F2247CCF0; _id_EC877E0D3A90BCD3++ )
    {
        itemname = pickscriptablelootitem( _id_E31187607FF31DA2, _id_426AB5C68504F990, 0, _id_6314E68D57B3349B );

        if ( canspawnitemname( itemname ) )
        {
            angles = self.angles;

            if ( isdefined( angleoffset ) )
                angles = angles + angleoffset;

            _id_A69FFF5222862F26 = level.br_pickups.br_itemrarity[itemname];

            if ( isdefined( _id_A69FFF5222862F26 ) && _id_A69FFF5222862F26 == 4 && _id_17B34CF2DD66912F == 0 )
            {
                _id_E05413A53B5D9167[_id_E05413A53B5D9167.size] = lootspawnitem( itemname, dropstruct, self.origin, angles, undefined, 1 );
                _id_17B34CF2DD66912F = 1;
            }
            else
                _id_E05413A53B5D9167[_id_E05413A53B5D9167.size] = lootspawnitem( itemname, dropstruct, self.origin, angles, undefined, 0 );
        }
    }

    return _id_E05413A53B5D9167;
}

lootcontentsadjustkillchain( items, player )
{
    if ( !isdefined( player.brkillchainchance ) )
        player.brkillchainchance = 10;

    _id_8DD5FA3FD9854F26 = 0;

    foreach ( index, item in items )
    {
        if ( issubstr( item, "killstreak" ) )
        {
            _id_8DD5FA3FD9854F26 = 1;
            break;
        }
    }

    if ( !_id_8DD5FA3FD9854F26 )
    {
        _id_281158B82D0291BA = player.killcountthislife * 0;

        if ( randomint( 100 ) < player.brkillchainchance + _id_281158B82D0291BA )
        {
            _id_D45C83148EF4CF67 = [ "brloot_killstreak_clusterstrike", "brloot_killstreak_precision_airstrike", "brloot_killstreak_uav", "brloot_killstreak_shieldturret" ];
            items[items.size] = scripts\engine\utility::random( _id_D45C83148EF4CF67 );
            player.brkillchainchance = 10;
        }
        else
            player.brkillchainchance = player.brkillchainchance + ( _id_281158B82D0291BA + 15 );
    }

    return items;
}

_id_3ACD6FF5BDA75039( items )
{
    foreach ( item in items )
    {
        if ( issubstr( item, "brloot_plunder" ) )
            return 1;
    }

    return 0;
}

_id_8CA2F83C962D40D9()
{
    for (;;)
    {
        waitframe();

        if ( getdvarint( "dvar_82B5F4ECCB13D4D2", 0 ) )
        {
            _id_4EAD6B4FF3816236 = [];
            _id_EA156F5F477A8792 = getlootspawnpointcount();

            for ( _id_AC0E594AC96AA3A8 = 0; _id_AC0E594AC96AA3A8 < _id_EA156F5F477A8792; _id_AC0E594AC96AA3A8++ )
            {
                loot = getlootspawnpoint( _id_AC0E594AC96AA3A8 );

                if ( loot.type == 1 )
                {
                    _id_972D1889BBE8CC7C = distance2dsquared( level.players[0].origin, loot.origin );

                    if ( _id_972D1889BBE8CC7C <= 100000000.0 )
                        _id_4EAD6B4FF3816236[_id_4EAD6B4FF3816236.size] = loot;
                }
            }

            foreach ( _id_B038ED928EC17A81 in _id_4EAD6B4FF3816236 )
            {

            }
        }
    }
}
