// IW9 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

_id_36F1BD0F5D72054A()
{
    if ( getdvarint( "dvar_25B11256C0DA51A1", 1 ) == 0 )
        return;

    level._effect["vfx_smk_signal"] = loadfx( "vfx/_requests/mp_gameplay/vfx_smk_signal" );
    level._effect["vfx_smk_signal_gr"] = loadfx( "vfx/_requests/mp_gameplay/vfx_smk_signal_gr" );
    level._effect["vfx_smk_signal_dmz"] = loadfx( "vfx/iw9/level/mp_dmz_hydro/vfx_smk_signal_dmz" );
    level._effect["vfx_smk_signal_dmz_diss"] = loadfx( "vfx/iw9/level/mp_dmz_hydro/vfx_smk_signal_dmz_diss" );
    _id_832F6C1A7BB8C4FF();
    level thread _id_9792D0E6C82398BF();
    level._id_B8457C8044B2EE02 = getdvarint( "dvar_BF86D2B0958E8803", 300 );
    level._id_9405ABD1DB7CF2CF = getdvarint( "dvar_9EB35FD11109D87D", 60 );
    level._id_745BEBF82B7D49F8 = getdvarint( "dvar_ED723AB06879FDB5", 60 );
    level._id_DF3A6E8886416B36 = int( getdvarint( "dvar_918D5EA00183221C", 999 ) * 100 );
    level._id_D962891163D17D4A = getdvarint( "dvar_F2F7F7118FBF4F48", 0 );
    level._id_C8FF03474C1DE67F = getdvarint( "dvar_66B127960B89BBE5", 2 );
    level._id_6B712F0345BF6F12 = getdvarint( "dvar_8E317CE550E11531", 30 );
    level._id_662586EDE589F49C = getdvarint( "dvar_D0B1A615C1D96C4B", 0 );
    level._id_08F7D92F10FC80CE = getdvarint( "dvar_AE0BC0D702B078C5", 0 );
    level._id_9B6B8C7ECB7AC7C0 = getdvarint( "dvar_D335466B3A2CB667", 0 );
    level._id_4644C9DA9A611950 = getdvarint( "dvar_4F0A08CC7285B3C7", 0 );
    level._id_CDC76BC962358072 = getdvarint( "dvar_4B12EFC1E76639D1", 1 );
    level._id_858DBA9DA8DC5419 = getdvarint( "dvar_41A3991A16D88A2A", 3 );
    level._id_50477DC063210A56 = getdvarint( "dvar_F96D14F35ABA8181", 0 ) == 1;
    level._id_C69D2B1EEB329A5A = getdvarint( "dvar_7ACEAF0413D3F442", 1 );
    level._id_68CDDDBBE057395D = getdvarint( "dvar_BA94141588893FF2", 1 );
    level._id_09B3294726F6D3A6 = getdvarint( "dvar_987DA8AB1C15D96B", 1 ) == 1;
    level._id_DD83D323306DCBA7 = getdvarint( "dvar_761322608DA01456", 0 ) == 1;
    level._id_540F24BB9ACF4C02 = getdvarint( "dvar_654FAC10FC85947E", 2 );
    level._id_01EFF61A95657CA2 = getdvarint( "dvar_04726749F66554EE", 1 );
    level._id_628F636DE1F2DDA3 = getdvarint( "dvar_9756404935AC6487", 2 );
    level._id_A276CD366472B025 = getdvarint( "dvar_4AC155BCB91CC93E", 5 );
    level._id_BBF4A84349D0FDEB = getdvarint( "dvar_06719472694F0112", 2000 );
    level._id_CF4723BFB4CC7643 = getdvarint( "dvar_B41C17E4FF85FB3C", 0 );
    level._id_9FB5000AE38DCF7F = getdvarint( "dvar_87418A428FACD9BB", 1 );
    level._id_C64BEB7B042390C8 = getdvarint( "dvar_8D43DB8F06FFDA3F", 1 );
    level._id_679B51811BC32ADC = getdvarint( "dvar_F9F43C362802CA01", 5 );
    level._id_E5261A9A2FEAF655 = getdvarint( "dvar_277D1A4CBE10E33C", 4 );
    level._id_50FF14B675031D14 = getdvarint( "dvar_A9EBE44E535CC367", 0 );
    level._id_C42D6E4A40F70691 = getdvarint( "dvar_BD4B7EBA67F38088", 0 );

    if ( level._id_C42D6E4A40F70691 || level._id_08F7D92F10FC80CE )
        level._id_FAA873310ADD1096 = ::_id_52781BE0B4E8A959;

    level._id_FF04728F8E36403F = getdvarint( "dvar_2BF795E2BB163C72", 0 );
    level._id_53BDD63AC87A9076 = getdvarint( "dvar_62CC42AA2ACA04C9", 1 );
    level thread _id_119B893A0CA18687();
    level thread _id_1FAC2465EB5DDA23();
    _id_3FF084F114B7F6C9::_id_F3D757808130BAC4( ::_id_A857C0CB4FCB1819 );
    scripts\engine\scriptable::scriptable_addusedcallbackbypart( "dmz_exfil_site", ::_id_C5F291ACF1B44B69 );
}

_id_119B893A0CA18687()
{
    while ( !isdefined( level.teamnamelist ) )
        waitframe();

    foreach ( team in level.teamnamelist )
        level.teamdata[team]["exfils"] = [];
}

_id_9792D0E6C82398BF()
{
    wait 1;
    level._id_0CC6F9CF228ACCB4 = [];

    foreach ( _id_F90358454413407F in level.teamnamelist )
        level._id_0CC6F9CF228ACCB4[_id_F90358454413407F] = 0;
}

_id_832F6C1A7BB8C4FF()
{
    scripts\mp\gamelogic::setwaypointiconinfo( "icon_waypoint_waitfor_exfil", 1, "neutral", "MP_INGAME_ONLY/OBJ_EXFIL_NOTACTIVE_CAPS", "ui_map_icon_extraction", 0 );
    scripts\mp\gamelogic::setwaypointiconinfo( "icon_waypoint_active_exfil", 1, "neutral", "MP_INGAME_ONLY/OBJ_Exfil_CAPS", "ui_map_icon_extraction", 0 );
}

_id_A4181028915C44FA( node, _id_D5998E8874D77B02 )
{
    _id_3064FA24DBBD5BBF = spawnstruct();

    if ( !isdefined( _id_D5998E8874D77B02 ) )
        _id_D5998E8874D77B02 = 1;

    if ( isdefined( node._id_B205D90302DA2F07 ) )
        _id_3064FA24DBBD5BBF._id_B205D90302DA2F07 = node._id_B205D90302DA2F07;
    else
        _id_3064FA24DBBD5BBF._id_B205D90302DA2F07 = _id_5DEF7AF2A9F04234::_id_55CF921EFA4CBD09( node.origin );

    _id_3064FA24DBBD5BBF.angles = node.angles;
    _id_3064FA24DBBD5BBF.origin = ( 0, 0, -10 ) + scripts\engine\utility::ter_op( _id_D5998E8874D77B02, scripts\engine\utility::drop_to_ground( getclosestpointonnavmesh( node.origin ) ), node.origin );
    _id_3064FA24DBBD5BBF.modelname = "dmz_exfil_site_xmodel";
    _id_3064FA24DBBD5BBF._id_D81E4008D63C5E96 = [];

    if ( isdefined( node.target ) )
    {
        _id_23D42B1195DDA679 = scripts\engine\utility::getstruct( node.target, "targetname" );

        if ( isdefined( _id_23D42B1195DDA679 ) )
        {
            _id_3064FA24DBBD5BBF._id_B44C269EA13F56AE = _id_23D42B1195DDA679.origin;
            _id_3064FA24DBBD5BBF._id_A55FA332B1255E04 = _id_23D42B1195DDA679.angles;
        }
    }

    if ( isdefined( node.script_label ) )
    {
        if ( node.script_label == "land" )
            _id_3064FA24DBBD5BBF.land = 1;
    }

    return _id_3064FA24DBBD5BBF;
}

_id_1FAC2465EB5DDA23()
{
    waitframe();
    level endon( "game_ended" );
    level._id_C26F0D22BC1FA7EF = [];
    level._id_B95A019FC748357A = [];
    level._id_0CCBB0E8B2A740B8 = [];
    _id_6B6476844B6ADA68 = [];
    _id_56EA112138F55047 = getdvarint( "dvar_B4F00BD105203EC9", 1 );
    _id_5A3867693588454B = getdvarint( "dvar_41D95A4CAF9B2E7D", 0 ) == 1;
    _id_0FA41506CCE024E8 = "dmz_squadExfilPoint";

    if ( level._id_68CDDDBBE057395D == 1 )
        _id_0FA41506CCE024E8 = "dmz_communalExfilPoint" + level._id_53BDD63AC87A9076;

    foreach ( node in scripts\engine\utility::getstructarray( _id_0FA41506CCE024E8, "script_noteworthy" ) )
    {
        if ( _id_5A3867693588454B && !isdefined( node._id_B205D90302DA2F07 ) )
            continue;

        if ( isdefined( node._id_B205D90302DA2F07 ) && scripts\engine\utility::array_contains( level._id_AB20B3A256911579, node._id_B205D90302DA2F07 ) )
            continue;

        groundpos = getclosestpointonnavmesh( node.origin );

        if ( isdefined( level._id_3796DC1D470DFAB8 ) )
            _id_3064FA24DBBD5BBF = [[ level._id_3796DC1D470DFAB8 ]]( node );
        else
            _id_3064FA24DBBD5BBF = _id_A4181028915C44FA( node );

        _id_6B6476844B6ADA68[_id_6B6476844B6ADA68.size] = _id_3064FA24DBBD5BBF;
    }

    foreach ( node in scripts\engine\utility::getstructarray( "dmz_communalExfilPointFinal", "script_noteworthy" ) )
    {
        if ( _id_5A3867693588454B && !isdefined( node._id_B205D90302DA2F07 ) )
            continue;

        if ( isdefined( node._id_B205D90302DA2F07 ) && scripts\engine\utility::array_contains( level._id_AB20B3A256911579, node._id_B205D90302DA2F07 ) )
            continue;

        groundpos = getclosestpointonnavmesh( node.origin );
        _id_3064FA24DBBD5BBF = _id_A4181028915C44FA( node );
        level._id_B95A019FC748357A[level._id_B95A019FC748357A.size] = _id_3064FA24DBBD5BBF;
    }

    _id_442BB8E42C0D40B7( _id_6B6476844B6ADA68 );

    if ( level._id_9B6B8C7ECB7AC7C0 == 1 )
        _id_1DB005B6EB39A56D();

    if ( level._id_C69D2B1EEB329A5A == 1 )
        level thread _id_B9730BFE1E8B9F81();

    level thread _id_9A7567A2D46B857A();
}

entisalivevehicle()
{
    return isalive( self ) && ( scripts\common\vehicle::isvehicle() || isdefined( self.classname ) && self.classname == "script_vehicle" );
}

_id_4FFA71790DB7C5BC()
{
    self endon( "leaving" );
    self endon( "death" );
    radius = 120;
    _id_7CFE8395A8CF5836 = -380;
    forward = 200;
    _id_63E26D5A86AC531C = 25;
    back = -200;

    for (;;)
    {
        vehicles = getentarrayinradius( "script_vehicle", "classname", self.origin, getdvarfloat( "dvar_D8D9DC5F1A9E75A9", 400 ) );

        if ( vehicles.size <= 1 )
        {
            wait 0.5;
            continue;
        }

        _id_7346EB0E818B60C5 = scripts\engine\trace::create_vehicle_contents();
        dir = anglestoforward( self.angles );
        origin = self.origin + dir * forward + ( 0, 0, _id_7CFE8395A8CF5836 );
        trace = scripts\engine\trace::sphere_trace( origin, origin + ( 0, 0, 1 ), radius, self, _id_7346EB0E818B60C5 );
        ent = trace["entity"];

        if ( isdefined( ent ) && ent entisalivevehicle() )
        {
            ent._id_A8F4BB03B366AA80 = 1;
            ent dodamage( ent.health, self.origin, ent, ent, "MOD_CRUSH" );
            waitframe();
            continue;
        }

        origin = self.origin + dir * _id_63E26D5A86AC531C + ( 0, 0, _id_7CFE8395A8CF5836 );
        trace = scripts\engine\trace::sphere_trace( origin, origin + ( 0, 0, 1 ), radius, self, _id_7346EB0E818B60C5 );
        ent = trace["entity"];

        if ( isdefined( ent ) && ent entisalivevehicle() )
        {
            ent._id_A8F4BB03B366AA80 = 1;
            ent dodamage( ent.health, self.origin, ent, ent, "MOD_CRUSH" );
            continue;
        }

        origin = self.origin + dir * back + ( 0, 0, _id_7CFE8395A8CF5836 );
        trace = scripts\engine\trace::sphere_trace( origin, origin + ( 0, 0, 1 ), radius, self, _id_7346EB0E818B60C5 );
        ent = trace["entity"];

        if ( isdefined( ent ) && ent entisalivevehicle() )
        {
            ent._id_A8F4BB03B366AA80 = 1;
            ent dodamage( ent.health, self.origin, ent, ent, "MOD_CRUSH" );
            continue;
        }

        waitframe();
    }
}

_id_442BB8E42C0D40B7( _id_3064FA24DBBD5BBF, _id_D8AA357ADF7CB05D )
{
    _id_F951F4BB16E92179 = 0;
    level._id_5FAD09539823F92E = [];

    foreach ( exfil in _id_3064FA24DBBD5BBF )
    {
        _id_F951F4BB16E92179++;
        exfil._id_302F61F95F10F7F3 = _id_F951F4BB16E92179;
        level._id_C26F0D22BC1FA7EF[level._id_C26F0D22BC1FA7EF.size] = exfil;

        if ( istrue( _id_D8AA357ADF7CB05D ) )
        {
            _id_BBE41F41D0F13612( exfil );
            exfil.ent setscriptablepartstate( "dmz_exfil_icon", "communal_icon" );
        }

        if ( isdefined( exfil._id_B205D90302DA2F07 ) )
        {
            if ( !isdefined( level._id_5FAD09539823F92E[exfil._id_B205D90302DA2F07] ) )
                level._id_5FAD09539823F92E[exfil._id_B205D90302DA2F07] = [];

            level._id_5FAD09539823F92E[exfil._id_B205D90302DA2F07][level._id_5FAD09539823F92E[exfil._id_B205D90302DA2F07].size] = exfil;
        }
    }
}

_id_1DB005B6EB39A56D()
{
    level._id_58F477E9E7E8F739 = [];

    if ( getdvarint( "dvar_A4617FB891CA21CB", 0 ) == 1 )
    {
        foreach ( exfil in level._id_C26F0D22BC1FA7EF )
            level._id_58F477E9E7E8F739[level._id_58F477E9E7E8F739.size] = exfil;
    }
    else
    {
        foreach ( _id_B205D90302DA2F07, _id_36847C9A092F0703 in level._id_5FAD09539823F92E )
        {
            _id_77B74BCC1CF886A8 = scripts\engine\utility::array_randomize( _id_36847C9A092F0703 );

            for ( _id_AC0E594AC96AA3A8 = 0; _id_AC0E594AC96AA3A8 < level._id_540F24BB9ACF4C02; _id_AC0E594AC96AA3A8++ )
                level._id_58F477E9E7E8F739[level._id_58F477E9E7E8F739.size] = _id_77B74BCC1CF886A8[_id_AC0E594AC96AA3A8];
        }
    }
}

_id_2431347A478DC694( _id_2B6DEB0F4170E1A4 )
{
    level._id_F9E4EFEA742E3709 = [];
    _id_F951F4BB16E92179 = 0;
    level._id_5FAD09539823F92E = [];

    foreach ( exfil in _id_2B6DEB0F4170E1A4 )
    {
        _id_F951F4BB16E92179++;
        exfil._id_302F61F95F10F7F3 = _id_F951F4BB16E92179;
        exfil._id_067F7D5BA67F4AD6 = [];
        exfil thread _id_4BBC9B547EEB547F();
        level._id_C26F0D22BC1FA7EF[level._id_C26F0D22BC1FA7EF.size] = exfil;
        _id_BBE41F41D0F13612( exfil );
        exfil.ent setscriptablepartstate( "dmz_exfil_icon", "communal_icon" );
    }
}

_id_4BBC9B547EEB547F()
{
    level endon( "game_ended" );

    for (;;)
    {
        players = scripts\common\utility::playersincylinder( self.origin, 500 );

        if ( players.size > 0 )
        {
            foreach ( player in players )
            {
                if ( !isdefined( self._id_067F7D5BA67F4AD6[player.team] ) || self._id_067F7D5BA67F4AD6[player.team] == 0 )
                {
                    self._id_067F7D5BA67F4AD6[player.team] = 1;
                    _id_9251FF271B0450DD( player.team );
                }
            }
        }

        wait 1;
    }
}

_id_9251FF271B0450DD( team )
{
    _id_940A3890AC273220 = level._id_6B712F0345BF6F12;

    while ( _id_940A3890AC273220 > 0 )
    {
        players = scripts\common\utility::playersincylinder( self.origin, 500 );

        foreach ( player in players )
        {
            if ( !isdefined( player._id_85B67879837F2019 ) && player.team == team )
            {
                self._id_0902A7FFCFF8AA65[self._id_0902A7FFCFF8AA65.size] = player;
                player thread _id_496941BF27AF77B1( self.origin, _id_940A3890AC273220, 500 );
            }
        }

        _id_940A3890AC273220--;
        wait 1;
    }

    players = scripts\common\utility::playersincylinder( self.origin, 500 );
    _id_6D5ED003AF1F9612 = [];

    foreach ( player in players )
    {
        if ( player.team == team )
            _id_6D5ED003AF1F9612[_id_6D5ED003AF1F9612.size] = player;
    }

    _id_309C0A11484CC0DB( _id_6D5ED003AF1F9612 );
    self._id_067F7D5BA67F4AD6[team] = 0;
}

_id_496941BF27AF77B1( pos, time, dist )
{
    self notify( "dmz_exfil_timer" );
    self endon( "disconnect" );
    self endon( "dmz_exfil_timer" );
    timer = time;
    self._id_85B67879837F2019 = 1;

    if ( !isdefined( timer ) )
        return;

    while ( timer > 0 )
    {
        if ( isdefined( dist ) && ( !isdefined( self ) || distance( pos, self.origin ) > dist ) )
            break;

        if ( timer < 80 )
            self setclientomnvar( "ui_match_start_countdown", timer );

        timer--;
        wait 1;
    }

    self._id_85B67879837F2019 = undefined;
    self setclientomnvar( "ui_match_start_countdown", 0 );
}

_id_A9F268ABD153B713()
{
    self notify( "dmz_exfil_timer" );
    self._id_85B67879837F2019 = undefined;
    self setclientomnvar( "ui_match_start_countdown", 0 );
}

_id_B9730BFE1E8B9F81()
{
    level waittill( "dmz_radiation_started" );

    if ( !_id_1174ABEDBEFE9ADA::_id_DFA94748AF73C087() )
        return;

    wait 5;
    level thread _id_48272DE6DC9130F7();
}

_id_48272DE6DC9130F7()
{
    for (;;)
    {
        if ( level._id_FE2E551DA0962C3C.size > 0 )
        {
            foreach ( exfil in level._id_FE2E551DA0962C3C )
            {
                if ( _id_1174ABEDBEFE9ADA::_id_26879895DB23C779( exfil.origin ) )
                {
                    _id_DDA47641682585D9( exfil );
                    level._id_FE2E551DA0962C3C = scripts\engine\utility::array_remove( level._id_FE2E551DA0962C3C, exfil );
                }
            }
        }
        else
        {
            level thread _id_A3F113DC69814771();
            return;
        }

        wait 1;
    }
}

_id_A3F113DC69814771()
{
    if ( !isdefined( level._id_C5074BF13FFB95EF ) )
        return;

    _id_755BC4C5615671AF = _id_1174ABEDBEFE9ADA::_id_2A0C5B28DDED3E06();
    _id_C444E48AE40730BA = distance2d( level._id_AA174DF565129C2B.origin, level._id_33A2175A9A4306BC.startorigin );
    _id_1E6C96F9D4B225C4 = distance2d( level._id_C5074BF13FFB95EF.origin, level._id_33A2175A9A4306BC.startorigin );
    timer = ( _id_1E6C96F9D4B225C4 - _id_C444E48AE40730BA ) / _id_755BC4C5615671AF;
    _id_10817A88AD06996F = level._id_C5074BF13FFB95EF;
    _id_BBE41F41D0F13612( _id_10817A88AD06996F );

    if ( isdefined( _id_10817A88AD06996F.ent ) )
    {
        _id_10817A88AD06996F.ent setscriptablepartstate( "dmz_exfil_site", "standby" );
        _id_10817A88AD06996F.ent setscriptablepartstate( "dmz_exfil_icon", "final_exfil_icon" );
    }

    thread _id_9FDF14C5AAC8CE53( "dmz_exfil_pilot_called_final" );
    timer = timer - ( level._id_A276CD366472B025 + 5 );
    thread _id_5BC15F36914E63C7( _id_10817A88AD06996F.ent, undefined, undefined, level.players[randomint( level.players.size )], timer, 0, 1 );
}

_id_DDA47641682585D9( exfil )
{
    if ( !isdefined( exfil ) )
        return;

    if ( !isdefined( level._id_35A1CDD4A92304A5 ) )
        level._id_35A1CDD4A92304A5 = [];

    _id_29F917AE2719196A = _id_F2811D61401A5E40( exfil );
    _id_1F97A44D1761C919::_id_D87D5DEB069BF8E5( "radiation_delete_personal_exfils", scripts\engine\utility::array_remove_array( _id_29F917AE2719196A, level._id_35A1CDD4A92304A5 ) );
    level._id_35A1CDD4A92304A5 = scripts\engine\utility::array_combine_unique( level._id_35A1CDD4A92304A5, _id_29F917AE2719196A );

    if ( isdefined( exfil.ent ) )
    {
        exfil.ent notify( "disable" );
        exfil.ent.disabled = 1;
        exfil.ent setscriptablepartstate( "dmz_exfil_icon", "disabled_icon" );
        exfil.ent setscriptablepartstate( "dmz_exfil_smoke", "stop" );
        exfil.ent setscriptablepartstate( "dmz_exfil_site", "standby" );
    }

    level._id_C26F0D22BC1FA7EF = scripts\engine\utility::array_remove( level._id_C26F0D22BC1FA7EF, exfil );

    if ( isdefined( exfil._id_B205D90302DA2F07 ) && isdefined( level._id_5FAD09539823F92E ) && isdefined( level._id_5FAD09539823F92E[exfil._id_B205D90302DA2F07] ) )
        level._id_5FAD09539823F92E[exfil._id_B205D90302DA2F07] = scripts\engine\utility::array_remove( level._id_5FAD09539823F92E[exfil._id_B205D90302DA2F07], exfil );

    if ( isdefined( level._id_58F477E9E7E8F739 ) )
        level._id_58F477E9E7E8F739 = scripts\engine\utility::array_remove( level._id_58F477E9E7E8F739, exfil );
}

_id_F2811D61401A5E40( exfil )
{
    if ( !isdefined( exfil ) )
        return [];

    if ( istrue( exfil._id_B6B245F03C15D48D ) )
        return level.players;

    _id_1A379627CF4B5391 = [];

    if ( isdefined( exfil._id_D81E4008D63C5E96 ) )
    {
        foreach ( team in exfil._id_D81E4008D63C5E96 )
            _id_1A379627CF4B5391 = scripts\engine\utility::array_combine( _id_1A379627CF4B5391, scripts\mp\utility\teams::getteamdata( team, "players" ) );
    }

    return _id_1A379627CF4B5391;
}

_id_5086B40CFD533087()
{
    _id_8C75C28DA153BEC6 = _id_1174ABEDBEFE9ADA::_id_F3FB60F986F267C5();

    if ( !isdefined( _id_8C75C28DA153BEC6 ) )
        return;

    nodes = scripts\engine\utility::getstructarray( "dmz_communalExfilPoint" + level._id_53BDD63AC87A9076, "script_noteworthy" );

    if ( nodes.size > 0 )
    {
        _id_2C1975F487BBE252 = getdvarint( "dvar_65D6B521AB74DC34", 1 );
        _id_5FC0BB331FCC1784 = getdvarint( "dvar_DF07EA3EC5250762", 4 );
        _id_87D5384A614BA40C = scripts\engine\utility::ter_op( _id_2C1975F487BBE252 >= _id_5FC0BB331FCC1784, _id_2C1975F487BBE252, randomintrange( _id_2C1975F487BBE252, _id_5FC0BB331FCC1784 ) );

        if ( _id_87D5384A614BA40C <= 0 )
            return;

        _id_5F48EE4ED384234C = [];

        if ( getdvarint( "dvar_2317BF1EBB6514F7", 0 ) == 1 )
            _id_5F48EE4ED384234C[_id_5F48EE4ED384234C.size] = sortbydistance( nodes, _id_8C75C28DA153BEC6 )[nodes.size - 1];
        else
        {
            _id_5F48EE4ED384234C[_id_5F48EE4ED384234C.size] = scripts\engine\utility::random( scripts\engine\utility::array_slice( sortbydistance( nodes, _id_8C75C28DA153BEC6 ), int( max( 0, nodes.size - 2 ) ) ) );

            foreach ( _id_25F0CCA0E08B71D0 in [ 45000, 25000, 10000, 3000 ] )
            {
                foreach ( node in scripts\engine\utility::array_randomize( nodes ) )
                {
                    _id_267C3C85C7B5A7C5 = 1;

                    foreach ( _id_8504857C0C6F38C3 in _id_5F48EE4ED384234C )
                    {
                        if ( distance( _id_8504857C0C6F38C3.origin, node.origin ) < _id_25F0CCA0E08B71D0 )
                        {
                            _id_267C3C85C7B5A7C5 = 0;
                            break;
                        }
                    }

                    if ( _id_267C3C85C7B5A7C5 )
                    {
                        _id_5F48EE4ED384234C[_id_5F48EE4ED384234C.size] = node;

                        if ( _id_5F48EE4ED384234C.size >= _id_87D5384A614BA40C )
                            break;
                    }
                }

                if ( _id_5F48EE4ED384234C.size >= _id_87D5384A614BA40C )
                    break;
            }
        }

        _id_1EB20C7E1F001A1E = [];
        _id_6DB47C254E98CC63 = getdvarint( "dvar_BC7A50C09583D48F", 1 ) == 1;

        foreach ( node in _id_5F48EE4ED384234C )
        {
            groundpos = scripts\engine\utility::drop_to_ground( node.origin );
            _id_3064FA24DBBD5BBF = spawnstruct();

            if ( isdefined( node._id_B205D90302DA2F07 ) )
                _id_3064FA24DBBD5BBF._id_B205D90302DA2F07 = node._id_B205D90302DA2F07;
            else
                _id_3064FA24DBBD5BBF._id_B205D90302DA2F07 = _id_5DEF7AF2A9F04234::_id_55CF921EFA4CBD09( node.origin );

            _id_3064FA24DBBD5BBF.angles = node.angles;
            _id_3064FA24DBBD5BBF.origin = groundpos;
            _id_3064FA24DBBD5BBF._id_D81E4008D63C5E96 = [];
            _id_3064FA24DBBD5BBF.modelname = scripts\engine\utility::ter_op( _id_6DB47C254E98CC63, "dmz_exfil_zone_xmodel", "dmz_exfil_site_xmodel" );
            _id_1EB20C7E1F001A1E[_id_1EB20C7E1F001A1E.size] = _id_3064FA24DBBD5BBF;
        }

        if ( _id_6DB47C254E98CC63 )
            _id_2431347A478DC694( _id_1EB20C7E1F001A1E );
        else
            _id_442BB8E42C0D40B7( _id_1EB20C7E1F001A1E, 1 );

        level thread _id_4868B0DABBB185F9( _id_1EB20C7E1F001A1E );
    }
}

_id_4868B0DABBB185F9( _id_1EB20C7E1F001A1E )
{
    foreach ( _id_3064FA24DBBD5BBF in _id_1EB20C7E1F001A1E )
        level thread _id_6613AEB065E36928( _id_3064FA24DBBD5BBF );
}

_id_6613AEB065E36928( loc )
{
    if ( !istrue( level._id_289DF80E1DED586F ) )
        return;

    _id_8E39DA7681BBCC4B = getdvarint( "dvar_0F895A6B12ACEB46", 12 );

    if ( _id_8E39DA7681BBCC4B <= 0 )
        return;

    _id_89593782B8B4434D = getdvarint( "dvar_B7F14FBC972E9210", 6 );
    _id_6D3480DE3B55C1AA = getdvarint( "dvar_EC0AD58367541FE3", 6 );
    _id_51FB808F0AD7B056 = getdvarint( "dvar_99E18E59ACA26047", 6 );
    _id_EEFD5067DC92A0E3 = getdvarint( "dvar_CDDE0B9F53CD9D6A", 6 );
    team = "team_eighty";
    _id_C5E7FCE963586EC0 = loc;
    priority = "high";
    category = "reinforcements";
    _id_1C9CB43BCF3EB16D = "exfil";
    _id_171F90B9C4C76D44 = _id_5DEF7AF2A9F04234::_id_55CF921EFA4CBD09( _id_C5E7FCE963586EC0 );
    _id_19B18E5335B6E88A = 256;
    _id_2898710BEC2562DC = 3500;
    _id_8B2F5B7CAA9B211C = 7000;
    _id_11B3529E57CFED0E = _id_48814951E916AF89::_id_353FECD1549F5F42( _id_C5E7FCE963586EC0, _id_8B2F5B7CAA9B211C, team, _id_89593782B8B4434D, undefined, 1024, 1024, undefined );

    if ( isarray( _id_11B3529E57CFED0E ) )
    {
        _id_8E39DA7681BBCC4B = _id_8E39DA7681BBCC4B - _id_11B3529E57CFED0E.size;

        if ( _id_8E39DA7681BBCC4B <= 0 )
            return;

        foreach ( agent in _id_11B3529E57CFED0E )
        {
            _id_16290C9DDA466BCE = rotatevector( ( 1, 0, 0 ), ( 0, randomint( 360 ), 0 ) );
            _id_6FCFAF50CA25F632 = _id_16290C9DDA466BCE * randomfloatrange( 512, 1536 ) + _id_C5E7FCE963586EC0;
            _id_6FCFAF50CA25F632 = agent getclosestreachablepointonnavmesh( _id_6FCFAF50CA25F632 );
            _id_120270BD0A747A35::_id_E786AA52B93833EB( agent, _id_6FCFAF50CA25F632, 256, 256 );
        }
    }

    if ( _id_8E39DA7681BBCC4B > 2 )
    {
        _id_0B58631347B6AB04 = _id_2BC0B0102F9B7751::_id_03779DEB97B61A65( min( _id_8E39DA7681BBCC4B, _id_51FB808F0AD7B056 ), _id_C5E7FCE963586EC0, priority, category, _id_1C9CB43BCF3EB16D, undefined, team, 1, _id_171F90B9C4C76D44 );

        if ( isarray( _id_0B58631347B6AB04 ) )
        {
            _id_8E39DA7681BBCC4B = _id_8E39DA7681BBCC4B - ( _id_0B58631347B6AB04.size - 2 );

            if ( _id_8E39DA7681BBCC4B <= 0 )
                return;

            foreach ( agent in _id_0B58631347B6AB04 )
            {
                _id_16290C9DDA466BCE = rotatevector( ( 1, 0, 0 ), ( 0, randomint( 360 ), 0 ) );
                _id_6FCFAF50CA25F632 = _id_16290C9DDA466BCE * randomfloatrange( 512, 1536 ) + _id_C5E7FCE963586EC0;
                _id_6FCFAF50CA25F632 = agent getclosestreachablepointonnavmesh( _id_6FCFAF50CA25F632 );
                _id_120270BD0A747A35::_id_E786AA52B93833EB( agent, _id_6FCFAF50CA25F632, 256, 256 );
            }
        }
    }
}

_id_40BE536148B7548E( agent )
{
    agent endon( "death" );
    level endon( "game_ended" );

    for (;;)
    {
        agent thread scripts\mp\utility\debug::drawsphere( agent.origin, 32, 1, ( 0, 1, 0 ) );
        wait 1;
    }
}

_id_00377D92658A1E91( _id_3064FA24DBBD5BBF, model )
{
    if ( isdefined( _id_3064FA24DBBD5BBF.ent ) )
        return;

    if ( !isdefined( model ) )
        model = _id_3064FA24DBBD5BBF.modelname;

    ent = spawn( "script_model", _id_3064FA24DBBD5BBF.origin );
    ent setmodel( model );
    ent.angles = _id_3064FA24DBBD5BBF.angles;
    ent.info = _id_3064FA24DBBD5BBF;
    scripts\cp_mp\calloutmarkerping::_id_6B9641D0060C3A2C( ent );
    ent setscriptablepartstate( "dmz_exfil_smoke", "smoking", 0 );
    ent setscriptablepartstate( "dmz_exfil_site", "ready", 0 );
    ent hide();
    _id_3064FA24DBBD5BBF.ent = ent;
}

_id_BBE41F41D0F13612( _id_3064FA24DBBD5BBF )
{
    if ( !isdefined( level._id_FE2E551DA0962C3C ) )
        level._id_FE2E551DA0962C3C = [];

    if ( !isdefined( _id_3064FA24DBBD5BBF.ent ) )
        _id_00377D92658A1E91( _id_3064FA24DBBD5BBF );

    _id_3064FA24DBBD5BBF.ent show();
    _id_3064FA24DBBD5BBF._id_B6B245F03C15D48D = 1;
    level._id_FE2E551DA0962C3C[level._id_FE2E551DA0962C3C.size] = _id_3064FA24DBBD5BBF;
}

_id_97061811695243EA( _id_3064FA24DBBD5BBF )
{
    if ( !isdefined( level._id_FE2E551DA0962C3C ) )
        return;

    if ( !isdefined( _id_3064FA24DBBD5BBF.ent ) )
        return;

    _id_3064FA24DBBD5BBF.ent hide();
    _id_3064FA24DBBD5BBF._id_B6B245F03C15D48D = 0;
    level._id_FE2E551DA0962C3C = scripts\engine\utility::array_remove( level._id_FE2E551DA0962C3C, _id_3064FA24DBBD5BBF );
}

_id_B513AAF6E49F184A( _id_3064FA24DBBD5BBF )
{
    if ( !isdefined( _id_3064FA24DBBD5BBF.ent ) )
        _id_00377D92658A1E91( _id_3064FA24DBBD5BBF );

    foreach ( team in _id_3064FA24DBBD5BBF._id_D81E4008D63C5E96 )
    {
        foreach ( player in scripts\mp\utility\teams::getteamdata( team, "players" ) )
            _id_3064FA24DBBD5BBF.ent showtoplayer( player );
    }
}

_id_F4DC35C0F47A461C( _id_3064FA24DBBD5BBF, team )
{
    if ( !isdefined( _id_3064FA24DBBD5BBF.ent ) )
        _id_00377D92658A1E91( _id_3064FA24DBBD5BBF );

    foreach ( player in scripts\mp\utility\teams::getteamdata( team, "players" ) )
        _id_3064FA24DBBD5BBF.ent showtoplayer( player );
}

_id_A857C0CB4FCB1819( player, _id_8A04AA0E0755E7E3, _id_EB06B338608EF354 )
{
    _id_87B0B8A08FB5E71A = level.teamdata[_id_8A04AA0E0755E7E3]["exfils"];
    _id_F0E72070CF6E1EB1 = level.teamdata[_id_EB06B338608EF354]["exfils"];

    foreach ( exfil in _id_87B0B8A08FB5E71A )
        exfil.ent hidefromplayer( player );

    foreach ( exfil in _id_F0E72070CF6E1EB1 )
        exfil.ent showtoplayer( player );
}

_id_AEE6FE083265E34C()
{
    self endon( "disable" );
    numagents = getdvarint( "dvar_1CE7B251C3164B2C", 6 );

    if ( numagents == 0 )
        return;

    _id_8B61A19A823C6C0A = getdvarint( "dvar_3D1B037BBE89B3AC", 4000 );
    _id_3B40988F103F331E = _id_8B61A19A823C6C0A * _id_8B61A19A823C6C0A;

    for (;;)
    {
        foreach ( team in self.info._id_D81E4008D63C5E96 )
        {
            foreach ( player in scripts\mp\utility\teams::getteamdata( team, "players" ) )
            {
                if ( distancesquared( self.origin, player.origin ) < _id_3B40988F103F331E )
                {
                    _id_5AEB0C8E23FF1430 = _id_48814951E916AF89::_id_77ACC10C4823DD8A( numagents, self.origin, "medium", "reinforcements", "ExtractAmbush", undefined, undefined, 1, _id_5DEF7AF2A9F04234::_id_55CF921EFA4CBD09( player.origin ) );
                    return;
                }
            }
        }

        wait 1.0;
    }
}

_id_309C0A11484CC0DB( players, _id_27144879B0C7BEED )
{
    _id_4480C6CE37B2BDF3::_id_025A4B6A2083E2AB( players );

    foreach ( player in players )
    {
        if ( !isdefined( player ) )
            continue;

        player thread _id_AC298C756F30AEA6( _id_27144879B0C7BEED );
    }
}

_id_AC298C756F30AEA6( _id_27144879B0C7BEED )
{
    level endon( "game_ended" );

    if ( isdefined( self ) )
    {
        thread fadetoblack();
        self setclientomnvar( "ui_dmz_extract_successful", 1 );
        self._id_E7AF56A2DF18030D = 0;
        self.extracted = 1;
        self.spawnprotection = 1;
        scripts\mp\lightarmor::setlightarmorvalue( self, 1000, undefined, 0 );
        _id_3B64EB40368C1450::_id_2D6E7E0B80767910( "exfil_success", [ "usability", "offhand_weapons", "killstreaks", "supers", "gesture", "weapon", "weapon_switch" ] );
        _id_3B64EB40368C1450::_id_3633B947164BE4F3( "exfil_success", 0 );
        self notify( "successful_exfil" );
        thread scripts\mp\hud_message::showsplash( "callout_exfil_success" );
    }

    wait 0.25;

    if ( isdefined( self ) )
    {
        self playerhide();
        self sethidenameplate( 0 );
        self allowmovement( 0 );
        self allowfire( 0 );
        self disableoffhandprimaryweapons( 0 );
        self disableoffhandsecondaryweapons( 0 );
        self disableweapons( 0 );
        self disableweaponswitch( 0 );
        self setcamerathirdperson( 1 );
        self allowcrouch( 0 );
        self allowmelee( 0 );
        self allowjump( 0 );
        self allowprone( 0 );
        scripts\mp\hud_message::showerrormessage( "MP_BR_INGAME/EXTRACTED_SUCCESS" );
        _id_6FC415FF6A905DC1::_id_5332E1C0F06B0245( _id_27144879B0C7BEED );
        thread _id_0EE113AF8FBA94BA( self );
    }
}

_id_0EE113AF8FBA94BA( player )
{
    _id_1E4A61DB11011446::updateclientmatchdata( player );
    _id_9C60D720A2BC0F37 = 5;
    player._id_E7AF56A2DF18030D = 1;

    while ( _id_9C60D720A2BC0F37 > -1 )
    {
        wait 1;
        _id_9C60D720A2BC0F37 = _id_9C60D720A2BC0F37 - 1;

        if ( _id_9C60D720A2BC0F37 <= 0 )
            break;
    }

    level.skipplaybodycountsound = 1;
    player scripts\mp\playerlogic::removefromalivecount( 1 );
    scripts\mp\utility\teams::validatealivecount( "extract", player.team, player );
    player thread _id_6489FCDFE6FA2E36::spawnspectator();
}

fadetoblack()
{
    level endon( "game_ended" );
    self endon( "death_or_disconnect" );
    scripts\mp\utility\player::hidehudenable();
    thread _id_0AAEF0BD11948A0C();
    level thread scripts\cp_mp\utility\game_utility::fadetoblackforplayer( self, 1, 0.25 );
    scripts\engine\utility::waittill_any_2( "force_spectate_done", "br_team_fully_eliminated" );
    level thread scripts\cp_mp\utility\game_utility::fadetoblackforplayer( self, 0, 1 );
}

_id_0AAEF0BD11948A0C()
{
    self waittill( "force_spectate_done" );
    scripts\mp\utility\player::hidehuddisable();
}

_id_1DCDA56EFB76E334( team )
{
    self endon( "disable" );
    wait 30;
    self setscriptablepartstate( "dmz_exfil_smoke", "smoking", 1 );
    self setscriptablepartstate( "dmz_exfil_site", "ready", 1 );
    self._id_D81E4008D63C5E96[team] = team;
    _id_AC66B79A73B21444( team, self.info );
}

_id_8FC5AEAB9CB08048( ent )
{
    if ( isdefined( ent ) )
    {
        if ( level._id_09B3294726F6D3A6 && ( !level._id_DD83D323306DCBA7 || !level._id_33A2175A9A4306BC._id_009BADBB469626F6 ) )
            level thread _id_6613AEB065E36928( ent.origin );

        thread _id_5BC15F36914E63C7( ent, undefined, undefined, self );
    }
}

_id_9A7567A2D46B857A()
{
    level endon( "game_ended" );

    while ( !isdefined( level._id_C26F0D22BC1FA7EF ) )
        waitframe();

    if ( level.mapname == "mp_ai_firefight" )
    {
        foreach ( exfil in level._id_C26F0D22BC1FA7EF )
            _id_BBE41F41D0F13612( exfil );

        return;
    }

    while ( !isdefined( level._id_33A2175A9A4306BC ) )
        waitframe();

    while ( !isdefined( level._id_33A2175A9A4306BC.origin ) )
        waitframe();

    while ( !isdefined( level._id_1B7407DFFE81E6E8 ) || !isdefined( level._id_1B7407DFFE81E6E8._id_B2F15037287A033A ) )
        waitframe();

    _id_56EA112138F55047 = getdvarint( "dvar_B4F00BD105203EC9", 1 );
    level._id_449A83B6455A0F37 = scripts\engine\utility::getstructarray( "dmz_hostage_exfil", "script_noteworthy" );

    foreach ( exfil in level._id_449A83B6455A0F37 )
    {
        exfil.origin = ( 0, 0, -10 ) + scripts\engine\utility::ter_op( _id_56EA112138F55047 == 1, scripts\engine\utility::drop_to_ground( getclosestpointonnavmesh( exfil.origin ) ), exfil.origin );
        exfil.modelname = "dmz_exfil_site_xmodel";

        if ( isdefined( exfil.target ) )
        {
            _id_23D42B1195DDA679 = scripts\engine\utility::getstruct( exfil.target, "targetname" );

            if ( isdefined( _id_23D42B1195DDA679 ) )
            {
                exfil._id_B44C269EA13F56AE = _id_23D42B1195DDA679.origin;
                exfil._id_A55FA332B1255E04 = _id_23D42B1195DDA679.angles;
            }
        }

        if ( isdefined( exfil.script_label ) )
        {
            if ( exfil.script_label == "land" )
                exfil.land = 1;
        }
    }

    if ( istrue( level._id_50477DC063210A56 ) )
    {
        _id_883F54A2A56E126C = [];

        foreach ( exfil in level._id_C26F0D22BC1FA7EF )
            _id_883F54A2A56E126C[_id_883F54A2A56E126C.size] = exfil;

        foreach ( exfil in level._id_449A83B6455A0F37 )
            _id_883F54A2A56E126C[_id_883F54A2A56E126C.size] = exfil;

        foreach ( exfil in level._id_B95A019FC748357A )
            _id_883F54A2A56E126C[_id_883F54A2A56E126C.size] = exfil;

        foreach ( exfil in _id_883F54A2A56E126C )
            _id_BBE41F41D0F13612( exfil );
    }
    else if ( level._id_858DBA9DA8DC5419 != 0 )
    {
        if ( level._id_858DBA9DA8DC5419 < 0 )
        {
            _id_58E0D6D6E9B4C639 = abs( level._id_858DBA9DA8DC5419 );

            foreach ( _id_B205D90302DA2F07, _id_36847C9A092F0703 in level._id_5FAD09539823F92E )
            {
                _id_CEE0C6760060DFF8 = scripts\engine\utility::array_randomize( _id_36847C9A092F0703 );

                for ( _id_AC0E594AC96AA3A8 = 0; _id_AC0E594AC96AA3A8 < _id_58E0D6D6E9B4C639; _id_AC0E594AC96AA3A8++ )
                    _id_BBE41F41D0F13612( _id_CEE0C6760060DFF8[_id_AC0E594AC96AA3A8] );
            }
        }
        else
        {
            _id_CEE0C6760060DFF8 = scripts\engine\utility::array_randomize( level._id_C26F0D22BC1FA7EF );

            if ( _id_CEE0C6760060DFF8.size < level._id_858DBA9DA8DC5419 )
                level._id_858DBA9DA8DC5419 = _id_CEE0C6760060DFF8.size;

            _id_099A5914EFBB9B30 = spawnstruct();
            _id_099A5914EFBB9B30.points = [];
            _id_099A5914EFBB9B30._id_F700D2836AAB75A4 = [];
            _id_099A5914EFBB9B30._id_F700D2836AAB75A4[0] = [];
            _id_099A5914EFBB9B30._id_F700D2836AAB75A4[1] = [];
            _id_099A5914EFBB9B30._id_F700D2836AAB75A4[2] = [];
            _id_099A5914EFBB9B30._id_F700D2836AAB75A4[3] = [];
            _id_099A5914EFBB9B30._id_09F9244294D1D74E = [];
            _id_099A5914EFBB9B30._id_09F9244294D1D74E[0] = [];
            _id_099A5914EFBB9B30._id_09F9244294D1D74E[1] = [];
            _id_099A5914EFBB9B30._id_09F9244294D1D74E[2] = [];
            _id_099A5914EFBB9B30._id_09F9244294D1D74E[3] = [];
            _id_099A5914EFBB9B30._id_B2F070298A88DBCB = [];
            _id_883F54A2A56E126C = [];

            foreach ( exfil in level._id_C26F0D22BC1FA7EF )
                _id_883F54A2A56E126C[_id_883F54A2A56E126C.size] = exfil;

            _id_56EA112138F55047 = getdvarint( "dvar_B4F00BD105203EC9", 1 );

            foreach ( exfil in level._id_449A83B6455A0F37 )
            {
                if ( !istrue( exfil.chosen ) )
                {
                    exfil.origin = ( 0, 0, -10 ) + scripts\engine\utility::ter_op( _id_56EA112138F55047 == 1, scripts\engine\utility::drop_to_ground( getclosestpointonnavmesh( exfil.origin ) ), exfil.origin );
                    exfil.modelname = "dmz_exfil_site_xmodel";
                    _id_883F54A2A56E126C[_id_883F54A2A56E126C.size] = exfil;
                }
            }

            level._id_883F54A2A56E126C = _id_883F54A2A56E126C;
            _id_F5AA0AAC262FBF0B = sortbydistance( _id_883F54A2A56E126C, level._id_33A2175A9A4306BC.origin );

            foreach ( point in _id_F5AA0AAC262FBF0B )
            {
                _id_6FCD82720E35BEC2 = point.origin - level._id_33A2175A9A4306BC.origin;
                point._id_6FCD82720E35BEC2 = _id_6FCD82720E35BEC2;
                index = scripts\engine\utility::ter_op( _id_6FCD82720E35BEC2[0] < 0, -1, 0 ) + scripts\engine\utility::ter_op( _id_6FCD82720E35BEC2[1] < 0, 3, 1 );
                _id_099A5914EFBB9B30._id_F700D2836AAB75A4[index][_id_099A5914EFBB9B30._id_F700D2836AAB75A4[index].size] = point;
            }

            foreach ( point in level._id_B95A019FC748357A )
            {
                _id_6FCD82720E35BEC2 = point.origin;
                point._id_6FCD82720E35BEC2 = _id_6FCD82720E35BEC2;
                index = scripts\engine\utility::ter_op( _id_6FCD82720E35BEC2[0] < 0, -1, 0 ) + scripts\engine\utility::ter_op( _id_6FCD82720E35BEC2[1] < 0, 3, 1 );
                _id_099A5914EFBB9B30._id_09F9244294D1D74E[index][_id_099A5914EFBB9B30._id_09F9244294D1D74E[index].size] = point;
            }

            _id_D23334F7ED3AEF60 = scripts\engine\utility::ter_op( level._id_33A2175A9A4306BC.origin[0] * -1 < 0, -1, 0 ) + scripts\engine\utility::ter_op( level._id_33A2175A9A4306BC.origin[1] * -1 < 0, 3, 1 );

            for ( _id_AC0E594AC96AA3A8 = 0; _id_AC0E594AC96AA3A8 < 4; _id_AC0E594AC96AA3A8++ )
            {
                if ( _id_AC0E594AC96AA3A8 != _id_D23334F7ED3AEF60 )
                    _id_099A5914EFBB9B30._id_B2F070298A88DBCB[_id_099A5914EFBB9B30._id_B2F070298A88DBCB.size] = _id_AC0E594AC96AA3A8;
            }

            _id_099A5914EFBB9B30._id_B2F070298A88DBCB = scripts\engine\utility::array_randomize( _id_099A5914EFBB9B30._id_B2F070298A88DBCB );
            level._id_C5074BF13FFB95EF = _id_099A5914EFBB9B30._id_09F9244294D1D74E[_id_D23334F7ED3AEF60][randomint( _id_099A5914EFBB9B30._id_09F9244294D1D74E[_id_D23334F7ED3AEF60].size )];

            if ( !isdefined( level._id_C5074BF13FFB95EF ) )
            {
                _id_A82A50C49958A9EF = sortbydistance( level._id_B95A019FC748357A, level._id_33A2175A9A4306BC.origin );
                level._id_C5074BF13FFB95EF = _id_A82A50C49958A9EF[_id_A82A50C49958A9EF.size - 1];
            }

            _id_822DB80CE3C87A54 = getdvarfloat( "dvar_D92C4387F959542C", 0.65 );
            _id_DEE7A3B516180A52 = getdvarint( "dvar_F24F686449931240", 2 );
            _id_636C8575D7A7768B = getdvarint( "dvar_5D9984A8FA843DE9", 10000 );
            _id_636C8575D7A7768B = _id_636C8575D7A7768B * _id_636C8575D7A7768B;
            midpoint = level._id_33A2175A9A4306BC.origin + ( level._id_C5074BF13FFB95EF.origin - level._id_33A2175A9A4306BC.origin ) * _id_822DB80CE3C87A54;
            _id_E2231EC8BDD4A84F = sortbydistance( _id_F5AA0AAC262FBF0B, midpoint );
            _id_8438F4A482DA474A = [ _id_E2231EC8BDD4A84F[randomint( _id_DEE7A3B516180A52 )] ];
            failed = 0;
            _id_9A6BA9F5A0E705C7 = 0;

            for ( _id_AC0E594AC96AA3A8 = 0; _id_AC0E594AC96AA3A8 < level._id_858DBA9DA8DC5419 - 1; _id_AC0E594AC96AA3A8++ )
            {
                index = _id_AC0E594AC96AA3A8;
                _id_C4B448E975A0779B = 0;

                for ( _id_8243432C62A4DC77 = 0; !_id_8243432C62A4DC77 && _id_C4B448E975A0779B < _id_099A5914EFBB9B30._id_B2F070298A88DBCB.size; _id_C4B448E975A0779B = _id_C4B448E975A0779B + 1 )
                {
                    while ( index >= _id_099A5914EFBB9B30._id_B2F070298A88DBCB.size )
                        index = index - _id_099A5914EFBB9B30._id_B2F070298A88DBCB.size;

                    foreach ( point in _id_099A5914EFBB9B30._id_F700D2836AAB75A4[_id_099A5914EFBB9B30._id_B2F070298A88DBCB[index]] )
                    {
                        if ( distance2dsquared( point.origin, level._id_33A2175A9A4306BC.origin ) < _id_636C8575D7A7768B )
                            continue;

                        _id_05956C54E54EBF3D = 1;

                        foreach ( _id_4A95E4581CD308CA in _id_8438F4A482DA474A )
                        {
                            if ( distance2dsquared( point.origin, _id_4A95E4581CD308CA.origin ) < _id_636C8575D7A7768B )
                            {
                                _id_05956C54E54EBF3D = 0;
                                break;
                            }
                        }

                        if ( !_id_05956C54E54EBF3D )
                            continue;

                        _id_8438F4A482DA474A[_id_8438F4A482DA474A.size] = point;
                        _id_8243432C62A4DC77 = 1;
                        break;
                    }

                    index = index + 1;
                }

                if ( !_id_8243432C62A4DC77 )
                    failed = failed + 1;
            }

            if ( failed > 0 )
            {
                for ( _id_AC0E594AC96AA3A8 = 0; _id_AC0E594AC96AA3A8 < failed; _id_AC0E594AC96AA3A8++ )
                    _id_8438F4A482DA474A[_id_8438F4A482DA474A.size] = scripts\engine\utility::_id_7A2AAA4A09A4D250( _id_F5AA0AAC262FBF0B );
            }

            foreach ( e in _id_8438F4A482DA474A )
                _id_BBE41F41D0F13612( e );

            level._id_AA174DF565129C2B = _id_8438F4A482DA474A[0];
        }

        timer = getdvarint( "dvar_E022FD0199A95F84" );
        waittime = int( max( timer - level._id_B8457C8044B2EE02, 0 ) );

        if ( waittime <= 0 )
            return;

        wait( waittime );
        level notify( "start_dmz_extracts" );
        return;
    }

    level._id_45B8EBF14DBC4E63 = [];

    foreach ( player in level.players )
    {
        _id_CEE0C6760060DFF8 = scripts\mp\utility\teams::getteamdata( player.team, "exfils" );

        if ( isdefined( _id_CEE0C6760060DFF8 ) && _id_CEE0C6760060DFF8.size > 0 )
            continue;

        if ( level._id_C42D6E4A40F70691 == 0 && level._id_FF04728F8E36403F == 0 )
            _id_1C2BD1696D29935B( player.team, "dmz_exfil_intro" );

        if ( isdefined( player ) && isdefined( level._id_C26F0D22BC1FA7EF ) && isdefined( level._id_C26F0D22BC1FA7EF[0] ) )
        {
            exfil = level._id_C26F0D22BC1FA7EF[0];
            maxdist = 0;

            if ( isdefined( level.teamdata[player.team]["startPoint"] ) )
            {
                _id_AC33FED0DD8063F8 = level.teamdata[player.team]["startPoint"]._id_B205D90302DA2F07;
                _id_DE6CB1958BE41B40 = undefined;
                _id_E97FC2F67229C010 = scripts\engine\utility::ter_op( level._id_9B6B8C7ECB7AC7C0, level._id_58F477E9E7E8F739, level._id_C26F0D22BC1FA7EF );

                if ( level._id_C8FF03474C1DE67F >= level._id_B205D90302DA2F07.size )
                    level._id_C8FF03474C1DE67F = level._id_B205D90302DA2F07.size - 1;

                if ( level._id_E5993849FC7D5987 == 0 && isdefined( _id_AC33FED0DD8063F8 ) && isdefined( level._id_B205D90302DA2F07[_id_AC33FED0DD8063F8]["otherPoiByDist"] ) )
                    _id_DE6CB1958BE41B40 = level._id_B205D90302DA2F07[_id_AC33FED0DD8063F8]["otherPoiByDist"][level._id_C8FF03474C1DE67F];

                for ( _id_AC0E594AC96AA3A8 = 1; _id_AC0E594AC96AA3A8 < _id_E97FC2F67229C010.size; _id_AC0E594AC96AA3A8++ )
                {
                    if ( level._id_D962891163D17D4A == 1 )
                    {
                        if ( isdefined( _id_AC33FED0DD8063F8 ) && _id_E97FC2F67229C010[_id_AC0E594AC96AA3A8]._id_B205D90302DA2F07 != _id_AC33FED0DD8063F8 )
                            continue;
                    }
                    else if ( level._id_C8FF03474C1DE67F != 0 && isdefined( _id_DE6CB1958BE41B40 ) )
                    {
                        if ( _id_E97FC2F67229C010[_id_AC0E594AC96AA3A8]._id_B205D90302DA2F07 != _id_DE6CB1958BE41B40 )
                            continue;
                    }

                    dist = distance2dsquared( player.origin, _id_E97FC2F67229C010[_id_AC0E594AC96AA3A8].origin );

                    if ( dist > maxdist )
                    {
                        maxdist = dist;
                        exfil = _id_E97FC2F67229C010[_id_AC0E594AC96AA3A8];
                    }
                }
            }

            if ( getdvarint( "dvar_7F50C115586DC8CA", -1 ) != -1 )
                exfil = level._id_C26F0D22BC1FA7EF[getdvarint( "dvar_7F50C115586DC8CA", 0 )];

            if ( level._id_C42D6E4A40F70691 || level._id_FF04728F8E36403F != 0 )
                level._id_45B8EBF14DBC4E63[player.team] = exfil;
            else if ( level._id_CDC76BC962358072 )
                _id_BBE41F41D0F13612( exfil );
            else
            {
                exfil._id_D81E4008D63C5E96[player.team] = player.team;
                _id_AC66B79A73B21444( player.team, exfil );

                if ( getdvarint( "dvar_F0FC10CEB2D6142C", 0 ) == 0 )
                {
                    if ( isdefined( exfil._id_D81E4008D63C5E96 ) && exfil._id_D81E4008D63C5E96.size > 0 )
                        _id_B513AAF6E49F184A( exfil );
                    else
                        _id_BBE41F41D0F13612( exfil );
                }
            }
        }
    }

    timer = getdvarint( "dvar_E022FD0199A95F84" );
    waittime = int( max( timer - level._id_B8457C8044B2EE02, 0 ) );

    if ( waittime <= 0 )
        return;

    wait( waittime );
    level notify( "start_dmz_extracts" );
}

_id_D92380BFC792A6A9()
{
    wait 10;

    for (;;)
    {
        if ( getdvar( "dvar_EC9D0BC135119057", "" ) != "" )
        {
            val = getdvar( "dvar_EC9D0BC135119057", "" );
            setdvar( "dvar_EC9D0BC135119057", "" );

            foreach ( exfil in level._id_FE2E551DA0962C3C )
                _id_97061811695243EA( exfil );

            vals = strtok( val, " " );
            _id_56EA112138F55047 = getdvarint( "dvar_B4F00BD105203EC9", 1 );
            _id_883F54A2A56E126C = [];

            if ( scripts\engine\utility::array_contains( vals, "hostage" ) )
            {
                foreach ( exfil in level._id_449A83B6455A0F37 )
                {
                    exfil.origin = ( 0, 0, -10 ) + scripts\engine\utility::ter_op( _id_56EA112138F55047 == 1, scripts\engine\utility::drop_to_ground( getclosestpointonnavmesh( exfil.origin ) ), exfil.origin );
                    exfil.modelname = "dmz_exfil_site_xmodel";
                    _id_883F54A2A56E126C[_id_883F54A2A56E126C.size] = exfil;
                }
            }

            if ( scripts\engine\utility::array_contains( vals, "normal" ) )
            {
                foreach ( exfil in level._id_C26F0D22BC1FA7EF )
                    _id_883F54A2A56E126C[_id_883F54A2A56E126C.size] = exfil;
            }

            if ( scripts\engine\utility::array_contains( vals, "final" ) )
            {
                foreach ( exfil in level._id_B95A019FC748357A )
                    _id_883F54A2A56E126C[_id_883F54A2A56E126C.size] = exfil;
            }

            foreach ( exfil in _id_883F54A2A56E126C )
                _id_BBE41F41D0F13612( exfil );
        }

        if ( getdvarint( "dvar_A48FC6794F79A816", 0 ) == 1 )
        {
            player = level.players[0];
            _id_A21D92F62733E9C9 = spawnstruct();
            _id_A21D92F62733E9C9._id_B205D90302DA2F07 = scripts\engine\utility::array_randomize( level._id_B205D90302DA2F07 )[0];
            player.brmissionscompleted++;
            player setclientomnvar( "ui_dmz_missions_completed", player.brmissionscompleted );
            _id_52781BE0B4E8A959( player.team, _id_A21D92F62733E9C9 );
            wait 4;
        }

        wait 1;
    }
}

_id_52781BE0B4E8A959( team, _id_EFA8EF05B190D7D0 )
{
    level._id_0CC6F9CF228ACCB4[team]++;

    if ( istrue( level._id_98C3DB0DBB3D3029 ) )
        return;

    if ( level._id_08F7D92F10FC80CE )
    {
        if ( level._id_0CC6F9CF228ACCB4[team] % level._id_08F7D92F10FC80CE != 0 )
            return;

        if ( level._id_9B6B8C7ECB7AC7C0 )
        {
            _id_204F99D788C2C529 = level._id_58F477E9E7E8F739[0];

            foreach ( exfil in level._id_58F477E9E7E8F739 )
            {
                if ( !scripts\engine\utility::array_contains_key( exfil._id_D81E4008D63C5E96, team ) )
                {
                    if ( exfil._id_D81E4008D63C5E96.size > level._id_628F636DE1F2DDA3 )
                    {
                        _id_204F99D788C2C529 = exfil;
                        continue;
                    }

                    if ( level._id_01EFF61A95657CA2 && isdefined( level.teamdata[team]["startPoint"]._id_B205D90302DA2F07 ) && exfil._id_B205D90302DA2F07 == level.teamdata[team]["startPoint"]._id_B205D90302DA2F07 )
                        continue;

                    level thread _id_F9DDC1898E570753( exfil, team );
                    return;
                }
            }

            if ( isdefined( _id_204F99D788C2C529 ) )
            {
                level._id_628F636DE1F2DDA3 = level._id_628F636DE1F2DDA3 + 1;
                level thread _id_F9DDC1898E570753( _id_204F99D788C2C529, team );
            }

            return;
        }
        else
        {
            players = scripts\mp\utility\teams::getfriendlyplayers( team, 1 );
            _id_B205D90302DA2F07 = scripts\engine\utility::ter_op( isdefined( _id_EFA8EF05B190D7D0._id_B205D90302DA2F07 ), _id_EFA8EF05B190D7D0._id_B205D90302DA2F07, _id_5DEF7AF2A9F04234::_id_55CF921EFA4CBD09( players[0].origin ) );
            exfil = _id_FFEF19D55026B498( team, _id_EFA8EF05B190D7D0._id_B205D90302DA2F07 );

            if ( isdefined( exfil ) )
            {
                level thread _id_F9DDC1898E570753( exfil, team );
                return;
            }
        }
    }

    if ( level._id_0CC6F9CF228ACCB4[team] != level._id_C42D6E4A40F70691 )
        return;

    level thread _id_ED7BC1AAEB97B0EF( team );
}

_id_F9DDC1898E570753( exfil, team )
{
    wait 4;
    exfil._id_D81E4008D63C5E96[team] = team;
    _id_AC66B79A73B21444( team, exfil );
    players = scripts\mp\utility\teams::getfriendlyplayers( team, 1 );
    _id_4480C6CE37B2BDF3::_id_AE6091699E25D8B4( "dmz_exfil_ready", players, exfil._id_B205D90302DA2F07 );

    if ( getdvarint( "dvar_F0FC10CEB2D6142C", 0 ) == 0 )
    {
        if ( isdefined( exfil._id_D81E4008D63C5E96 ) && exfil._id_D81E4008D63C5E96.size > 0 )
            _id_B513AAF6E49F184A( exfil );
        else
            _id_BBE41F41D0F13612( exfil );
    }
}

_id_ED7BC1AAEB97B0EF( team )
{
    wait 4;
    exfil = level._id_45B8EBF14DBC4E63[team];
    exfil._id_D81E4008D63C5E96[team] = team;
    _id_AC66B79A73B21444( team, exfil );
    players = scripts\mp\utility\teams::getfriendlyplayers( team, 1 );
    _id_4480C6CE37B2BDF3::_id_AE6091699E25D8B4( "dmz_exfil_ready", players, exfil._id_B205D90302DA2F07 );
    scripts\mp\utility\dialog::leaderdialog( "dmz_contract_complete_2", team );

    if ( getdvarint( "dvar_F0FC10CEB2D6142C", 0 ) == 0 )
    {
        if ( isdefined( exfil._id_D81E4008D63C5E96 ) && exfil._id_D81E4008D63C5E96.size > 0 )
            _id_B513AAF6E49F184A( exfil );
        else
            _id_BBE41F41D0F13612( exfil );
    }
}

_id_FFEF19D55026B498( team, _id_B205D90302DA2F07 )
{
    _id_921A13367F73AB4D = undefined;

    if ( !isdefined( level._id_5FAD09539823F92E[_id_B205D90302DA2F07] ) )
        return undefined;

    foreach ( exfil in level._id_5FAD09539823F92E[_id_B205D90302DA2F07] )
    {
        if ( exfil._id_D81E4008D63C5E96.size == 0 || level._id_4644C9DA9A611950 )
            _id_921A13367F73AB4D = exfil;

        if ( scripts\engine\utility::array_contains_key( exfil._id_D81E4008D63C5E96, team ) )
            return undefined;
    }

    return _id_921A13367F73AB4D;
}

_id_5BC15F36914E63C7( ent, part, state, player, waittime, _id_292D5D91FB6427FF, _id_27144879B0C7BEED )
{
    if ( !isdefined( ent ) || istrue( ent.disabled ) )
        return;

    if ( isdefined( ent.heli ) )
    {
        player _id_6C155294223488B5( undefined, &"KILLSTREAKS/AIR_SPACE_TOO_CROWDED" );
        return;
    }

    _id_BEDB769CC0E5E018 = 0;
    _id_01230EA36A300368 = getgroundposition( ent.origin, 1 ) + ( 0, 0, 2 );
    ent.inuse = 1;
    team = player.team;
    players = scripts\mp\utility\teams::getteamdata( player.team, "players" );

    if ( istrue( _id_27144879B0C7BEED ) )
        players = level.players;

    _id_1F97A44D1761C919::_id_D87D5DEB069BF8E5( "match_exfil_inbound", players );

    if ( istrue( _id_27144879B0C7BEED ) )
        _id_4480C6CE37B2BDF3::_id_AE6091699E25D8B4( "dmz_exfil_inbound_final", players, ent.info._id_B205D90302DA2F07 );
    else
        _id_4480C6CE37B2BDF3::_id_AE6091699E25D8B4( "dmz_exfil_inbound", players, ent.info._id_B205D90302DA2F07 );

    _id_64ACB6CE534155B7::utilflare_shootflare( ent.origin, "dmz_exfil" );

    foreach ( _id_B2810E8D06E0A042 in players )
        _id_B2810E8D06E0A042 setplayermusicstate( "dmz_exfil" );

    wait 5;
    _id_2C728460E4C9349D = level._id_9405ABD1DB7CF2CF;

    if ( !istrue( _id_27144879B0C7BEED ) )
    {
        if ( scripts\mp\gamelogic::gettimeremaining() / 1000 < 30 + level._id_9405ABD1DB7CF2CF || _id_1174ABEDBEFE9ADA::_id_28F7A303238284EE() )
            _id_1C2BD1696D29935B( team, "dmz_exfil_pilot_called_gas" );
        else
            _id_1C2BD1696D29935B( team, "dmz_exfil_pilot_called_default" );
    }

    if ( _id_2C728460E4C9349D >= 45 )
    {
        _id_2C728460E4C9349D = _id_2C728460E4C9349D - 30;
        wait( _id_2C728460E4C9349D );
        _id_0EFD3004BCAA728F( "dmz_exfil_pilot_called_30out", players );
        _id_2C728460E4C9349D = 30;
    }

    if ( _id_2C728460E4C9349D >= 30 )
    {
        _id_2C728460E4C9349D = _id_2C728460E4C9349D - 15;
        wait( _id_2C728460E4C9349D );
        _id_0EFD3004BCAA728F( "dmz_exfil_pilot_called_15out", players );
        _id_2C728460E4C9349D = 15;
    }

    wait( _id_2C728460E4C9349D );
    _id_0EFD3004BCAA728F( "dmz_exfil_pilot_called_close", players );

    if ( !isdefined( ent ) || istrue( ent.disabled ) )
        return;

    path = _id_D99E1EB9CCB97BFF( ent, _id_01230EA36A300368 );

    if ( !isdefined( path ) )
        return;

    _id_A3010F9814A40C8D = player;

    for ( _id_AC0E594AC96AA3A8 = 0; _id_AC0E594AC96AA3A8 < players.size && !isdefined( _id_A3010F9814A40C8D ); _id_AC0E594AC96AA3A8++ )
        _id_A3010F9814A40C8D = players[_id_AC0E594AC96AA3A8];

    if ( !isdefined( _id_A3010F9814A40C8D ) )
        return;

    heli = _id_BA916FD4711C53E2( _id_A3010F9814A40C8D, path.origin, ent.angles, _id_292D5D91FB6427FF );
    ent thread _id_AF127153CD74A516( heli, _id_01230EA36A300368 );
    ent thread _id_0C96565682B57F79( heli, _id_01230EA36A300368 );
    heli scripts\common\vehicle_paths::vehicle_paths_helicopter( path );

    if ( !istrue( ent.info.land ) )
        heli sethoverparams( 2, 1, 1 );

    if ( isdefined( heli._id_9A9890E85503C247 ) )
        _id_0EFD3004BCAA728F( "dmz_exfil_pilot_called_masks", players );
    else
        _id_0EFD3004BCAA728F( "dmz_exfil_pilot_called_touchdown", players );

    if ( !istrue( _id_292D5D91FB6427FF ) )
        waittime = ( level._id_06FC3398B5A13400 - gettime() ) / 1000 - level._id_A276CD366472B025;

    heli _id_344B753CD0E999B2( scripts\engine\utility::ter_op( isdefined( waittime ), waittime, level._id_745BEBF82B7D49F8 ) );
    heli _id_EC604C017DE1B13E();

    if ( istrue( _id_27144879B0C7BEED ) )
        _id_0EFD3004BCAA728F( "dmz_exfil_pilot_called_final_leaving", players );

    if ( level._id_CF4723BFB4CC7643 )
        heli _id_2BC0B0102F9B7751::_id_FC805EC1E7B08264( heli.currentnode );
    else
    {
        path = _id_3C841844A3299BFF( ent, _id_01230EA36A300368 );
        heli thread scripts\common\vehicle_paths::vehicle_paths_helicopter( path );
        wait 10;
    }

    scripts\cp_mp\calloutmarkerping::_id_C068EFDF0ABD5258( ent );
    wait 1.5;

    foreach ( player in heli._id_878914B0358BC7B5 )
    {
        if ( !isdefined( player ) )
            continue;

        player setsoundsubmix( "iw9_mp_dmz_exfil_fadeout", 6 );
        player setplayermusicstate( "" );
    }

    wait 6.5;
    heli._id_9AB1B62A59F15DE7 = [];

    foreach ( player in heli._id_878914B0358BC7B5 )
    {
        if ( !isdefined( player ) )
            continue;

        heli._id_9AB1B62A59F15DE7[heli._id_9AB1B62A59F15DE7.size] = player;
        _id_BEDB769CC0E5E018 = 1;
    }

    _id_309C0A11484CC0DB( heli._id_9AB1B62A59F15DE7, _id_27144879B0C7BEED );
    wait 15;
    heli _id_F17FFD5A114ACA37();

    if ( level._id_662586EDE589F49C && _id_BEDB769CC0E5E018 )
    {
        ent.info.used = 1;
        ent delete();
        return;
    }

    if ( isdefined( ent ) && !istrue( ent.disabled ) )
    {
        ent.inuse = 0;
        ent thread _id_1DCDA56EFB76E334( team );
    }
}

_id_EC604C017DE1B13E()
{
    if ( !isdefined( self._id_6881781E87586753 ) )
        self._id_6881781E87586753 = level._id_A276CD366472B025;

    while ( self._id_6881781E87586753 > 0 )
    {
        self._id_6881781E87586753--;
        wait 1;
    }
}

_id_F17FFD5A114ACA37()
{
    if ( isdefined( self._id_B23E608EF55DB7FA ) )
    {
        foreach ( pilot in self._id_B23E608EF55DB7FA )
        {
            foreach ( ent in pilot.linkedents )
                ent delete();

            pilot delete();
        }
    }

    if ( isdefined( self._id_9A9890E85503C247 ) )
    {
        foreach ( gasmask in self._id_9A9890E85503C247 )
        {
            if ( isdefined( gasmask ) )
            {
                _id_7E52B56769FA7774::deregisterscriptableinstance( gasmask );
                gasmask freescriptable();
            }
        }
    }

    scripts\cp_mp\vehicles\vehicle::vehicle_death( self );
}

_id_344B753CD0E999B2( waittime )
{
    self endon( "dmz_exfil_team_ready" );
    _id_940A3890AC273220 = int( waittime );
    players = level.players;

    if ( isdefined( self._id_1E897AE1C018B2C2 ) )
        players = scripts\mp\utility\teams::getteamdata( self._id_1E897AE1C018B2C2, "players" );

    foreach ( _id_80EF668C09FFB70F in players )
    {
        if ( !isdefined( _id_80EF668C09FFB70F._id_85B67879837F2019 ) && scripts\mp\utility\player::isreallyalive( _id_80EF668C09FFB70F ) )
        {
            self._id_0902A7FFCFF8AA65[self._id_0902A7FFCFF8AA65.size] = _id_80EF668C09FFB70F;
            _id_80EF668C09FFB70F thread _id_496941BF27AF77B1( self.origin, _id_940A3890AC273220 + level._id_A276CD366472B025, undefined );
        }
    }

    self._id_75ADB7F3CBE5D522 = _id_940A3890AC273220;
    self._id_6881781E87586753 = level._id_A276CD366472B025;

    while ( self._id_75ADB7F3CBE5D522 > 0 )
    {
        self._id_75ADB7F3CBE5D522--;

        if ( !isdefined( self._id_1E897AE1C018B2C2 ) && self._id_75ADB7F3CBE5D522 == 60 - level._id_A276CD366472B025 )
            _id_0EFD3004BCAA728F( "dmz_exfil_pilot_called_final_warning", players );

        wait 1;
    }
}

_id_AF127153CD74A516( heli, endpoint )
{
    heli endon( "death" );
    self endon( "disable" );

    while ( distance( heli.origin, endpoint ) > 1500 )
        wait 0.1;

    if ( isdefined( self ) )
        self setscriptablepartstate( "dmz_exfil_smoke", "dissipate" );
}

_id_0C96565682B57F79( heli, endpoint )
{
    heli endon( "death" );

    while ( distance2d( heli.origin, endpoint ) > 500 )
        wait 0.1;

    heli thread _id_4FFA71790DB7C5BC();

    if ( isdefined( self ) )
        scripts\cp_mp\calloutmarkerping::_id_FFD6EED18C767472( self, heli, 6, 23, ( 0, 0, 72 ) );
}

_id_184FF6B45E3F1B70()
{
    self endon( "death_or_disconnect" );
    _id_2CEDCC356F1B9FC8::playerplaygestureweaponanim( "iw8_ges_plyr_plunder_smoke", 1.867 );
}

_id_6C155294223488B5( _id_06B62DB6EEC868E2, _id_734564FF3D4FD467 )
{
    self iprintlnbold( _id_734564FF3D4FD467 );
    self playlocalsound( "br_pickup_deny" );

    if ( isdefined( _id_06B62DB6EEC868E2 ) )
    {
        ammo = self getweaponammoclip( _id_06B62DB6EEC868E2 );
        self setweaponammoclip( _id_06B62DB6EEC868E2, ammo + 1 );
    }
}

_id_D99E1EB9CCB97BFF( ent, endpos )
{
    if ( !isdefined( ent ) )
        return undefined;

    if ( !isdefined( level._id_82A4581D137DDED4 ) )
        level._id_82A4581D137DDED4 = [];

    if ( isent( ent ) && isdefined( level._id_82A4581D137DDED4[ent getentitynumber()] ) )
        return level._id_82A4581D137DDED4[ent getentitynumber()];

    _id_2F58E7950B321302 = _id_491983385CCC2954( ent, level._id_BBF4A84349D0FDEB, 1 );
    _id_D30D83160ADFA539 = _id_2F58E7950B321302 - ent.origin;
    _id_D30D83160ADFA539 = vectornormalize( ( _id_D30D83160ADFA539[0], _id_D30D83160ADFA539[1], 0 ) );
    exitangles = vectortoangles( _id_D30D83160ADFA539 * -1 );
    startstruct = spawnstruct();
    startstruct.angles = ent.angles;

    if ( isdefined( ent.info._id_B44C269EA13F56AE ) )
    {
        endpos = ent.info._id_B44C269EA13F56AE;
        startstruct.angles = ent.info._id_A55FA332B1255E04;
    }

    startstruct.origin = endpos + ( 0, 0, getdvarint( "dvar_A3C1D41C94507F92", 279 ) );
    startstruct.radius = 500;
    startstruct.speed = 10;

    if ( isent( ent ) )
        startstruct.targetname = "exfil" + ent getentitynumber();

    startstruct.script_anglevehicle = "1";

    if ( istrue( ent.info.land ) )
        startstruct.script_land = "1";

    _id_9E4E5282CB41521F = _id_1BE7A96CD1B1329F( startstruct.origin + _id_D30D83160ADFA539 * 100 + ( 0, 0, level._id_BBF4A84349D0FDEB ), startstruct, startstruct.targetname, 10, 1, ent.angles );
    _id_9E4E5382CB415452 = _id_1BE7A96CD1B1329F( _id_9E4E5282CB41521F.origin + _id_D30D83160ADFA539 * 5000, _id_9E4E5282CB41521F, startstruct.targetname, 20, 2, exitangles );
    _id_9E4E5482CB415685 = _id_1BE7A96CD1B1329F( _id_9E4E5282CB41521F.origin + _id_D30D83160ADFA539 * 10000, _id_9E4E5382CB415452, startstruct.targetname, 85, 3, exitangles );

    if ( isent( ent ) )
        level._id_82A4581D137DDED4[ent getentitynumber()] = _id_9E4E5482CB415685;

    return _id_9E4E5482CB415685;
}

_id_3C841844A3299BFF( ent, endpos )
{
    _id_2F58E7950B321302 = _id_491983385CCC2954( ent, level._id_BBF4A84349D0FDEB );
    _id_D30D83160ADFA539 = _id_2F58E7950B321302 - endpos;
    _id_D30D83160ADFA539 = vectornormalize( ( _id_D30D83160ADFA539[0], _id_D30D83160ADFA539[1], 0 ) );
    exitangles = vectortoangles( _id_D30D83160ADFA539 );
    startstruct = spawnstruct();
    startstruct.origin = _id_2F58E7950B321302;
    startstruct.angles = ent.angles;
    startstruct.radius = 500;
    startstruct.speed = 80;

    if ( isent( ent ) )
        startstruct.targetname = "exfilExit" + ent getentitynumber();

    _id_B9FC106959C06C4F = endpos + ( 0, 0, 900 );
    _id_9F481255F2C41D46 = _id_B9FC106959C06C4F + ( 0, 0, level._id_BBF4A84349D0FDEB );
    _id_9E4E5182CB414FEC = _id_1BE7A96CD1B1329F( _id_9F481255F2C41D46 + _id_D30D83160ADFA539 * 9000 + ( 0, 0, 9000 ), startstruct, startstruct.targetname, 40, 1, exitangles );
    _id_9E4E5282CB41521F = _id_1BE7A96CD1B1329F( _id_9F481255F2C41D46 + _id_D30D83160ADFA539 * 5000, _id_9E4E5182CB414FEC, startstruct.targetname, 20, 2, exitangles );
    _id_9E4E5382CB415452 = _id_1BE7A96CD1B1329F( _id_9F481255F2C41D46, _id_9E4E5282CB41521F, startstruct.targetname, 40, 3, exitangles );
    _id_9E4E5482CB415685 = _id_1BE7A96CD1B1329F( _id_9F481255F2C41D46 - ( 0, 0, 300 ), _id_9E4E5382CB415452, startstruct.targetname, 10, 4, ent.angles );
    _id_9E4E4D82CB414720 = _id_1BE7A96CD1B1329F( _id_B9FC106959C06C4F, _id_9E4E5482CB415685, startstruct.targetname, 10, 5, ent.angles );
    return _id_9E4E4D82CB414720;
}

_id_491983385CCC2954( startnode, heliheight, reverse )
{
    if ( !isdefined( reverse ) )
        reverse = 0;

    _id_3FB4A86293ED25A6 = 10;
    contents = scripts\engine\trace::create_contents( 0, 1, 1, 1, 1, 0, 1, 1, 0 );
    startpos = startnode.origin + ( 0, 0, heliheight + 600 );
    _id_3674D96C61E2DD0D = scripts\engine\utility::ter_op( reverse, startnode.angles[1] + 180, startnode.angles[1] );

    for ( yaw = 0; yaw < 360; yaw = yaw + _id_3FB4A86293ED25A6 )
    {
        _id_3674D96C61E2DD0D = _id_3674D96C61E2DD0D + yaw;
        _id_211FC11F4C8566F5 = ( 0, _id_3674D96C61E2DD0D, 0 );
        _id_29006F80487A7787 = startpos;
        _id_DD77D0A6D708AC18 = startpos + anglestoforward( _id_211FC11F4C8566F5 ) * 18000;
        _id_D4EB961F60968A16 = scripts\engine\trace::sphere_trace( _id_29006F80487A7787, _id_DD77D0A6D708AC18, 100, undefined, contents, 1 );

        if ( _id_D4EB961F60968A16["fraction"] == 1 )
            return _id_DD77D0A6D708AC18;

        if ( yaw % 3 == 0 )
            waitframe();
    }

    return undefined;
}

_id_1BE7A96CD1B1329F( pos, _id_C013CFD919A1A62D, _id_A95CF9509CE0D814, speed, num, _id_B092096C70BCC8E4 )
{
    struct = spawnstruct();
    struct.speed = speed;
    struct.origin = pos;
    struct.angles = scripts\engine\utility::ter_op( isdefined( _id_B092096C70BCC8E4 ), _id_B092096C70BCC8E4, _id_C013CFD919A1A62D.angles );
    struct.radius = 500;
    struct.target = _id_C013CFD919A1A62D;
    struct.script_anglevehicle = "1";
    return struct;
}

_id_BA916FD4711C53E2( owner, pos, angles, _id_292D5D91FB6427FF )
{
    if ( !isdefined( _id_292D5D91FB6427FF ) )
        _id_292D5D91FB6427FF = 1;

    spawndata = spawnstruct();
    spawndata.origin = pos;
    spawndata.angles = angles;
    spawndata.spawntype = "GAME_MODE";

    if ( !_id_292D5D91FB6427FF )
        spawndata._id_14CDE247AC3313A4 = "dmzwhite";

    heli = undefined;

    while ( !isdefined( heli ) )
    {
        heli = scripts\cp_mp\vehicles\vehicle::vehicle_spawn( "veh9_palfa", spawndata );

        if ( !isdefined( heli ) )
            wait 1.0;
    }

    scripts\cp_mp\vehicles\vehicle_interact::vehicle_interact_makeunusable( heli );
    heli._id_135A33623C519457 = 1;
    heli._id_0902A7FFCFF8AA65 = [];
    heli._id_75ADB7F3CBE5D522 = level._id_745BEBF82B7D49F8 + level._id_A276CD366472B025;

    if ( istrue( _id_292D5D91FB6427FF ) )
        heli._id_1E897AE1C018B2C2 = owner.team;

    heli._id_878914B0358BC7B5 = [];
    heli._id_675F44ED226AED7D = ::_id_8EBF38FBB99AF797;
    heli._id_7B468990DA46C73C = ::_id_F6685FAD77B7F64D;
    heli._id_C547488F80D3EB28 = 1;
    heli.unload_land_offset = 255;
    heli.script_disconnectpaths = 1;
    heli _id_838AA7A20D6DB410();
    heli _meth_247AD6A91F6A4FFE( 1 );

    if ( scripts\mp\gamelogic::gettimeremaining() / 1000 < 30 || _id_1174ABEDBEFE9ADA::_id_28F7A303238284EE() )
    {
        heli._id_9A9890E85503C247 = [];
        _id_BF80F581FDCE86D2 = heli.angles + ( 0, -90, -18 );
        _id_840C2EE92C8F78FE = [ ( 33, 40, -198 ), ( -15, 40, -198 ), ( -58, 40, -198 ), ( -105, 40, -198 ) ];

        foreach ( offset in _id_840C2EE92C8F78FE )
        {
            _id_B96E8BC44751CFAE = rotatevector( offset, heli.angles );
            gasmask = spawnscriptable( "brloot_equip_gasmask", heli.origin + _id_B96E8BC44751CFAE, _id_BF80F581FDCE86D2 );
            _id_7E52B56769FA7774::registerscriptableinstance( gasmask );
            gasmask scriptablesetparententity( heli, offset );
            heli._id_9A9890E85503C247[heli._id_9A9890E85503C247.size] = gasmask;
        }
    }

    return heli;
}

_id_838AA7A20D6DB410()
{
    _id_2A94A31F5C16A229 = [ "body_sp_ally_pilot_western_vm_fullbody", "body_sp_ally_pilot_western_vm_fullbody" ];
    _id_30F2BDD1710C71FB = [ "iw9_mp_heli_palfa_seat_0_idle", "iw9_heli_palfa_seat_1_idle" ];
    _id_A6FE8CE5D2C31D36 = [ "tag_seat_0", "tag_seat_1" ];
    _id_C2A106D998C9F3BE = 2;
    self._id_B23E608EF55DB7FA = [];

    for ( _id_AC0E594AC96AA3A8 = 0; _id_AC0E594AC96AA3A8 < _id_C2A106D998C9F3BE; _id_AC0E594AC96AA3A8++ )
    {
        _id_514D9E806D48B808 = _id_8C5DD82B28A2C584( _id_AC0E594AC96AA3A8, _id_A6FE8CE5D2C31D36[_id_AC0E594AC96AA3A8], _id_30F2BDD1710C71FB[_id_AC0E594AC96AA3A8], _id_2A94A31F5C16A229[_id_AC0E594AC96AA3A8], undefined );
        self._id_B23E608EF55DB7FA[self._id_B23E608EF55DB7FA.size] = _id_514D9E806D48B808;
    }
}

_id_8C5DD82B28A2C584( _id_DCEF536353EA980B, tag, animname, model, headmodel )
{
    _id_2626560098D08682 = self gettagorigin( tag );
    _id_B7850001037AA074 = self gettagangles( tag );
    spawned = spawn( "script_model", _id_2626560098D08682 );
    spawned.angles = _id_B7850001037AA074;
    spawned setmodel( model );
    _id_2626560098D08682 = spawned gettagorigin( "j_spine4" );
    _id_B7850001037AA074 = spawned gettagangles( "j_spine4" );
    spawned.linkedents = [];

    if ( isdefined( headmodel ) )
    {
        head = spawn( "script_model", _id_2626560098D08682 );
        head.angles = _id_B7850001037AA074;
        head setmodel( headmodel );
        head linkto( spawned, "j_spine4" );
        spawned.linkedents[spawned.linkedents.size] = head;
        spawned.head = head;
    }

    spawned linkto( self );

    if ( isdefined( animname ) )
        spawned scriptmodelplayanim( animname );

    return spawned;
}

_id_8EBF38FBB99AF797( player )
{
    if ( !scripts\engine\utility::array_contains_key( self._id_878914B0358BC7B5, player.guid ) )
    {
        self._id_878914B0358BC7B5[player.guid] = player;
        scripts\mp\outofbounds::enableoobimmunity( player );

        if ( !isdefined( player._id_85B67879837F2019 ) )
        {
            self._id_0902A7FFCFF8AA65[self._id_0902A7FFCFF8AA65.size] = player;
            player thread _id_496941BF27AF77B1( self.origin, self._id_75ADB7F3CBE5D522 + level._id_A276CD366472B025, 2000 );
        }
    }

    _id_3995EC6A46BD14DF = 0;

    if ( isdefined( self._id_1E897AE1C018B2C2 ) )
    {
        players = scripts\mp\utility\teams::getteamdata( self._id_1E897AE1C018B2C2, "players" );

        foreach ( _id_B2810E8D06E0A042 in players )
        {
            if ( scripts\mp\utility\player::isreallyalive( _id_B2810E8D06E0A042 ) && !isdefined( self._id_878914B0358BC7B5[_id_B2810E8D06E0A042.guid] ) )
                return;
        }

        foreach ( player in self._id_0902A7FFCFF8AA65 )
        {
            if ( istrue( player._id_85B67879837F2019 ) )
                player thread _id_496941BF27AF77B1( self.origin, self._id_6881781E87586753, 2000 );
        }
    }
    else
        return;

    _id_1C2BD1696D29935B( self._id_1E897AE1C018B2C2, "dmz_exfil_pilot_called_shortcut" );
    self notify( "dmz_exfil_team_ready" );
}

_id_F6685FAD77B7F64D( player )
{
    self._id_878914B0358BC7B5[player.guid] = undefined;

    if ( isdefined( player ) && isint( player.oobimmunity ) )
        scripts\mp\outofbounds::disableoobimmunity( player );
}

callback_vehicledamage( inflictor, attacker, damage, _id_44E290FB31B85206, meansofdeath, objweapon, point, dir, hitloc, timeoffset, modelindex, partname, eventid )
{
    if ( isdefined( attacker ) )
    {
        if ( isdefined( attacker.owner ) )
            attacker = attacker.owner;
    }

    if ( istrue( level._id_F7C6553E5222163F ) )
        return;

    if ( ( attacker == self || isdefined( attacker.pers ) && attacker.pers["team"] == self.team && !level.friendlyfire && level.teambased ) && attacker != self.owner )
        return;

    if ( self.health <= 0 )
        return;

    damage = scripts\mp\utility\killstreak::getmodifiedantikillstreakdamage( attacker, objweapon, meansofdeath, damage, self.maxhealth, 3, 4, 5 );
    scripts\mp\killstreaks\killstreaks::killstreakhit( attacker, objweapon, self, meansofdeath, damage );
    attacker _id_5762AC2F22202BA2::updatedamagefeedback( "" );

    if ( self.health - damage <= 900 && ( !isdefined( self.smoking ) || !self.smoking ) )
        self.smoking = 1;

    self vehicle_finishdamage( inflictor, attacker, damage, _id_44E290FB31B85206, meansofdeath, objweapon, point, dir, hitloc, timeoffset, modelindex, partname );
}

_id_0EFD3004BCAA728F( dialog, players )
{
    _id_CB3339ECE72DBDEB = game["dialog"][dialog];

    foreach ( player in players )
    {
        if ( isdefined( player ) && scripts\mp\utility\player::isreallyalive( player ) )
            player queuedialogforplayer( _id_CB3339ECE72DBDEB, dialog, 2 );
    }
}

_id_9FDF14C5AAC8CE53( dialog )
{
    _id_CB3339ECE72DBDEB = game["dialog"][dialog];

    foreach ( player in level.players )
    {
        if ( !isbot( player ) && isdefined( player ) && scripts\mp\utility\player::isreallyalive( player ) )
            player queuedialogforplayer( _id_CB3339ECE72DBDEB, dialog, 2 );
    }
}

_id_1C2BD1696D29935B( _id_FABF84450735DD93, dialog )
{
    _id_CB3339ECE72DBDEB = game["dialog"][dialog];

    foreach ( _id_B2810E8D06E0A042 in scripts\mp\utility\teams::getteamdata( _id_FABF84450735DD93, "players" ) )
    {
        if ( isdefined( _id_B2810E8D06E0A042 ) && scripts\mp\utility\player::isreallyalive( _id_B2810E8D06E0A042 ) )
            _id_B2810E8D06E0A042 queuedialogforplayer( _id_CB3339ECE72DBDEB, dialog, 2 );
    }
}

_id_C5F291ACF1B44B69( instance, part, state, player, _id_A5B2C541413AA895, _id_CC38472E36BE1B61 )
{
    if ( !isdefined( instance ) || !isdefined( player ) )
        return;

    player thread _id_8FC5AEAB9CB08048( instance.entity );
    instance setscriptablepartstate( "dmz_exfil_site", "standby" );
}

_id_AC66B79A73B21444( team, _id_3064FA24DBBD5BBF )
{
    _id_3FE83C7FBE0F3DFC = scripts\engine\utility::array_add( scripts\mp\utility\teams::getteamdata( team, "exfils" ), _id_3064FA24DBBD5BBF );
    scripts\mp\utility\teams::setteamdata( team, "exfils", _id_3FE83C7FBE0F3DFC );
}
