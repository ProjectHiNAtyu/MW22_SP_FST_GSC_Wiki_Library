// IW9 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

_id_D634CFB1BF1B4867()
{
    _id_AED74300DAF62896 = spawnstruct();
    _id_AED74300DAF62896.name = "trapper";
    _id_AED74300DAF62896._id_EC2EC5F083DF61CD = ::_id_C3D56FA7478E2954;
    _id_AED74300DAF62896._id_4EA49A8926593523 = ::_id_72D87036EF6E0417;
    _id_AED74300DAF62896._id_E68429B39C75B6EE = ::_id_FFFE7F02C6A0DC2A;
    _id_2FDEB8023287BE67::_id_469ECEAE21900C7D( _id_AED74300DAF62896, "main", 1 );
    _id_2FDEB8023287BE67::_id_613E13E7416BFAA5( _id_AED74300DAF62896 );
}

_id_C3D56FA7478E2954( _id_AED74300DAF62896 )
{
    _id_AED74300DAF62896._id_BFE291B401A9BF2A = [];

    if ( !isdefined( level.struct_class_names["script_noteworthy"]["boss_trapper"] ) )
        return;

    foreach ( node in level.struct_class_names["script_noteworthy"]["boss_trapper"] )
        _id_AED74300DAF62896._id_BFE291B401A9BF2A[_id_AED74300DAF62896._id_BFE291B401A9BF2A.size] = node;

    scripts\engine\scriptable::scriptable_addusedcallbackbypart( "fusebox", ::_id_2FCAE00B9AB94909 );
}

_id_ECAFAE0ED671A9BF()
{
    level thread _id_72D87036EF6E0417();
}

_id_FFFE7F02C6A0DC2A( loc )
{
    aitype = _id_48814951E916AF89::_id_7F1A2E2EBE0C1693( "ar" );
    _id_E2958F412A7425C0 = _id_48814951E916AF89::_id_EA94A8BF24D3C5EF( aitype, loc, ( 0, 0, 0 ), "absolute", "bosses", "trapperBoss", undefined, undefined, undefined, "bossArea", 0, 0, 0 );

    if ( !isdefined( _id_E2958F412A7425C0 ) )
        return undefined;

    _id_BAD46437C216E22F( _id_E2958F412A7425C0 );
    _id_E2958F412A7425C0 thread _id_EB93FEAA150234E9();
    return _id_E2958F412A7425C0;
}

_id_4A1FAF9C80BC5395( loc )
{
    aitype = _id_48814951E916AF89::_id_7F1A2E2EBE0C1693( "ar" );
    lt = _id_48814951E916AF89::_id_EA94A8BF24D3C5EF( aitype, loc, ( 0, 0, 0 ), "absolute", "bosses", "trapperBossLt", undefined, undefined, undefined, "bossArea", 0, 0, 0 );
    _id_A7159F330B9B55D6( lt );
    return lt;
}

_id_BAD46437C216E22F( agent )
{
    if ( !isdefined( agent ) )
        return;

    _id_48814951E916AF89::_id_63A043D47490F90D( agent, "brloot_weapon_la_mike32_epic" );
    _id_A664AAD02EE98BD2 = "molotov_mp";
    grenadeammo = getdvarint( "dvar_537FA443CE212A8A", 12 );
    agent.baseaccuracy = getdvarfloat( "dvar_298D4EA8B0934E31", 1.8 );
    agent _id_371B4C2AB5861E62::_id_C37C4F9D687074FF( "body_sp_ally_sla_rebels_lmg_1_1", "hat_sp_ally_sla_rebels_lmg_1_1", undefined, _id_A664AAD02EE98BD2, grenadeammo );
    agent _id_2FDEB8023287BE67::_id_720C3B7ABF4BAAC8( "trapper", 1 );
}

_id_A7159F330B9B55D6( agent )
{
    if ( !isdefined( agent ) )
        return;

    agent._id_B582B10663B5B2A9 = 0;
    _id_48814951E916AF89::_id_63A043D47490F90D( agent, "loot_key_trapper_door", undefined, undefined, 1 );
    _id_A664AAD02EE98BD2 = "molotov_mp";
    grenadeammo = getdvarint( "dvar_537FA443CE212A8A", 12 );
    armor = 2000;
    helmet = 5;
    agent.baseaccuracy = getdvarfloat( "dvar_298D4EA8B0934E31", 1.2 );
    agent _id_371B4C2AB5861E62::_id_C37C4F9D687074FF( "body_mp_eastern_velikan_1_1", "head_mp_eastern_velikan_1_1", undefined, _id_A664AAD02EE98BD2, grenadeammo, armor, helmet );
}

_id_7D7110BD34F48C6D( einflictor, eattacker, idamage, idflags, smeansofdeath, sweapon, vpoint, vdir, shitloc, timeoffset, modelindex, partname, objweapon )
{
    _id_24FBEDBA9A7A1EF4::_id_DFFAC413ED66BCD0( einflictor, eattacker, int( idamage ), idflags, smeansofdeath, sweapon, vpoint, vdir, shitloc, timeoffset, modelindex, partname, objweapon );
}

_id_7212355C43BCA9BD( icon )
{
    self endon( "death" );

    for (;;)
    {
        waitframe();
        icon scripts\cp_mp\utility\game_utility::_id_6E148C8DA2E4DB13( self.origin );
        icon.origin = self.origin;
    }
}

_id_9D22AFBF33E198D1()
{
    wait 5;
    struct = _id_2FDEB8023287BE67::_id_3BCF85FF011D31F8( "trapper" );
    _id_E2958F412A7425C0 = _id_FFFE7F02C6A0DC2A( struct, 1 );
}

_id_72D87036EF6E0417()
{
    _id_0BAA08EA813E9752 = _id_2FDEB8023287BE67::_id_3BCF85FF011D31F8( "trapper" );

    if ( !isdefined( _id_0BAA08EA813E9752 ) )
        return;

    _id_A942AE9112CD6BDE = scripts\engine\utility::getstructarray( _id_0BAA08EA813E9752.target, "targetname" );
    _id_58C817414D96DE59 = spawnstruct();
    level._id_6A4C9FBD7AA58544["trapper"].instances[level._id_6A4C9FBD7AA58544["trapper"].instances.size] = _id_58C817414D96DE59;
    _id_58C817414D96DE59.nodes = [];

    foreach ( node in _id_A942AE9112CD6BDE )
    {
        if ( !isdefined( _id_58C817414D96DE59.nodes[node.script_noteworthy] ) )
            _id_58C817414D96DE59.nodes[node.script_noteworthy] = [];

        _id_58C817414D96DE59.nodes[node.script_noteworthy][_id_58C817414D96DE59.nodes[node.script_noteworthy].size] = node;
    }

    _id_58C817414D96DE59._id_E2958F412A7425C0 = _id_FFFE7F02C6A0DC2A( _id_58C817414D96DE59.nodes["boss_trapper_spawn"][0].origin );

    if ( !isdefined( _id_58C817414D96DE59._id_E2958F412A7425C0 ) )
        return;

    _id_58C817414D96DE59.lt = _id_4A1FAF9C80BC5395( _id_58C817414D96DE59.nodes["boss_trapper_lieutenant"][0].origin );
    doors = [];
    doors = _id_57D3850A12CF1D8F::_id_AD1B6ACCBAAB404E( _id_58C817414D96DE59.nodes["boss_trapper_door"][0], doors, "trapper_door", 1 );

    foreach ( door in doors )
        door._id_DEF557E8FD5C6763 = ::_id_EC6C8E8C2A82999A;

    doors = _id_57D3850A12CF1D8F::_id_AD1B6ACCBAAB404E( _id_58C817414D96DE59.nodes["boss_trapper_shortcut_door"][0], doors, "stuck", 0 );
    _id_58C817414D96DE59.doors = doors;

    foreach ( door in doors )
        _id_57D3850A12CF1D8F::_id_FBBFE6F05EDA5EB1( door );

    _id_58C817414D96DE59.speakers = [];

    foreach ( _id_7D2852D02216C876 in _id_58C817414D96DE59.nodes["boss_trapper_speaker"] )
        _id_58C817414D96DE59.speakers[_id_58C817414D96DE59.speakers.size] = spawnscriptable( "dmz_boss_trapper_speaker", _id_7D2852D02216C876.origin, _id_7D2852D02216C876.angles );

    _id_58C817414D96DE59.fusebox = [];

    foreach ( fusebox in _id_58C817414D96DE59.nodes["boss_trapper_fusebox"] )
    {
        _id_1D544599A3F1FC42 = spawnscriptable( "dmz_boss_trapper_fusebox", fusebox.origin, fusebox.angles );
        _id_1D544599A3F1FC42 setscriptablepartstate( "fusebox", "active", 0 );
        _id_1D544599A3F1FC42 thread _id_C7E485736E2649CC();
        _id_58C817414D96DE59.fusebox[_id_58C817414D96DE59.fusebox.size] = _id_1D544599A3F1FC42;
    }

    _id_104F87CC51A1138D = scripts\engine\utility::getstructarray( _id_58C817414D96DE59.nodes["boss_trapper_props"][0].target, "targetname" );

    foreach ( prop in _id_104F87CC51A1138D )
    {
        scriptable = spawnscriptable( "dmz_boss_trapper_props", prop.origin, prop.angles );
        scriptable setscriptablepartstate( "props", prop.script_noteworthy, 0 );
    }

    _id_64DDDB6B5F4A2710 = scripts\engine\utility::getstructarray( _id_58C817414D96DE59.nodes["boss_trapper_loot"][0].target, "targetname" );

    foreach ( loot in _id_64DDDB6B5F4A2710 )
    {
        _id_CB4FAD49263E20C4 = _id_7E52B56769FA7774::getitemdropinfo( loot.origin, loot.angles );
        pickup = _id_7E52B56769FA7774::spawnpickup( loot.script_noteworthy, _id_CB4FAD49263E20C4 );
    }

    _id_64DDDB6B5F4A2710 = scripts\engine\utility::getstructarray( _id_58C817414D96DE59.nodes["boss_trapper_loot_chance"][0].target, "targetname" );

    foreach ( loot in _id_64DDDB6B5F4A2710 )
    {
        _id_CB4FAD49263E20C4 = _id_7E52B56769FA7774::getitemdropinfo( loot.origin, loot.angles );
        pickup = _id_7E52B56769FA7774::spawnpickup( loot.script_noteworthy, _id_CB4FAD49263E20C4 );
    }

    foreach ( _id_8F9702AD946CE018 in _id_58C817414D96DE59.nodes["boss_trapper_main_door"] )
    {
        doors = scripts\cp_mp\utility\scriptable_door_utility::scriptable_door_get_in_radius( _id_8F9702AD946CE018.origin, 100, 100 );

        foreach ( door in doors )
            door._id_DEF557E8FD5C6763 = ::_id_7C4E0B436F035BCD;
    }
}

_id_EB93FEAA150234E9()
{
    self endon( "death" );
    _id_58C817414D96DE59 = level._id_6A4C9FBD7AA58544["trapper"].instances[0];

    for (;;)
    {
        self playsoundonmovingent( "dx_br_dbos_dbli_dbtp_btau" );

        if ( istrue( _id_58C817414D96DE59._id_63DEB9288D22C14D ) )
            return;

        wait 20;
    }
}

_id_EC6C8E8C2A82999A( scriptable, player )
{
    _id_58C817414D96DE59 = level._id_6A4C9FBD7AA58544["trapper"].instances[0];

    if ( istrue( _id_58C817414D96DE59._id_63DEB9288D22C14D ) )
        return;

    _id_58C817414D96DE59._id_63DEB9288D22C14D = 1;
}

_id_C7E485736E2649CC()
{
    for (;;)
    {
        state = self getscriptablepartstate( "health" );

        if ( state != "healthy" )
        {
            self.destroyed = 1;
            return;
        }

        wait 1;
    }
}

_id_2FCAE00B9AB94909( instance, part, state, player, _id_A5B2C541413AA895, _id_CC38472E36BE1B61 )
{
    _id_58C817414D96DE59 = level._id_6A4C9FBD7AA58544["trapper"].instances[0];

    if ( !istrue( _id_58C817414D96DE59.alerted ) )
        return;

    _id_58C817414D96DE59.alerted = 0;
    _id_7D2852D02216C876 = _id_58C817414D96DE59.speakers[0];
    _id_7D2852D02216C876 setscriptablepartstate( "speaker", "off" );
}

_id_7C4E0B436F035BCD( scriptable, player )
{
    _id_58C817414D96DE59 = level._id_6A4C9FBD7AA58544["trapper"].instances[0];

    if ( istrue( _id_58C817414D96DE59.alerted ) || istrue( _id_58C817414D96DE59.open ) )
        return;

    _id_58C817414D96DE59.alerted = 1;
    _id_58C817414D96DE59.open = 1;
    _id_7D2852D02216C876 = _id_58C817414D96DE59.speakers[0];
    _id_7D2852D02216C876 setscriptablepartstate( "speaker", "on" );
    level thread _id_9483E836CD5222E2( _id_58C817414D96DE59 );
    level thread _id_C16869C7D679CA38( _id_58C817414D96DE59 );
}

_id_9483E836CD5222E2( _id_58C817414D96DE59 )
{
    wait 120;
    _id_58C817414D96DE59.alerted = 0;
    _id_58C817414D96DE59.speakers[0] setscriptablepartstate( "speaker", "off" );
}

_id_C16869C7D679CA38( _id_58C817414D96DE59 )
{
    level endon( "game_ended" );
    _id_60D75D0AB3FF147C = _id_58C817414D96DE59.nodes["boss_trapper_lieutenant"][0].origin;
    _id_5C362DCAAA44CDF0 = [];

    for (;;)
    {
        if ( !istrue( _id_58C817414D96DE59.alerted ) )
            return;

        _id_CC976318205A7441 = scripts\common\utility::_id_98A826B6B6D0D118( _id_60D75D0AB3FF147C, 2500, undefined, 3000, 0 ).size;

        if ( _id_CC976318205A7441 < 6 )
        {
            _id_5C362DCAAA44CDF0 = _id_48814951E916AF89::_id_353FECD1549F5F42( _id_60D75D0AB3FF147C, 12000, undefined, 8 );

            if ( _id_5C362DCAAA44CDF0.size < 4 )
            {
                _id_48814951E916AF89::_id_77ACC10C4823DD8A( 6, _id_60D75D0AB3FF147C, "high", "reinforcements", "trapperReinforcements", undefined, undefined, 1 );
                wait 10.0;
            }
        }

        wait 20.0;
    }
}

_id_61B8B5D3B601698B( icon )
{
    self waittill( "death", _id_6181DE250AFA5BB6 );
    _id_1F97A44D1761C919::_id_9793A81BC3BC19E9( "boss_juggernaut_eliminated", _id_6181DE250AFA5BB6.team );
    icon scripts\cp_mp\utility\game_utility::_id_AF5604CE591768E1();
    icon freescriptable();
}
