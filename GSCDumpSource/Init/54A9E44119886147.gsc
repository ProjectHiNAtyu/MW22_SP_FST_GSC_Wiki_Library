// IW9 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

_id_E3D9D27A30E4D693( target )
{
    return _id_0D74AE0B4AA21186::_id_FF35A4D756374EDE( "combat", target, "main", target.name + "/" + target getentitynumber(), ::_id_35671B7B1A04BF58, self, ::_id_F4CAAE7E8AF9D32C );
}

_id_35671B7B1A04BF58( bot )
{
    target = self._id_EC02147FEE952CE2;
    meleechargedist = bot botgetdifficultysetting( "meleeChargeDist" );
    _id_7E28DD052F7B8A2C = meleechargedist * meleechargedist;
    _id_A8340BAE5A5E4FFC = 0;

    for (;;)
    {
        if ( !_id_40E63DD222434655::isvalidplayer( target ) )
            return "Invalid target";

        bot _id_40E63DD222434655::_id_2C2B5B435027F895( target );
        bot botclearscriptgoal();
        _id_33C1B9EB98AF9E77 = distancesquared( bot.origin, target.origin ) <= _id_7E28DD052F7B8A2C;

        if ( _id_A8340BAE5A5E4FFC != _id_33C1B9EB98AF9E77 )
        {
            _id_A8340BAE5A5E4FFC = _id_33C1B9EB98AF9E77;
            _id_20158EB686F4B21B = _id_33C1B9EB98AF9E77 && randomfloat( 1 ) < 0.5 && bot botcanseeentity( target );
            bot botsetflag( "prefer_melee", _id_20158EB686F4B21B );
        }

        msg = scripts\engine\utility::waittill_any_ents_or_timeout_return( 0.1, bot, "bad_path", bot, "long_path" );

        if ( !_id_40E63DD222434655::isvalidplayer( target ) )
            return "Invalid target";

        if ( msg == "bad_path" && !bot botcanseeentity( target ) )
        {
            bot _id_40E63DD222434655::_id_2C2B5B435027F895( undefined );
            point = _id_2695A20D4011076D::getrandompointincircle( bot.origin, 200, 0.5, 1, 1, 1 );
            _id_03863887FED6F155 = bot getclosestreachablepointonnavmesh( point );
            bot _id_40E63DD222434655::_id_9E400058EF021B03( _id_03863887FED6F155, 32 );
            scripts\engine\utility::waittill_any_ents_or_timeout_return( 2.0, bot, "goal", bot, "bad_path" );

            if ( !_id_40E63DD222434655::isvalidplayer( target ) )
                return "Invalid target";
        }
        else if ( msg == "long_path" && !bot botcanseeentity( target ) )
            return msg;

        if ( getdvarint( "dvar_05DE54678999F50E", 0 ) )
            bot _id_40E63DD222434655::_id_CF1A9E98122E3931( target );
    }
}

_id_F4CAAE7E8AF9D32C( action )
{
    if ( !_id_40E63DD222434655::_id_DED80385EA7471DB( self ) )
        return;

    self botsetflag( "prefer_melee", 0 );
}
