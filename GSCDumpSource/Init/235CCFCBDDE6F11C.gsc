// IW9 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

calloutmarkerping_init()
{
    scripts\cp_mp\calloutmarkerping::calloutmarkerping_initcommon();
    scripts\mp\utility\disconnect_event_aggregator::registerondisconnecteventcallback( scripts\cp_mp\calloutmarkerping::calloutmarkerping_onplayerdisconnect );
    scripts\cp_mp\utility\script_utility::registersharedfunc( "ping", "calloutMarkerPing_squadLeaderBeaconKillForPlayer", ::calloutmarkerping_squadleaderbeaconkillforplayer );
}

calloutmarkerping_squadleaderbeaconcreate( _id_6E5DCC903725AD78 )
{

}

calloutmarkerping_squadleaderbeaconplayerfirstlanded()
{
    player = self;

    if ( !getdvarint( "dvar_317946383876293F", 0 ) )
        return;

    if ( !istrue( player.squadleaderbeacon_isactive ) )
        return;

    if ( scripts\engine\utility::ispointinsidecircle( player.origin, player.squadleaderbeacon_circleorigin, player.squadleaderbeacon_circleradius ) )
    {
        if ( scripts\cp_mp\utility\script_utility::issharedfuncdefined( "rank", "scoreEventPopup" ) )
            player thread [[ scripts\cp_mp\utility\script_utility::getsharedfunc( "rank", "scoreEventPopup" ) ]]( "br_beacon_bonus" );
    }

    player.squadleaderbeacon_fxent delete();
    player.squadleaderbeacon_circleorigin = undefined;
    player.squadleaderbeacon_circleradius = undefined;
    player.squadleaderbeacon_isactive = undefined;
}

calloutmarkerping_squadleaderbeaconkillforplayer( player )
{
    if ( !getdvarint( "dvar_317946383876293F", 0 ) )
        return;

    if ( isdefined( player.squadleaderbeacon_fxent ) )
    {
        player.squadleaderbeacon_fxent delete();
        player.squadleaderbeacon_circleorigin = undefined;
        player.squadleaderbeacon_circleradius = undefined;
        player.squadleaderbeacon_isactive = undefined;
    }
}
