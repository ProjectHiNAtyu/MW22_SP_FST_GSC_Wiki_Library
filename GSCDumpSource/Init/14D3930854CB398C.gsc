// IW9 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

init()
{
    _id_CC0D5A1E8A904E5C = scripts\cp_mp\utility\script_utility::issharedfuncdefined( "teamAssim", "isEnabled" ) && [[ scripts\cp_mp\utility\script_utility::getsharedfunc( "teamAssim", "isEnabled" ) ]]();
    level.laststand = scripts\mp\tweakables::gettweakablevalue( "player", "laststand" );
    setomnvar( "ui_last_stand_type", level.laststand );
    level._id_1A52552BE0B92C9B = getdvarint( "dvar_CAAA48448A7F3558", 0 ) == 1;
    scripts\cp_mp\utility\script_utility::registersharedfunc( "pleaForHelp", "isEnabled", ::_id_4DB915A9CE0E903A );
    scripts\cp_mp\utility\script_utility::registersharedfunc( "pleaForHelp", "callForHelp", ::_id_F70FCDBFFBB4AA73 );
    scripts\mp\utility\disconnect_event_aggregator::registerondisconnecteventcallback( ::onplayerdisconnect );
    _id_3FF084F114B7F6C9::_id_F3D757808130BAC4( ::_id_6BDC6F56944DC3AA );
    level._id_DBBD13CC9AD757C1 = spawnstruct();
    level._id_DBBD13CC9AD757C1._id_807FFB67240349F5 = [];
}

_id_4DB915A9CE0E903A()
{
    if ( !isdefined( level._id_5E3E13175C48C44A ) )
        level._id_5E3E13175C48C44A = getdvarint( "dvar_B682A9C77AF06B57", 0 );

    return level._id_5E3E13175C48C44A;
}

_id_DBBD13CC9AD757C1( origin, _id_15AB90A8DE6865AA )
{
    _id_496AAA68C40AEB44 = _id_1144DEA4D6D6E575( origin, _id_15AB90A8DE6865AA );
    _id_496AAA68C40AEB44 _id_C9E6FCD7831F36AF( origin );
}

_id_AD29F2CDC94AAC3B()
{
    if ( !isdefined( level._id_DBBD13CC9AD757C1._id_7FF3973C2AD05964 ) )
        level._id_DBBD13CC9AD757C1._id_7FF3973C2AD05964 = getdvarint( "dvar_009CCE9B50F7EED8", 7000 );

    return level._id_DBBD13CC9AD757C1._id_7FF3973C2AD05964;
}

_id_4FB04DB192FBF4DA( player )
{
    return !istrue( level._id_ED844DB90CB6D370 ) && !istrue( player._id_5B6655655D0F130E );
}

_id_F70FCDBFFBB4AA73()
{
    thread _id_79A000B168903635();
}

_id_79A000B168903635()
{
    level endon( "game_ended" );
    self endon( "disconnect" );
    self endon( "spawned" );
    _id_5CCCB32072A43854( 0 );
    scripts\mp\killcam::_id_7A8A04D15AD052D5();

    if ( !_id_4FB04DB192FBF4DA( self ) )
        return;

    _id_5CCCB32072A43854( 1 );
    _id_6E9F9801408856F8 = isbot( self ) && _id_E2AED369E0BAC150();

    for (;;)
    {
        if ( _id_6E9F9801408856F8 || _id_707790AE3B55339E( self ) )
        {
            if ( self._id_36C1DC28EDF11BED == 2 )
            {

            }
            else if ( self._id_36C1DC28EDF11BED == 1 )
            {
                _id_DBBD13CC9AD757C1( self.origin, self );
                _id_5CCCB32072A43854( 2 );
            }
        }

        waitframe();
    }
}

_id_707790AE3B55339E( player )
{
    if ( player usinggamepad() )
        return player weaponswitchbuttonpressed();
    else
        return player activatekeypressed();
}

_id_1144DEA4D6D6E575( origin, _id_15AB90A8DE6865AA )
{
    _id_496AAA68C40AEB44 = spawnstruct();
    _id_496AAA68C40AEB44._id_15AB90A8DE6865AA = _id_15AB90A8DE6865AA;
    _id_496AAA68C40AEB44 _id_655792C8415B14F4( origin );
    _id_496AAA68C40AEB44 _id_7E7F8FAC7F822024( origin );
    _id_496AAA68C40AEB44 _id_5CB50EC8CF0F89A5();
    _id_496AAA68C40AEB44 thread _id_9E43384919425E9C();
    _id_675D06C4A07C4178( _id_496AAA68C40AEB44 );
    _id_496AAA68C40AEB44 thread _id_D00F5ADC927EEE80();
    return _id_496AAA68C40AEB44;
}

_id_B03CF5A57E364AF2( player )
{
    index = player getentitynumber();

    if ( isdefined( level._id_DBBD13CC9AD757C1._id_807FFB67240349F5[index] ) )
        level._id_DBBD13CC9AD757C1._id_807FFB67240349F5[index] _id_B5341D976F6C944D();
}

_id_675D06C4A07C4178( _id_496AAA68C40AEB44 )
{
    index = _id_496AAA68C40AEB44._id_15AB90A8DE6865AA getentitynumber();
    _id_496AAA68C40AEB44.index = index;
    level._id_DBBD13CC9AD757C1._id_807FFB67240349F5[index] = _id_496AAA68C40AEB44;
}

_id_D00F5ADC927EEE80()
{
    self._id_D546EFDFA7474C63 endon( "death" );
    scripts\engine\utility::waittill_any_ents( level, "game_ended", self._id_15AB90A8DE6865AA, "disconnect" );
    thread _id_B5341D976F6C944D();
}

_id_655792C8415B14F4( origin )
{
    offset = 15;
    _id_963953C3478BF4FE = origin + ( 0, 0, offset );
    _id_EFE526BF6A23D275 = "hud_icon_cyber_revive";
    _id_6560B67ED9749F4A = &"MP_BR_INGAME/PLEA_FOR_HELP_USE";
    hintdist = 250;
    hintfov = undefined;
    usedist = 100;
    usefov = undefined;
    self._id_D546EFDFA7474C63 = scripts\mp\gameobjects::createhintobject( _id_963953C3478BF4FE, "HINT_BUTTON", _id_EFE526BF6A23D275, _id_6560B67ED9749F4A, undefined, undefined, "show", hintdist, hintfov, usedist, usefov );
}

_id_7E7F8FAC7F822024( origin )
{
    self.objid = scripts\mp\objidpoolmanager::requestobjectiveid( 1 );

    if ( self.objid != -1 )
    {
        scripts\mp\objidpoolmanager::objective_add_objective( self.objid, "current", self._id_D546EFDFA7474C63.origin, "ui_gesture_come" );
        scripts\mp\objidpoolmanager::update_objective_setbackground( self.objid, 1 );
        scripts\mp\objidpoolmanager::objective_set_play_intro( self.objid, 1 );
        _id_7FF3973C2AD05964 = _id_AD29F2CDC94AAC3B();
        _func_C047D7FFE7A83501( self.objid, _id_7FF3973C2AD05964 - 500, _id_7FF3973C2AD05964 );
        _id_9B68823114A3405F();
    }
}

_id_5CB50EC8CF0F89A5()
{
    _id_7FF3973C2AD05964 = _id_AD29F2CDC94AAC3B();
    _id_E965BCE0774276B4 = scripts\mp\utility\player::getplayersinradius( self._id_D546EFDFA7474C63.origin, _id_7FF3973C2AD05964 );
    _id_6985F8AD6A6FC95B = scripts\engine\utility::array_difference( level.players, _id_E965BCE0774276B4 );
    scripts\mp\objidpoolmanager::objective_playermask_hidefromall( self.objid );

    foreach ( player in _id_E965BCE0774276B4 )
    {
        if ( !isdefined( player ) )
            continue;

        if ( _id_F4468DD443922B9E( self._id_15AB90A8DE6865AA, player, 1 ) )
        {
            _id_09610EEE898AC5A6( player );
            continue;
        }

        _id_E0949ADDB6054291( player );
    }

    foreach ( player in _id_6985F8AD6A6FC95B )
    {
        if ( !isdefined( player ) )
            continue;

        _id_E0949ADDB6054291( player );
    }
}

_id_E0949ADDB6054291( player )
{
    scripts\mp\objidpoolmanager::objective_playermask_hidefrom( self.objid, player );
    self._id_D546EFDFA7474C63 disableplayeruse( player );
}

_id_09610EEE898AC5A6( player )
{
    scripts\mp\objidpoolmanager::objective_playermask_addshowplayer( self.objid, player );
    self._id_D546EFDFA7474C63 enableplayeruse( player );
}

_id_9A375C85268AFAAA( team )
{
    players = scripts\mp\utility\teams::getteamdata( team, "players" );
    _id_7DFA4473A3663C96 = _id_7DFA4473A3663C96( team );
    _id_7FF3973C2AD05964 = _id_AD29F2CDC94AAC3B();

    foreach ( player in players )
    {
        if ( !isdefined( player ) )
            continue;

        if ( !_id_7DFA4473A3663C96 )
        {
            _id_E0949ADDB6054291( player );
            continue;
        }

        dist = distance2d( self._id_D546EFDFA7474C63.origin, player.origin );

        if ( dist <= _id_7FF3973C2AD05964 )
            _id_09610EEE898AC5A6( player );
        else
            _id_E0949ADDB6054291( player );
    }
}

_id_631C07DEA1296288( team )
{
    foreach ( _id_496AAA68C40AEB44 in level._id_DBBD13CC9AD757C1._id_807FFB67240349F5 )
    {
        if ( !isdefined( _id_496AAA68C40AEB44 ) )
            continue;

        _id_496AAA68C40AEB44 _id_9A375C85268AFAAA( team );
    }
}

_id_9E43384919425E9C()
{
    level endon( "game_ended" );
    self._id_15AB90A8DE6865AA endon( "disconnect" );

    for ( _id_0759F78D220FA412 = 0; !_id_0759F78D220FA412; _id_0759F78D220FA412 = _id_FEC9399C00988060( player ) )
        self._id_D546EFDFA7474C63 waittill( "trigger", player );
}

_id_FEC9399C00988060( _id_784C8ADA1184FF89 )
{
    _id_3B96D5666000C2E0 = self._id_15AB90A8DE6865AA;

    if ( _id_7EEA956B4D052875( _id_3B96D5666000C2E0, _id_784C8ADA1184FF89 ) )
    {
        _id_3B96D5666000C2E0 playerrespawn();
        _id_784C8ADA1184FF89 thread scripts\mp\utility\points::givexpwithtext( "stat_6990F2812894108B" );
        thread _id_B5341D976F6C944D();
        _id_3B96D5666000C2E0 _id_5CCCB32072A43854( 0 );
        return 1;
    }

    return 0;
}

_id_7EEA956B4D052875( _id_3B96D5666000C2E0, _id_784C8ADA1184FF89 )
{
    if ( !scripts\cp_mp\utility\script_utility::issharedfuncdefined( "teamAssim", "canAssimilate" ) || !scripts\cp_mp\utility\script_utility::issharedfuncdefined( "teamAssim", "assimilatePlayer" ) )
        return 0;

    if ( [[ scripts\cp_mp\utility\script_utility::getsharedfunc( "teamAssim", "canAssimilate" ) ]]( _id_3B96D5666000C2E0, _id_784C8ADA1184FF89, _id_784C8ADA1184FF89, 0 ) )
    {
        [[ scripts\cp_mp\utility\script_utility::getsharedfunc( "teamAssim", "assimilatePlayer" ) ]]( _id_3B96D5666000C2E0, _id_784C8ADA1184FF89, 1 );
        return 1;
    }
    else
        return 0;
}

playerrespawn()
{
    level endon( "game_ended" );
    self endon( "disconnect" );

    if ( istrue( level.gameended ) )
        return;

    _id_123A6F38785CDF2D::playerfakespectate( 0 );
    self.isrespawn = 1;
    scripts\mp\utility\lower_message::setlowermessageomnvar( "clear_lower_msg" );
    scripts\mp\playerlogic::spawnplayer( undefined, 0 );
    scripts\cp_mp\execution::_clearexecution();
    _id_7E52B56769FA7774::initplayer();
    _id_0A34750D17473C49::unmarkplayeraseliminated( self );
    level thread scripts\mp\battlechatter_mp::trysaylocalsound( self, "stat_B092E3259EC308D8" );
    scripts\cp_mp\utility\omnvar_utility::setcachedclientomnvar( "ui_br_transition_type", 0 );
    thread _id_4480C6CE37B2BDF3::_id_707D956BDBD4B134();
}

_id_9B68823114A3405F()
{
    _id_7D2E1A4944F8B507 = _id_AD29F2CDC94AAC3B();
    triggerheight = 6000;
    heightoffset = ( 0, 0, 2000 );
    triggerradius = spawn( "trigger_radius", self._id_D546EFDFA7474C63.origin - heightoffset, 0, _id_7D2E1A4944F8B507, 6000 );
    triggerradius._id_496AAA68C40AEB44 = self;
    self.trigger = triggerradius;
    scripts\mp\utility\trigger::makeenterexittrigger( triggerradius, ::_id_B786B6748090B866, ::_id_1361F5D497E474D0, undefined, undefined, ::_id_76E95D35A6CDBE41 );
}

_id_B786B6748090B866( player, trigger )
{
    _id_496AAA68C40AEB44 = trigger._id_496AAA68C40AEB44;

    if ( !isalive( player ) || !_id_F4468DD443922B9E( _id_496AAA68C40AEB44._id_15AB90A8DE6865AA, player, 1 ) )
        return;

    _id_496AAA68C40AEB44 _id_09610EEE898AC5A6( player );
}

_id_1361F5D497E474D0( player, trigger )
{
    _id_496AAA68C40AEB44 = trigger._id_496AAA68C40AEB44;
    _id_496AAA68C40AEB44 _id_E0949ADDB6054291( player );
}

_id_76E95D35A6CDBE41( _id_102FF186309F63B8, trigger )
{
    return !isplayer( _id_102FF186309F63B8 ) || !isdefined( trigger );
}

_id_B5341D976F6C944D()
{
    if ( isdefined( self.trigger ) )
        self.trigger delete();

    if ( isdefined( self.objid ) )
        scripts\mp\objidpoolmanager::returnobjectiveid( self.objid );

    if ( isdefined( self._id_D546EFDFA7474C63 ) )
        self._id_D546EFDFA7474C63 delete();

    level._id_DBBD13CC9AD757C1._id_807FFB67240349F5[self.index] = undefined;
}

_id_C9E6FCD7831F36AF( origin )
{
    _id_7FF3973C2AD05964 = _id_AD29F2CDC94AAC3B();
    _id_E965BCE0774276B4 = scripts\mp\utility\player::getplayersinradius( origin, _id_7FF3973C2AD05964 );

    foreach ( player in _id_E965BCE0774276B4 )
    {
        if ( !isdefined( player ) )
            continue;

        if ( _id_F4468DD443922B9E( self._id_15AB90A8DE6865AA, player, 1 ) )
            _id_B7102C003905C9B1( "dmz_plea_for_help_requested", [ player ] );
    }
}

onplayerdisconnect( player )
{
    _id_631C07DEA1296288( player.team );
}

_id_6BDC6F56944DC3AA( player, _id_8A04AA0E0755E7E3, _id_EB06B338608EF354 )
{
    _id_631C07DEA1296288( _id_8A04AA0E0755E7E3 );
    _id_631C07DEA1296288( _id_EB06B338608EF354 );
}

_id_5CCCB32072A43854( _id_6D38DF6EA2EB7767 )
{
    self setclientomnvar( "ui_plea_for_help_status", _id_6D38DF6EA2EB7767 );
    self._id_36C1DC28EDF11BED = _id_6D38DF6EA2EB7767;
}

_id_B7102C003905C9B1( splashname, _id_9052970FF4BCE526 )
{
    if ( scripts\cp_mp\utility\script_utility::issharedfuncdefined( "hud", "showDMZSplash" ) )
        [[ scripts\cp_mp\utility\script_utility::getsharedfunc( "hud", "showDMZSplash" ) ]]( splashname, _id_9052970FF4BCE526 );
}

_id_F4468DD443922B9E( _id_3B96D5666000C2E0, _id_784C8ADA1184FF89, _id_4ADE2291346E1240 )
{
    if ( !scripts\cp_mp\utility\script_utility::issharedfuncdefined( "teamAssim", "canAssimilate" ) )
        return 0;

    return [[ scripts\cp_mp\utility\script_utility::getsharedfunc( "teamAssim", "canAssimilate" ) ]]( _id_3B96D5666000C2E0, _id_784C8ADA1184FF89, _id_784C8ADA1184FF89, _id_4ADE2291346E1240 );
}

_id_7DFA4473A3663C96( team )
{
    if ( !scripts\cp_mp\utility\script_utility::issharedfuncdefined( "teamAssim", "canTeamAssimilate" ) )
        return 0;

    return [[ scripts\cp_mp\utility\script_utility::getsharedfunc( "teamAssim", "canTeamAssimilate" ) ]]( team );
}

_id_E2AED369E0BAC150()
{
    if ( !scripts\cp_mp\utility\script_utility::issharedfuncdefined( "teamAssim", "shouldAutoAcceptTeamSwitch" ) )
        return 0;

    return [[ scripts\cp_mp\utility\script_utility::getsharedfunc( "teamAssim", "shouldAutoAcceptTeamSwitch" ) ]]();
}
