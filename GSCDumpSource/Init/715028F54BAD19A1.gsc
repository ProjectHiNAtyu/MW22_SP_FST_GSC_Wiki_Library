// IW9 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

branalytics_init()
{
    if ( isdefined( level.matchdata_br_onmatchstart ) )
        return;

    if ( !1 && !1 )
        return;

    if ( !branalytics_validation() )
        return;

    scripts\cp_mp\utility\script_utility::registersharedfunc( "analytics", "agent_alloc", ::_id_8E6652060309B9DB );
    scripts\cp_mp\utility\script_utility::registersharedfunc( "analytics", "agent_spawn", ::_id_252E45FC60E2A731 );
    scripts\cp_mp\utility\script_utility::registersharedfunc( "analytics", "agent_killed", ::_id_0E3AEF4FCB303CFF );
    level.matchdata_br_onmatchstart = ::onmatchstartbr;
    level.delayedeventtypes = [];
    level._id_47BE1D1BB3B425A6 = getdvarint( "dvar_6169803D232444FF", 0 );

    if ( 1 )
    {
        level._id_47BE1D1BB3B425A6 = 1;
        analyticsreset();
    }

    level thread _id_C523B31DD9DC82D0();
    level thread _id_D5DB49ED7A7D77C5();
    level thread _id_A16656B5F9493D2C();
    level thread _id_7635473A21A12DC3();
}

_id_D54188D94E97379C( info, _id_80ED4D4A2AAF5D44 )
{
    if ( isdedicatedserver() )
        setdvar( "dvar_BD87B6EF2DA571DB", info );

    if ( istrue( _id_80ED4D4A2AAF5D44 ) )
        logstring( "[KEY_MOMENT] " + info );
}

_id_A16656B5F9493D2C()
{
    level endon( "game_ended" );
    _id_D54188D94E97379C( "prematch_waiting" );
    level waittill( "match_start_timer_beginning" );
    wait 1;
    _id_D54188D94E97379C( "prematch_countdown begin", 1 );

    while ( isdefined( level.matchcountdowntime ) )
    {
        _id_D54188D94E97379C( "prematch_countdown " + level.matchcountdowntime );
        wait 1;
    }

    _id_D54188D94E97379C( "prematch_cinematic begin", 1 );
    wait 2;

    while ( istrue( level.infilcinematicactive ) )
        wait 1;

    _id_D54188D94E97379C( "prematch_cinematic end", 1 );
    wait 1;

    for (;;)
    {
        circleindex = 0;
        aliveplayers = 0;
        _id_348A980D5B1B2325 = 0;

        foreach ( team in level.teamnamelist )
        {
            _id_A6AB8D0FDA441DC2 = scripts\mp\utility\teams::getteamdata( team, "aliveCount" );

            if ( _id_A6AB8D0FDA441DC2 > 0 )
            {
                aliveplayers = aliveplayers + _id_A6AB8D0FDA441DC2;
                _id_348A980D5B1B2325 = _id_348A980D5B1B2325 + 1;
            }
        }

        if ( isdefined( level.br_circle ) && isdefined( level.br_circle.circleindex ) )
            circleindex = level.br_circle.circleindex;

        info = "circle=" + circleindex + " alive=" + aliveplayers + " squads=" + _id_348A980D5B1B2325;
        _id_D54188D94E97379C( info );
        wait 10;
    }
}

_id_BD6274FAD1216B30()
{
    level endon( "game_cleanup" );
    level waittill( "br_ending_start" );
    _id_D54188D94E97379C( "game_ended, watching exfil", 1 );
}

_id_7635473A21A12DC3()
{
    level thread _id_BD6274FAD1216B30();
    level waittill( "game_ended" );
    _id_D54188D94E97379C( "game_ended, watching final kill", 1 );
    wait 1.5;
    _id_D54188D94E97379C( "game_ended, watching splash", 1 );

    if ( isdefined( level.br_ending_delay ) )
        wait( level.br_ending_delay );

    level waittill( "round_end_finished" );
    _id_D54188D94E97379C( "game_ended, round_end_finished", 1 );
    level waittill( "game_cleanup" );
    _id_D54188D94E97379C( "game_ended, game_cleanup", 1 );
}

_id_D5DB49ED7A7D77C5()
{
    level endon( "game_ended" );

    if ( !isdedicatedserver() )
        return;

    level waittill( "prematch_done" );
    wait 150;
    _func_AA2A76E5B30B25DA( "br_peak", 30 );
    wait 31;
    maxplayers = getdvarint( "dvar_818C699A5CAAEE4F", 0 );
    _id_D12A341B40354143 = scripts\engine\utility::getintorzero( level.players.size );

    if ( _id_D12A341B40354143 > maxplayers - 20 || getdvarint( "dvar_CD9D15D61F6E2380", 0 ) > 0 )
    {
        _func_EFAAB797904D13E8( "br_peak", 1 );
        wait 2;
    }

    if ( getdvarint( "dvar_C7430C22EC75095D", 0 ) > 0 )
    {
        logstring( "br_endMatchAfterCapture" );
        thread _id_1E4A61DB11011446::brendgame( level.brgametype.firstteam, game["end_reason"]["objective_completed"] );
    }
}

_id_C523B31DD9DC82D0()
{
    level endon( "game_ended" );
    level._id_D984DA21AF3906B9 = 0;
    level waittill( "prematch_done" );
    level._id_D984DA21AF3906B9 = 1;
    humans = 0;
    bots = 0;
    _id_8C23DE1E5DAAC192 = 0;

    foreach ( player in level.players )
    {
        if ( !isdefined( player ) )
            continue;

        if ( isbot( player ) || istestclient( player ) )
        {
            bots = bots + 1;
            continue;
        }

        if ( player isplayerheadless() )
        {
            _id_8C23DE1E5DAAC192 = _id_8C23DE1E5DAAC192 + 1;
            continue;
        }

        humans = humans + 1;
    }

    logstring( "[KEY_MOMENT] Prematch Done" );
    logstring( "=============================================" );
    logstring( "bots       = " + bots );
    logstring( "headless   = " + _id_8C23DE1E5DAAC192 );
    logstring( "humans     = " + humans );
    logstring( "=============================================" );
    _id_4DF1E1A017254690 = _branalytics_geteventtimestamp();
    _id_BB96ECD805545B2E( "prematch_done", ( 0, 0, 0 ), 0, int( _id_4DF1E1A017254690 ), "", 0 );
    _id_DFEE9DAD130C9312 = -3;

    if ( isdefined( level.br_level ) && isdefined( level.br_level.br_circlecenters ) )
    {
        time = _id_4DF1E1A017254690;
        _id_209967C144016964 = level.br_level.br_circlecenters.size;

        for ( circleindex = 0; circleindex < _id_209967C144016964 - 1; circleindex++ )
        {
            origin = level.br_level.br_circlecenters[circleindex];
            radius = level.br_level.br_circleradii[circleindex];
            _id_3702CBA57F844507 = level.br_level.br_circledelaytimes[circleindex] * 1000;
            _id_3D8565E2775A243C = level.br_level.br_circleclosetimes[circleindex] * 1000;

            if ( isdefined( _id_3702CBA57F844507 ) && isdefined( _id_3D8565E2775A243C ) )
            {
                _id_BB96ECD805545B2E( "circle", origin, int( radius ), int( time ), "start", _id_DFEE9DAD130C9312 );
                time = time + _id_3702CBA57F844507;
                _id_BB96ECD805545B2E( "circle", origin, int( radius ), int( time ), "close", _id_DFEE9DAD130C9312 );
                time = time + _id_3D8565E2775A243C;
            }
        }
    }
}

_branalytics_addeventallowed()
{
    if ( !branalytics_validation() )
        return 0;

    return isdefined( level.delayedeventtypes );
}

_branalytics_geteventtimestamp()
{
    time = gettime();
    return time;
}

_id_BB96ECD805545B2E( type, origin, state, time, data, entnum )
{
    if ( !istrue( level._id_D984DA21AF3906B9 ) )
        return;

    if ( !isdefined( data ) || !isstring( data ) )
        data = "";

    if ( 1 )
        analyticsaddevent( origin, type, state, time, data, entnum );

    if ( 1 && type != "breadcrumb" )
        logstring( "[GAE]," + time + "," + entnum + "," + origin[0] + "," + origin[1] + "," + type + "," + state + "," + data );
}

_branalytics_addevent( type, origin, state, data, ent )
{
    if ( !isdefined( origin ) )
        origin = ( 0, 0, 0 );

    if ( !isdefined( state ) )
        state = 0;

    if ( !isdefined( data ) )
        data = "";

    entnum = -1;

    if ( isdefined( ent ) )
        entnum = ent getentitynumber();

    time = _branalytics_geteventtimestamp();
    _id_BB96ECD805545B2E( type, origin, state, time, data, entnum );

    if ( isdefined( ent ) )
        ent _id_F183D915239368B7( time );
}

_id_A48BE354E2F41DB9( type, ent )
{
    if ( !isdefined( ent ) )
        return;

    _branalytics_addevent( type, ent.origin, 0, "", ent );
}

_id_EEFAA754FC189980( type, ent, state, data )
{
    if ( !isdefined( ent ) )
        return;

    _branalytics_addevent( type, ent.origin, state, data, ent );
}

_getdeathstatecode( deathtype )
{
    if ( !isdefined( deathtype ) )
        return -1;

    switch ( deathtype )
    {
        case "deathType_switchingTeams":
            data = 6;
            break;
        case "deathType_worldDeath":
            data = 3;
            break;
        case "deathType_suicide":
            data = 5;
            break;
        case "deathType_friendlyFire":
            data = 4;
            break;
        case "deathType_inLastStand":
            data = 2;
            break;
        case "deathType_normal":
            data = 1;
            break;
        case "downed":
            data = 0;
            break;
        default:
            data = -1;
            break;
    }

    return data;
}

_branalytics_addeventdelayed( type, origin, ent, data )
{
    if ( !isdefined( data ) )
        data = "";

    if ( !isdefined( level.delayedeventtypes[type] ) )
        level.delayedeventtypes[type] = [];

    _id_C30ADB03CA046EDE = spawnstruct();
    _id_C30ADB03CA046EDE.type = type;
    _id_C30ADB03CA046EDE.origin = origin;
    _id_C30ADB03CA046EDE.ent = ent;
    _id_C30ADB03CA046EDE.data = data;
    _id_C30ADB03CA046EDE.state = 0;
    _id_C30ADB03CA046EDE.time = _branalytics_geteventtimestamp();
    _id_FCF163E2DB91EBA2 = level.delayedeventtypes[type].size;
    level.delayedeventtypes[type][_id_FCF163E2DB91EBA2] = _id_C30ADB03CA046EDE;
}

branalytics_seteventdelayedstate( type, ent, state )
{
    if ( !isdefined( type ) || !isdefined( ent ) || !isdefined( level.delayedeventtypes ) || !isdefined( level.delayedeventtypes[type] ) )
        return;

    foreach ( _id_C30ADB03CA046EDE in level.delayedeventtypes[type] )
    {
        if ( _id_C30ADB03CA046EDE.ent == ent )
        {
            _id_C30ADB03CA046EDE.time = _branalytics_geteventtimestamp();
            _id_C30ADB03CA046EDE.state = state;
            return;
        }
    }
}

branalytics_validation()
{
    if ( !scripts\cp_mp\utility\game_utility::_id_0BEFF479639E6508() )
        return 0;

    return 1;
}

branalytics_equipmentuse( player, objweapon )
{
    if ( !branalytics_validation() )
        return;

    _id_F4692D0892428480 = objweapon.basename;
    _id_EC6A81EAC0E4DC61 = _branalytics_header( player );
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "item_name";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = _id_F4692D0892428480;
    player dlog_recordplayerevent( "dlog_event_br_equipment_use", _id_EC6A81EAC0E4DC61 );

    if ( _branalytics_addeventallowed() )
        _branalytics_addevent( "equipment_use", player.origin, 0, _id_F4692D0892428480, player );
}

branalytics_down( attacker, victim, objweapon, deathtype, meansofdeath )
{
    if ( !branalytics_validation() )
        return;

    if ( isdefined( attacker.classname ) && attacker.classname == "agent" )
    {
        if ( _branalytics_addeventallowed() )
        {
            id = attacker getentitynumber();
            _id_EEFAA754FC189980( "down_by_agent", victim, id, deathtype );
        }

        return;
    }

    if ( attacker.classname != "worldspawn" && attacker.classname != "script_vehicle" && attacker.classname != "script_model" && attacker.classname != "misc_turret" && attacker.classname != "misc_samsite" && attacker.classname != "trigger_hurt" && attacker.classname != "trigger_multiple" && attacker.classname != "script_origin" && !isplayer( attacker ) )
    {
        message = "attacker.classname: " + attacker.classname;
        scripts\mp\utility\script::demoforcesre( message );
    }

    if ( attacker.classname == "worldspawn" || attacker.classname == "script_vehicle" || attacker.classname == "script_model" || attacker.classname == "misc_turret" || attacker.classname == "misc_samsite" || attacker.classname == "trigger_hurt" || attacker.classname == "trigger_multiple" || attacker.classname == "script_origin" )
    {
        _id_9C46FC77656F0E4B = "world";
        attacker = victim;
    }
    else if ( isdefined( objweapon ) )
        _id_9C46FC77656F0E4B = objweapon.basename;
    else
    {
        _id_2A8DBAD5E36EBD27 = attacker getcurrentweapon();
        _id_9C46FC77656F0E4B = _id_2A8DBAD5E36EBD27.basename;
    }

    _id_8367DC8C497F4C02 = scripts\engine\utility::ter_op( scripts\mp\utility\player::isinlaststand( victim ) && isdefined( victim.laststandoldweaponobj ), victim.laststandoldweaponobj, victim.lastweaponused );
    _id_595B87D05E4A06C4 = "";

    if ( isdefined( _id_8367DC8C497F4C02 ) )
        _id_595B87D05E4A06C4 = _id_8367DC8C497F4C02.basename;

    _id_EC6A81EAC0E4DC61 = [];
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "victim";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = victim;
    _id_3577D51E5FD643A0 = _branalytics_header( attacker, "attacker" );

    foreach ( item in _id_3577D51E5FD643A0 )
        _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = item;

    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "attacker_weapon";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = _id_9C46FC77656F0E4B;
    _id_2D618A34E27D5476 = attacker getclientomnvar( "ui_br_objective_index" );

    if ( !isdefined( _id_2D618A34E27D5476 ) )
        _id_1070D193895B35B4 = "none";
    else
        _id_1070D193895B35B4 = tablelookup( "mp/brmissions.csv", 0, _id_2D618A34E27D5476, 1 );

    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "attacker_active_mission";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = _id_1070D193895B35B4;
    _id_0E3056D0A98B080F = _branalytics_headerplayer( [], victim, "victim" );

    foreach ( item in _id_0E3056D0A98B080F )
        _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = item;

    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "victim_weapon";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = _id_595B87D05E4A06C4;
    _id_2D618A34E27D5476 = victim getclientomnvar( "ui_br_objective_index" );

    if ( !isdefined( _id_2D618A34E27D5476 ) )
        _id_1070D193895B35B4 = "NONE";
    else
        _id_1070D193895B35B4 = tablelookup( "mp/brmissions.csv", 0, _id_2D618A34E27D5476, 1 );

    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "victim_active_mission";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = _id_1070D193895B35B4;
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "death_type";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = deathtype;
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "means_of_death";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = meansofdeath;
    _id_6D5ED003AF1F9612 = scripts\mp\utility\teams::getfriendlyplayers( victim.team, 1 );
    _id_C1DA30005A22582B = 2147483647;

    foreach ( _id_F0EA4030349A33D5 in _id_6D5ED003AF1F9612 )
    {
        if ( _id_F0EA4030349A33D5 == victim )
            continue;

        dist = distance( victim.origin, _id_F0EA4030349A33D5.origin );

        if ( dist < _id_C1DA30005A22582B || _id_C1DA30005A22582B == 2147483647 )
            _id_C1DA30005A22582B = dist;
    }

    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "closest_victim_teammate_distance";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = int( _id_C1DA30005A22582B );
    _id_CBC3FCC6B1097835 = 0;

    if ( isdefined( victim.pers["summary"]["xp"] ) )
    {
        _id_1822F368857BC036 = victim.pers["summary"]["xp"];
        _id_CBC3FCC6B1097835 = _id_1822F368857BC036 - victim.pers["telemetry"].life._id_2148FB703835EC1F;
    }

    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "xp_earned";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = _id_CBC3FCC6B1097835;
    attacker dlog_recordplayerevent( "dlog_event_br_down", _id_EC6A81EAC0E4DC61 );

    if ( _branalytics_addeventallowed() )
        _id_EEFAA754FC189980( "down", victim, _getdeathstatecode( deathtype ), _id_9C46FC77656F0E4B );
}

branalytics_revive( reviver, _id_22F7E3F7E360775B )
{
    if ( !branalytics_validation() )
        return;

    _id_EC6A81EAC0E4DC61 = [];
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "revivee";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = _id_22F7E3F7E360775B;
    _id_852DBFE03D3EE1B8 = _branalytics_header( reviver, "reviver" );

    foreach ( item in _id_852DBFE03D3EE1B8 )
        _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = item;

    _id_090F4FD6FFAA5C31 = _branalytics_headerplayer( [], _id_22F7E3F7E360775B, "revivee" );

    foreach ( item in _id_090F4FD6FFAA5C31 )
        _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = item;

    reviver dlog_recordplayerevent( "dlog_event_br_revive", _id_EC6A81EAC0E4DC61 );

    if ( _branalytics_addeventallowed() )
        _id_A48BE354E2F41DB9( "revive", _id_22F7E3F7E360775B );
}

branalytics_selfrevive( _id_22F7E3F7E360775B )
{
    if ( !branalytics_validation() )
        return;

    _id_EC6A81EAC0E4DC61 = _branalytics_header( _id_22F7E3F7E360775B, "revivee" );
    _id_22F7E3F7E360775B dlog_recordplayerevent( "dlog_event_br_selfrevive", _id_EC6A81EAC0E4DC61 );

    if ( _branalytics_addeventallowed() )
        _id_A48BE354E2F41DB9( "selfRevive", _id_22F7E3F7E360775B );
}

branalytics_secondwind( _id_22F7E3F7E360775B, laststandattacker, victim, meansofdeath, weaponname, laststandmeansofdeath, _id_A47D4C036F14FC38, _id_1450075A920A7DD5, _id_C9D5089E35E3FF9E, _id_E6EF59BD6DC2938A, _id_6B0DF23A41285117 )
{
    if ( !branalytics_validation() )
        return;

    _id_EC6A81EAC0E4DC61 = [];
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "lastStandAttacker";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = laststandattacker;
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "victim";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = victim;
    _id_090F4FD6FFAA5C31 = _branalytics_header( _id_22F7E3F7E360775B, "revivee" );

    foreach ( item in _id_090F4FD6FFAA5C31 )
        _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = item;

    _id_83EBB50FF7B5CF0E = _branalytics_headerplayer( [], laststandattacker, "laststandattacker" );

    foreach ( item in _id_83EBB50FF7B5CF0E )
        _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = item;

    _id_0E3056D0A98B080F = _branalytics_headerplayer( [], victim, "victim" );

    foreach ( item in _id_0E3056D0A98B080F )
        _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = item;

    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "only_cleanup";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = _id_1450075A920A7DD5;
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "only_downed";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = _id_C9D5089E35E3FF9E;
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "bled_out";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = _id_E6EF59BD6DC2938A;
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "downed_seconds";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = _id_6B0DF23A41285117;

    if ( !isdefined( meansofdeath ) )
        meansofdeath = "";

    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "means_of_death";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = meansofdeath;

    if ( !isdefined( weaponname ) )
        weaponname = "";

    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "weapon_name";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = weaponname;

    if ( !isdefined( laststandmeansofdeath ) )
        laststandmeansofdeath = "";

    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "laststand_means_of_death";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = laststandmeansofdeath;

    if ( !isdefined( _id_A47D4C036F14FC38 ) )
        _id_A47D4C036F14FC38 = "";

    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "laststand_weapon_name";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = _id_A47D4C036F14FC38;
    _id_22F7E3F7E360775B dlog_recordplayerevent( "dlog_event_br_secondwind", _id_EC6A81EAC0E4DC61 );

    if ( _branalytics_addeventallowed() )
        _id_A48BE354E2F41DB9( "secondWind", _id_22F7E3F7E360775B.origin );
}

branalytics_deployallowed()
{
    if ( !branalytics_validation() )
        return;

    dlog_recordevent( "dlog_event_br_deploy_allowed", [] );
}

branalytics_deploytriggered( player )
{
    if ( !branalytics_validation() )
        return;

    _id_EC6A81EAC0E4DC61 = _branalytics_header( player );
    player dlog_recordplayerevent( "dlog_event_br_deploy_triggered", _id_EC6A81EAC0E4DC61 );
}

branalytics_landing( player )
{
    if ( !branalytics_validation() )
        return;

    _id_EC6A81EAC0E4DC61 = _branalytics_header( player );
    player dlog_recordplayerevent( "dlog_event_br_deploy_land", _id_EC6A81EAC0E4DC61 );

    if ( _branalytics_addeventallowed() )
        _id_A48BE354E2F41DB9( "land", player );
}

branalytics_playercount( _id_D12A341B40354143 )
{
    if ( !branalytics_validation() )
        return;

    if ( _branalytics_addeventallowed() )
        _branalytics_addevent( "playerCount", ( 0, 0, 0 ), 0, _id_D12A341B40354143 );
}

branalytics_lootpickup( player, scriptablename, amount )
{
    if ( !branalytics_validation() )
        return;

    _id_EC6A81EAC0E4DC61 = _branalytics_header( player );
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "item_name";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = scriptablename;
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "amount";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = amount;
    player dlog_recordplayerevent( "dlog_event_br_loot_pickup", _id_EC6A81EAC0E4DC61 );

    if ( _branalytics_addeventallowed() )
        _id_EEFAA754FC189980( "loot_pickup", player, amount, scriptablename );
}

branalytics_lootdrop( player, itemtype, _id_E637EE4FAED5D14D, amount )
{
    if ( !branalytics_validation() )
        return;

    _id_E637EE4FAED5D14D = istrue( _id_E637EE4FAED5D14D );
    _id_EC6A81EAC0E4DC61 = _branalytics_header( player );
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "item_name";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = itemtype;
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "is_drop_from_weapon_switch";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = _id_E637EE4FAED5D14D;
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "amount";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = amount;
    player dlog_recordplayerevent( "dlog_event_br_loot_drop", _id_EC6A81EAC0E4DC61 );

    if ( _branalytics_addeventallowed() )
        _id_EEFAA754FC189980( "loot_drop", player, amount, itemtype );
}

branalytics_gulagstart( player, type )
{
    if ( !branalytics_validation() )
        return;

    _id_EC6A81EAC0E4DC61 = _branalytics_header( player );
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "type";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = type;
    player dlog_recordplayerevent( "dlog_event_br_gulag_start", _id_EC6A81EAC0E4DC61 );
}

branalytics_gulagend( player, type )
{
    if ( !branalytics_validation() )
        return;

    _id_EC6A81EAC0E4DC61 = _branalytics_header( player );
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "type";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = type;
    player dlog_recordplayerevent( "dlog_event_br_gulag_end", _id_EC6A81EAC0E4DC61 );

    if ( _branalytics_addeventallowed() )
        _id_EEFAA754FC189980( "gulag_end", player, 0, type );
}

branalytics_respawn( player, _id_99D9696812DF6304 )
{
    if ( !branalytics_validation() )
        return;

    if ( _branalytics_addeventallowed() )
        _id_EEFAA754FC189980( "respawn", player, _id_99D9696812DF6304, "" );
}

branalytics_disconnect( player, _id_8D4194F42FEFE406 )
{
    if ( !branalytics_validation() )
        return;

    if ( _branalytics_addeventallowed() )
        _id_EEFAA754FC189980( "disconnect", player, _id_8D4194F42FEFE406, "" );
}

branalytics_dropbagdeployed( player, _id_7BC6BE581F50B614, _id_ADD790A95B329400, crate )
{
    if ( !branalytics_validation() )
        return;

    _id_EC6A81EAC0E4DC61 = _branalytics_header( player );
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "drop_x";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = _id_7BC6BE581F50B614[0];
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "drop_y";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = _id_7BC6BE581F50B614[1];
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "drop_z";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = _id_7BC6BE581F50B614[2];
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "spawn_type";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = _id_ADD790A95B329400;
    player dlog_recordplayerevent( "dlog_event_br_dropbag_deployed", _id_EC6A81EAC0E4DC61 );

    if ( _branalytics_addeventallowed() )
        _branalytics_addeventdelayed( "dropkit", _id_7BC6BE581F50B614, crate, 0 );
}

branalytics_dropbagused( player, _id_7BC6BE581F50B614, crate )
{
    if ( !branalytics_validation() )
        return;

    _id_EC6A81EAC0E4DC61 = _branalytics_header( player );
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "drop_x";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = _id_7BC6BE581F50B614[0];
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "drop_y";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = _id_7BC6BE581F50B614[1];
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "drop_z";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = _id_7BC6BE581F50B614[2];
    player dlog_recordplayerevent( "dlog_event_br_dropbag_used", _id_EC6A81EAC0E4DC61 );

    if ( _branalytics_addeventallowed() )
        branalytics_seteventdelayedstate( "dropkit", crate, 1 );
}

branalytics_dropbagdestroyed( team, _id_7BC6BE581F50B614 )
{
    if ( !branalytics_validation() )
        return;

    if ( !isdefined( team ) )
        team = "none";

    _id_EC6A81EAC0E4DC61 = [];
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "drop_team";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = team;
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "drop_x";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = _id_7BC6BE581F50B614[0];
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "drop_y";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = _id_7BC6BE581F50B614[1];
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "drop_z";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = _id_7BC6BE581F50B614[2];
    dlog_recordevent( "dlog_event_br_dropbag_destroyed", _id_EC6A81EAC0E4DC61 );
}

branalytics_circleenter( player, time )
{
    if ( !branalytics_validation() )
        return;

    _id_EC6A81EAC0E4DC61 = _branalytics_header( player );
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "time_spent_outside";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = time;
    player dlog_recordplayerevent( "dlog_event_br_circle_enter", _id_EC6A81EAC0E4DC61 );
}

branalytics_circleexit( player, time )
{
    if ( !branalytics_validation() )
        return;

    _id_EC6A81EAC0E4DC61 = _branalytics_header( player );
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "time_spent_inside";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = time;
    player dlog_recordplayerevent( "dlog_event_br_circle_exit", _id_EC6A81EAC0E4DC61 );
}

_id_14099F0F07C09E69( time )
{
    if ( !branalytics_validation() )
        return;

    _id_EC6A81EAC0E4DC61 = [];
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "time_circle_start_split";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = time;
    dlog_recordevent( "dlog_event_br_multi_circle_start_split", _id_EC6A81EAC0E4DC61 );
}

_id_C3CA7338446F4FCE( time )
{
    if ( !branalytics_validation() )
        return;

    _id_EC6A81EAC0E4DC61 = [];
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "time_circle_end_split";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = time;
    dlog_recordevent( "dlog_event_br_multi_circle_end_split", _id_EC6A81EAC0E4DC61 );
}

_id_77C1C837C38EFA21( time )
{
    if ( !branalytics_validation() )
        return;

    _id_EC6A81EAC0E4DC61 = [];
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "time_circle_start_merge";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = time;
    dlog_recordevent( "dlog_event_br_multi_circle_start_merge", _id_EC6A81EAC0E4DC61 );
}

_id_4EB4428FE15D7276( time )
{
    if ( !branalytics_validation() )
        return;

    _id_EC6A81EAC0E4DC61 = [];
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "time_circle_end_merge";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = time;
    dlog_recordevent( "dlog_event_br_multi_circle_end_merge", _id_EC6A81EAC0E4DC61 );
}

branalytics_planepath( centerpt, yaw, startpt, endpt )
{
    if ( !branalytics_validation() )
        return;

    level waittill( "prematch_done" );
    dlog_recordevent( "dlog_event_br_plane_path", [ "center_x", centerpt[0], "center_y", centerpt[1], "center_z", centerpt[2], "yaw", yaw, "start_x", startpt[0], "start_y", startpt[1], "start_z", startpt[2], "end_x", endpt[0], "end_y", endpt[1], "end_z", endpt[2] ] );

    if ( _branalytics_addeventallowed() )
    {
        _id_DE802962B74D1A6C = -2;
        _id_4DF1E1A017254690 = _branalytics_geteventtimestamp();
        _id_B1EF50B243AD7D22 = _id_4DF1E1A017254690 + 35000;
        _id_432421C6EC2BFCD9 = distance( startpt, endpt );
        _id_20F3BD3EA911BD9D = _id_432421C6EC2BFCD9 / _id_45B2B4A889E633FA::getc130speed() * 1000;
        _id_FC296699DFB028F8 = _id_B1EF50B243AD7D22;
        _id_1ABCF37063053D49 = _id_FC296699DFB028F8 + _id_20F3BD3EA911BD9D;
        _id_BB96ECD805545B2E( "plane", startpt, 0, int( _id_FC296699DFB028F8 ), "", _id_DE802962B74D1A6C );
        _id_BB96ECD805545B2E( "plane", endpt, 0, int( _id_1ABCF37063053D49 ), "", _id_DE802962B74D1A6C );
    }
}

branalytics_economy_snapshot( activeplayers )
{
    if ( !branalytics_validation() )
        return;

    _id_AAA3A2B391A4D25B = [];
    _id_A059CAB9DFE3D005 = 0;
    _id_618FB04D3FECDEBA = 0;
    _id_61B2BA4D40133C70 = 5000;
    _id_E7A8920E2E79427E = 0;
    _id_E7CC840E2EA19E6C = 5000;

    foreach ( player in activeplayers )
    {
        if ( !isdefined( _id_AAA3A2B391A4D25B[player.team] ) )
            _id_AAA3A2B391A4D25B[player.team] = 0;

        if ( isdefined( player.plundercount ) )
        {
            _id_A059CAB9DFE3D005 = _id_A059CAB9DFE3D005 + player.plundercount;
            _id_AAA3A2B391A4D25B[player.team] = _id_AAA3A2B391A4D25B[player.team] + player.plundercount;

            if ( player.plundercount > _id_618FB04D3FECDEBA )
                _id_618FB04D3FECDEBA = player.plundercount;

            if ( player.plundercount < _id_61B2BA4D40133C70 )
                _id_61B2BA4D40133C70 = player.plundercount;
        }

        if ( _id_AAA3A2B391A4D25B[player.team] > _id_E7A8920E2E79427E )
            _id_E7A8920E2E79427E = _id_AAA3A2B391A4D25B[player.team];

        if ( _id_AAA3A2B391A4D25B[player.team] < _id_E7CC840E2EA19E6C )
            _id_E7CC840E2EA19E6C = _id_AAA3A2B391A4D25B[player.team];
    }

    _id_53DCA488A704D8E7 = int( safedivide( _id_A059CAB9DFE3D005, activeplayers.size ) );
    _id_8DA025F6DA65D8D3 = int( safedivide( _id_A059CAB9DFE3D005, _id_AAA3A2B391A4D25B.size ) );
    _id_EC6A81EAC0E4DC61 = [];
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "num_players_alive";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = safechecknum( activeplayers.size );
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "num_teams_alive";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = safechecknum( _id_AAA3A2B391A4D25B.size );
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "total_plunder_held";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = safechecknum( _id_A059CAB9DFE3D005 );
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "top_player_plunder_held";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = safechecknum( _id_618FB04D3FECDEBA );
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "top_team_total_plunder_held";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = safechecknum( _id_E7A8920E2E79427E );
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "avg_player_plunder_held";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = safechecknum( _id_53DCA488A704D8E7 );
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "avg_team_total_plunder_held";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = safechecknum( _id_8DA025F6DA65D8D3 );
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "min_player_plunder_held";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = safechecknum( _id_61B2BA4D40133C70 );
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "min_team_total_plunder_held";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = safechecknum( _id_E7CC840E2EA19E6C );
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "plunder_items_picked_up";

    if ( isdefined( level.br_plunder ) )
        _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = safechecknum( level.br_plunder.plunder_items_picked_up );
    else
        _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = 0;

    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "plunder_value_picked_up";

    if ( isdefined( level.br_plunder ) )
        _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = safechecknum( level.br_plunder.plunder_value_picked_up );
    else
        _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = 0;

    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "plunder_items_dropped";

    if ( isdefined( level.br_plunder ) )
        _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = safechecknum( level.br_plunder.plunder_items_dropped );
    else
        _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = 0;

    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "plunder_value_dropped";

    if ( isdefined( level.br_plunder ) )
        _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = safechecknum( level.br_plunder.plunder_value_dropped );
    else
        _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = 0;

    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "plunder_awarded_by_missions_total";

    if ( isdefined( level.br_plunder ) )
        _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = safechecknum( level.br_plunder.plunder_awarded_by_missions_total );
    else
        _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = 0;

    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "kiosk_spent_total";

    if ( isdefined( level.br_plunder ) )
        _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = safechecknum( level.br_plunder.kiosk_spent_total );
    else
        _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = 0;

    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "kiosk_num_purchases";

    if ( isdefined( level.br_plunder ) )
        _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = safechecknum( level.br_plunder.kiosk_num_purchases );
    else
        _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = 0;

    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "extraction_balloon_total_value";

    if ( isdefined( level.br_plunder ) )
        _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = safechecknum( level.br_plunder.extraction_balloon_total_plunder );
    else
        _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = 0;

    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "extraction_balloon_total_extractions";

    if ( isdefined( level.br_plunder ) )
        _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = safechecknum( level.br_plunder.extraction_balloon_num_completed );
    else
        _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = 0;

    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "extraction_helicoptor_total_value";

    if ( isdefined( level.br_plunder ) )
        _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = safechecknum( level.br_plunder.extraction_helicoptor_total_plunder );
    else
        _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = 0;

    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "extraction_helicoptor_total_extractions";

    if ( isdefined( level.br_plunder ) )
        _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = safechecknum( level.br_plunder.extraction_helicoptor_num_completed );
    else
        _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = 0;

    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "ingame_count_uncommon_1";

    if ( isdefined( level.br_plunder ) )
        _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = safechecknum( level.br_plunder.itemsinworld["brloot_plunder_cash_uncommon_1"] );
    else
        _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = 0;

    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "ingame_count_uncommon_2";

    if ( isdefined( level.br_plunder ) )
        _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = safechecknum( level.br_plunder.itemsinworld["brloot_plunder_cash_uncommon_2"] );
    else
        _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = 0;

    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "ingame_count_uncommon_3";

    if ( isdefined( level.br_plunder ) )
        _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = safechecknum( level.br_plunder.itemsinworld["brloot_plunder_cash_uncommon_3"] );
    else
        _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = 0;

    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "ingame_count_rare_1";

    if ( isdefined( level.br_plunder ) )
        _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = safechecknum( level.br_plunder.itemsinworld["brloot_plunder_cash_rare_1"] );
    else
        _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = 0;

    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "ingame_count_rare_2";

    if ( isdefined( level.br_plunder ) )
        _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = safechecknum( level.br_plunder.itemsinworld["brloot_plunder_cash_rare_2"] );
    else
        _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = 0;

    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "ingame_count_epic_1";

    if ( isdefined( level.br_plunder ) )
        _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = safechecknum( level.br_plunder.itemsinworld["brloot_plunder_cash_epic_1"] );
    else
        _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = 0;

    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "ingame_count_epic_2";

    if ( isdefined( level.br_plunder ) )
        _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = safechecknum( level.br_plunder.itemsinworld["brloot_plunder_cash_epic_2"] );
    else
        _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = 0;

    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "ingame_count_legendary_1";

    if ( isdefined( level.br_plunder ) )
        _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = safechecknum( level.br_plunder.itemsinworld["brloot_plunder_cash_legendary_1"] );
    else
        _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = 0;

    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "count_unopened_chests";

    if ( isdefined( level.br_plunder ) )
        _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = safechecknum( level.br_plunder.itemsinworld["br_loot_cache"] );
    else
        _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = 0;

    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "count_available_missions";

    if ( isdefined( level.br_plunder ) )
        _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = safechecknum( level.br_plunder.itemsinworld["missionTablets"] );
    else
        _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = 0;

    dlog_recordevent( "dlog_event_br_plunder_economy_snapshot", _id_EC6A81EAC0E4DC61 );
}

br_getprimaryandsecondaryweapons( player )
{
    primaryweaponobj = player getcurrentweapon();
    secondaryweaponobj = undefined;

    if ( isdefined( player.primaryweaponobj ) && primaryweaponobj != player.primaryweaponobj )
        secondaryweaponobj = player.primaryweaponobj;
    else if ( isdefined( player.secondaryweaponobj ) && primaryweaponobj != player.secondaryweaponobj )
        secondaryweaponobj = player.secondaryweaponobj;

    return [ safecheckweapon( primaryweaponobj ), safecheckweapon( secondaryweaponobj ) ];
}

branalytics_inventory_snapshot( player, _id_401C3A2E68AAB0FD )
{
    if ( !branalytics_validation() )
        return;

    _id_BD5CCE7508E151A9 = br_getprimaryandsecondaryweapons( player );
    _id_EC6A81EAC0E4DC61 = _branalytics_header( player );
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "reason";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = _id_401C3A2E68AAB0FD;
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "primary_weapon";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = _id_BD5CCE7508E151A9[0];
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "secondary_weapon";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = _id_BD5CCE7508E151A9[1];
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "primary_equipment";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = safecheckstring( player.equipment["primary"] );
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "secondary_equipment";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = safecheckstring( player.equipment["secondary"] );
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "field_equipment";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = safecheckstring( player.equipment["super"] );
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "has_gasmask";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = isdefined( player.gasmaskequipped ) && player.gasmaskequipped == 1;
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "armor_plates";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = safechecknum( player scripts\mp\equipment::getequipmentslotammo( "health" ) );
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "plunder_total";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = safechecknum( player.plundercount );
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "plunder_banked";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = safechecknum( player.plunderbanked );
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "ammo_smg";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = safechecknum( player.br_ammo["brloot_ammo_919"] );
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "ammo_ar_lmg";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = safechecknum( player.br_ammo["brloot_ammo_762"] );
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "ammo_shotgun";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = safechecknum( player.br_ammo["brloot_ammo_12g"] );
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "ammo_sniper";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = safechecknum( player.br_ammo["brloot_ammo_50cal"] );
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "ammo_rockets";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = safechecknum( player.br_ammo["brloot_ammo_rocket"] );
    perks = [];

    for ( index = 0; index < 3; index++ )
    {
        perkname = "specialty_null";

        if ( isdefined( player.classstruct ) && isdefined( player.classstruct.loadoutstandardperks[index] ) )
            perkname = player.classstruct.loadoutstandardperks[index];

        perks[index] = perkname;
    }

    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "perk1";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = perks[0];
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "perk2";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = perks[1];
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "perk3";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = perks[2];
    player dlog_recordplayerevent( "dlog_event_br_inventory_snapshot", _id_EC6A81EAC0E4DC61 );
}

_id_6039C3FFA983858F( player, _id_465AB95DD1230BD3, weaponref, _id_31553E68A5164E3E )
{
    if ( !branalytics_validation() )
        return;

    _id_EC6A81EAC0E4DC61 = _branalytics_header( player );
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "plunder_spent";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = _id_465AB95DD1230BD3;
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "player_plunder_after_purchase";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = player.plundercount;
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "weapon";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = safecheckstring( weaponref );

    for ( _id_9413831C8D06464C = 0; _id_9413831C8D06464C < _id_31553E68A5164E3E.size; _id_9413831C8D06464C++ )
    {
        _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = scripts\engine\utility::_id_996B01CD49D0128D( [ "weapon_attachment_", scripts\engine\utility::string( _id_9413831C8D06464C ) ] );
        _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = safecheckstring( _id_31553E68A5164E3E[_id_9413831C8D06464C] );
    }

    player dlog_recordplayerevent( "dlog_event_br_kiosk_purchase_loadout_weapon", _id_EC6A81EAC0E4DC61 );
}

branalytics_kiosk_purchaseloadout( player, _id_465AB95DD1230BD3, _id_13ECA9A3244E502F )
{
    if ( !branalytics_validation() )
        return;

    _id_EC6A81EAC0E4DC61 = _branalytics_header( player );
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "plunder_spent";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = _id_465AB95DD1230BD3;
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "player_plunder_after_purchase";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = player.plundercount;
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "primary_weapon";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = safecheckstring( _id_13ECA9A3244E502F.loadoutprimaryfullname );
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "secondary_weapon";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = safecheckstring( _id_13ECA9A3244E502F.loadoutsecondaryfullname );
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "primary_equipment";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = safecheckstring( _id_13ECA9A3244E502F.loadoutequipmentprimary );
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "secondary_equipment";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = safecheckstring( _id_13ECA9A3244E502F.loadoutequipmentsecondary );
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "perk_1";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = safecheckstring( _id_13ECA9A3244E502F.loadoutperks[0] );
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "perk_2";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = safecheckstring( _id_13ECA9A3244E502F.loadoutperks[1] );
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "perk_3";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = safecheckstring( _id_13ECA9A3244E502F.loadoutperks[2] );
    player dlog_recordplayerevent( "dlog_event_br_kiosk_purchase_loadout", _id_EC6A81EAC0E4DC61 );
}

branalytics_kiosk_purchaseitem( player, _id_465AB95DD1230BD3, _id_75B71E1F4013579E, itemname )
{
    if ( !branalytics_validation() )
        return;

    _id_EC6A81EAC0E4DC61 = _branalytics_header( player );
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "plunder_spent";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = safechecknum( _id_465AB95DD1230BD3 );
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "player_plunder_after_purchase";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = safechecknum( player.plundercount );
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "purchase_type";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = _id_75B71E1F4013579E;
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "item_name";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = itemname;
    player dlog_recordplayerevent( "dlog_event_br_kiosk_purchase_item", _id_EC6A81EAC0E4DC61 );

    if ( _branalytics_addeventallowed() )
        _id_EEFAA754FC189980( "purchase", player, _id_465AB95DD1230BD3, itemname );
}

branalytics_kiosk_menu_event( player, _id_A00244F669488912, _id_6C457C5F341BEB23 )
{
    if ( !branalytics_validation() )
        return;

    _id_EC6A81EAC0E4DC61 = _branalytics_header( player, "kiosk_menu_owner" );
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "kiosk_menu_owner_event";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = _id_A00244F669488912;
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "kiosk_menu_owner_event_param";

    if ( isdefined( _id_6C457C5F341BEB23 ) )
        _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = _id_6C457C5F341BEB23;
    else
        _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "none";

    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "kiosk_menu_owner_event_time";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = gettime() - level.starttime;
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "kiosk_menu_owner_kiosk";

    if ( isdefined( player.br_kiosk ) )
        _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = player.br_kiosk.index;
    else
        _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = -1;

    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "kiosk_menu_owner_allowed";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = istrue( player.armorykioskpurchaseallowed );
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "kiosk_menu_owner_error";

    if ( _id_A00244F669488912 != "menu_close" && !isdefined( player.br_kiosk ) )
        _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "unexpected_undefined_kiosk";
    else
        _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "none";

    player dlog_recordplayerevent( "dlog_event_br_kiosk_menu_event", _id_EC6A81EAC0E4DC61 );
}

branalytics_plunder_placed_into_extraction( player, _id_3EAA9F644DBE7834, location, _id_987EBC0A48F683A2 )
{
    if ( !branalytics_validation() )
        return;

    _id_EC6A81EAC0E4DC61 = [];
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "extraction_method";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = _id_3EAA9F644DBE7834;
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "plunder_placed_into_extraction";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = _id_987EBC0A48F683A2;
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "extraction_point_x";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = location[0];
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "extraction_point_y";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = location[1];
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "extraction_point_z";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = location[2];
    player dlog_recordplayerevent( "dlog_event_br_plunder_placed_into_extraction", _id_EC6A81EAC0E4DC61 );
}

branalytics_plunder_extraction_success( _id_10BF707212FEC686, _id_987EBC0A48F683A2, _id_3EAA9F644DBE7834, _id_235F1174E9FAA6D2, _id_11F463855416AB73 )
{
    if ( !branalytics_validation() )
        return;

    _id_EC6A81EAC0E4DC61 = [];
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "num_depositers";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = _id_10BF707212FEC686;
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "plunder_extracted";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = _id_987EBC0A48F683A2;
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "method";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = _id_3EAA9F644DBE7834;
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "contains_enemy_plunder";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = _id_235F1174E9FAA6D2;
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "extraction_origin_x";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = _id_11F463855416AB73[0];
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "extraction_origin_y";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = _id_11F463855416AB73[1];
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "extraction_origin_z";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = _id_11F463855416AB73[2];
    dlog_recordevent( "dlog_event_br_plunder_extraction_success", _id_EC6A81EAC0E4DC61 );
}

branalytics_plunder_extraction_failure( _id_DD059E3EBA985900, _id_3EAA9F644DBE7834, _id_11F463855416AB73, _id_DCED1621D5483CC2 )
{
    if ( !branalytics_validation() )
        return;

    _id_EC6A81EAC0E4DC61 = [];
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "plunder_dropped";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = _id_DD059E3EBA985900;
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "method";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = _id_3EAA9F644DBE7834;
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "extraction_origin_x";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = _id_11F463855416AB73[0];
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "extraction_origin_y";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = _id_11F463855416AB73[1];
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "extraction_origin_z";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = _id_11F463855416AB73[2];
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "destruction_origin_x";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = _id_DCED1621D5483CC2[0];
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "destruction_origin_y";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = _id_DCED1621D5483CC2[1];
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "destruction_origin_z";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = _id_DCED1621D5483CC2[2];
    dlog_recordevent( "dlog_event_br_plunder_extraction_failure", _id_EC6A81EAC0E4DC61 );
}

branalytics_bonusxp_debugdata( xp, _id_401C3A2E68AAB0FD )
{
    if ( !branalytics_validation() )
        return;

    if ( isdefined( self ) )
        xuid = self getxuid() + " " + _id_401C3A2E68AAB0FD;
    else
        xuid = "none " + _id_401C3A2E68AAB0FD;

    xp = int( xp );

    if ( _branalytics_addeventallowed() )
        _branalytics_addevent( "bonusXpDebug", ( 0, 0, 0 ), xp, xuid );
}

branalytics_vehiclespawned( vehicle, refname )
{
    if ( !scripts\cp_mp\utility\game_utility::_id_0BEFF479639E6508() )
        return;

    if ( !branalytics_validation() )
        return;

    if ( _branalytics_addeventallowed() && isdefined( level.prematchendtime ) )
        _branalytics_addeventdelayed( "vehicle", vehicle.origin, vehicle, refname );
}

_id_E77F36370162406C( player )
{
    if ( !branalytics_validation() )
        return;

    _id_EC6A81EAC0E4DC61 = _branalytics_header( player );
    player dlog_recordplayerevent( "dlog_event_drone_redeploy", _id_EC6A81EAC0E4DC61 );
}

branalytics_inittablets( _id_7C0F9991CF5F3AC7, _id_D3DC2B1148A16722, _id_E9C3E5B8976CF5DC, _id_5638CCCA9C6120D3 )
{
    if ( !branalytics_validation() )
        return;

    dlog_recordevent( "dlog_event_br_mission_init", [ "num_missions", _id_7C0F9991CF5F3AC7, "num_missions_active", _id_D3DC2B1148A16722, "num_missions_hidden", _id_E9C3E5B8976CF5DC, "hide_percent", _id_5638CCCA9C6120D3 ] );
}

branalytics_delayedshowtablets( _id_F5A39828804902E2, _id_5347B28D23DA7E3A, _id_36F7B2197683BC82, _id_6CAB9ACAEB50BB75 )
{
    if ( !branalytics_validation() )
        return;

    dlog_recordevent( "dlog_event_br_mission_repopulate", [ "circle_index", _id_F5A39828804902E2, "show_percent", _id_5347B28D23DA7E3A, "num_valid", _id_36F7B2197683BC82, "num_shown", _id_6CAB9ACAEB50BB75 ] );
}

branalytics_spawntablet( tablet )
{
    if ( !branalytics_validation() )
        return;

    dlog_recordevent( "dlog_event_br_mission_spawn", [ "id", scripts\engine\utility::ter_op( isdefined( tablet.index ), "" + tablet.index, "invalid" ), "type", tablet.type, "origin_x", tablet.origin[0], "origin_y", tablet.origin[1], "origin_z", tablet.origin[2] ] );

    if ( _branalytics_addeventallowed() && isdefined( tablet.index ) )
        _branalytics_addeventdelayed( "mission", tablet.origin, "" + tablet.index, tablet.tablettype );
}

branalytics_invalidtablet( tablet )
{
    if ( !branalytics_validation() )
        return;

    dlog_recordevent( "dlog_event_br_mission_invalid", [ "id", scripts\engine\utility::ter_op( isdefined( tablet.index ), "" + tablet.index, "invalid" ), "type", tablet.type, "origin_x", tablet.origin[0], "origin_y", tablet.origin[1], "origin_z", tablet.origin[2] ] );
}

branalytics_missionstart( _id_B2B01F6F55F16552, player )
{
    if ( !branalytics_validation() )
        return;

    _id_EC6A81EAC0E4DC61 = [];
    _id_6D5ED003AF1F9612 = scripts\mp\utility\teams::getfriendlyplayers( player.team, 1 );
    _id_EC6A81EAC0E4DC61 = _branalytics_headerplayerposrow( _id_EC6A81EAC0E4DC61, _id_6D5ED003AF1F9612 );
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "id";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = scripts\engine\utility::ter_op( isdefined( _id_B2B01F6F55F16552.missionid ), _id_B2B01F6F55F16552.missionid, "invalid" );

    if ( isdefined( level.br_circle ) )
        circleindex = scripts\engine\utility::getintorzero( level.br_circle.circleindex );
    else
        circleindex = -1;

    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "circle_index";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = circleindex;
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "type";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = _id_B2B01F6F55F16552.questcategory;
    player dlog_recordplayerevent( "dlog_event_br_mission_start", _id_EC6A81EAC0E4DC61 );

    if ( _branalytics_addeventallowed() && isdefined( _id_B2B01F6F55F16552.missionid ) )
        branalytics_seteventdelayedstate( "mission", _id_B2B01F6F55F16552.missionid, -1 );
}

branalytics_missionend( _id_B2B01F6F55F16552, _id_89EDDDE3DA46BC8D, results, _id_EF08909F6CBF35FC )
{
    if ( !branalytics_validation() )
        return;

    dlog_recordevent( "dlog_event_br_mission_end", [ "id", scripts\engine\utility::ter_op( isdefined( _id_B2B01F6F55F16552.missionid ), _id_B2B01F6F55F16552.missionid, "invalid" ), "result", scripts\engine\utility::ter_op( isdefined( _id_B2B01F6F55F16552.result ), _id_B2B01F6F55F16552.result, "unknown" ), "reward_tier", _id_89EDDDE3DA46BC8D, "xp", scripts\engine\utility::ter_op( isdefined( results["xp"] ), results["xp"], 0 ), "weapon_xp", scripts\engine\utility::ter_op( isdefined( results["weapon_xp"] ), results["weapon_xp"], 0 ), "plunder", scripts\engine\utility::ter_op( isdefined( results["plunder"] ), results["plunder"], 0 ), "num_teammates_awarded", scripts\engine\utility::ter_op( isdefined( _id_EF08909F6CBF35FC ), _id_EF08909F6CBF35FC, 0 ), "type", _id_B2B01F6F55F16552.questcategory ] );

    if ( _branalytics_addeventallowed() && isdefined( _id_B2B01F6F55F16552.missionid ) )
    {
        if ( isdefined( _id_B2B01F6F55F16552.result ) && _id_B2B01F6F55F16552.result == "success" )
            branalytics_seteventdelayedstate( "mission", _id_B2B01F6F55F16552.missionid, _id_89EDDDE3DA46BC8D );
        else
            branalytics_seteventdelayedstate( "mission", _id_B2B01F6F55F16552.missionid, -1 );
    }
}

_id_9CBBD0077FD5F713( _id_DB62C0CFC8A661CC, _id_1EA736D378B0D412, success )
{
    if ( !branalytics_validation() )
        return;

    _id_EC6A81EAC0E4DC61 = [];
    _id_6D5ED003AF1F9612 = scripts\mp\utility\teams::getfriendlyplayers( _id_DB62C0CFC8A661CC.targetteam, 0 );
    _id_F2B8863302006284 = _id_6D5ED003AF1F9612.size;
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "end_reason";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = _id_1EA736D378B0D412;
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "state_progress";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = scripts\engine\utility::ter_op( istrue( success ), 5, _id_DB62C0CFC8A661CC.state );
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "collected_beryllium";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = istrue( _id_DB62C0CFC8A661CC._id_876BE3BC4DF3A81D & _id_024E8AFC4332EFA8::_id_27E3E5809183DE6F( 0 ) );
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "collected_plutonium";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = istrue( _id_DB62C0CFC8A661CC._id_876BE3BC4DF3A81D & _id_024E8AFC4332EFA8::_id_27E3E5809183DE6F( 1 ) );
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "collected_tritium";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = istrue( _id_DB62C0CFC8A661CC._id_876BE3BC4DF3A81D & _id_024E8AFC4332EFA8::_id_27E3E5809183DE6F( 2 ) );
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "num_teammates";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = _id_F2B8863302006284;
    _id_DB62C0CFC8A661CC.owner dlog_recordplayerevent( "dlog_event_br_champions_quest_end", _id_EC6A81EAC0E4DC61 );
}

_id_1BABE13A9049A6DC( player, _id_8DD9F2EB8215A139 )
{
    if ( !branalytics_validation() )
        return;

    _id_EC6A81EAC0E4DC61 = [];
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "time_until_detonation";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = _id_8DD9F2EB8215A139;
    player dlog_recordplayerevent( "dlog_event_br_champions_quest_defuse", _id_EC6A81EAC0E4DC61 );
}

_id_9D3B5B2C3917753A( player, _id_F7806D4CF24AACD3 )
{
    if ( !branalytics_validation() )
        return;

    _id_EC6A81EAC0E4DC61 = [];
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "element_id";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = _id_F7806D4CF24AACD3._id_27DE1507ED41F01E;
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "time_from_spawn";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = gettime() - _id_F7806D4CF24AACD3.spawntime;
    player dlog_recordplayerevent( "dlog_event_br_champions_quest_element_collect", _id_EC6A81EAC0E4DC61 );
}

_id_F3FF434976BDDE7C( player, _id_0436204FBA69D256 )
{
    if ( !branalytics_validation() )
        return;

    _id_EC6A81EAC0E4DC61 = [];
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "time_from_bombsite_spawn";
    _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = _id_0436204FBA69D256;
    player dlog_recordplayerevent( "dlog_event_br_champions_quest_arm", _id_EC6A81EAC0E4DC61 );
}

branalytics_teameliminated( team, teamplacement )
{
    if ( !branalytics_validation() )
        return;

    dlog_recordevent( "dlog_event_br_team_eliminated", [ "team", team, "placement", teamplacement, "survival_time", gettime() - level.starttime ] );
}

branalytics_publiceventstarted( eventtype )
{
    if ( !branalytics_validation() )
        return;

    dlog_recordevent( "dlog_event_br_public_event_start", [ "type", eventtype ] );
}

branalytics_publiceventended( eventtype )
{
    if ( !branalytics_validation() )
        return;

    dlog_recordevent( "dlog_event_br_public_event_end", [ "type", eventtype ] );
}

_branalytics_header( player, _id_44375E4D2A4B781B )
{
    _id_FAD588394427F934 = [];

    if ( !isstring( _id_44375E4D2A4B781B ) )
        _id_44375E4D2A4B781B = "player";

    _id_FAD588394427F934 = _branalytics_headerplayer( _id_FAD588394427F934, player, _id_44375E4D2A4B781B );

    if ( isdefined( level.br_circle ) )
        circleindex = scripts\engine\utility::getintorzero( level.br_circle.circleindex );
    else
        circleindex = -1;

    _id_FAD588394427F934[_id_FAD588394427F934.size] = "circle_index";
    _id_FAD588394427F934[_id_FAD588394427F934.size] = circleindex;
    return _id_FAD588394427F934;
}

_branalytics_headerplayer( _id_FAD588394427F934, player, _id_44375E4D2A4B781B )
{
    if ( !isstring( _id_44375E4D2A4B781B ) )
        _id_44375E4D2A4B781B = "player";

    _id_FAD588394427F934[_id_FAD588394427F934.size] = _id_44375E4D2A4B781B + "_x";
    _id_FAD588394427F934[_id_FAD588394427F934.size] = player.origin[0];
    _id_FAD588394427F934[_id_FAD588394427F934.size] = _id_44375E4D2A4B781B + "_y";
    _id_FAD588394427F934[_id_FAD588394427F934.size] = player.origin[1];
    _id_FAD588394427F934[_id_FAD588394427F934.size] = _id_44375E4D2A4B781B + "_z";
    _id_FAD588394427F934[_id_FAD588394427F934.size] = player.origin[2];
    _id_FAD588394427F934[_id_FAD588394427F934.size] = _id_44375E4D2A4B781B + "_pitch";
    _id_FAD588394427F934[_id_FAD588394427F934.size] = scripts\engine\utility::getplayerpitch( player );
    _id_FAD588394427F934[_id_FAD588394427F934.size] = _id_44375E4D2A4B781B + "_yaw";
    _id_FAD588394427F934[_id_FAD588394427F934.size] = scripts\engine\utility::getplayeryaw( player );
    return _id_FAD588394427F934;
}

_branalytics_headerplayerposrow( params, players )
{
    params[params.size] = "living_player_pos";
    _id_916910D71143DA1D = [];

    foreach ( player in players )
    {
        _id_916910D71143DA1D[_id_916910D71143DA1D.size] = "x";
        _id_916910D71143DA1D[_id_916910D71143DA1D.size] = player.origin[0];
        _id_916910D71143DA1D[_id_916910D71143DA1D.size] = "y";
        _id_916910D71143DA1D[_id_916910D71143DA1D.size] = player.origin[1];
        _id_916910D71143DA1D[_id_916910D71143DA1D.size] = "z";
        _id_916910D71143DA1D[_id_916910D71143DA1D.size] = player.origin[2];
        _id_916910D71143DA1D[_id_916910D71143DA1D.size] = "pitch";
        _id_916910D71143DA1D[_id_916910D71143DA1D.size] = scripts\engine\utility::getplayerpitch( player );
        _id_916910D71143DA1D[_id_916910D71143DA1D.size] = "yaw";
        _id_916910D71143DA1D[_id_916910D71143DA1D.size] = scripts\engine\utility::getplayeryaw( player );
    }

    params[params.size] = _id_916910D71143DA1D;
    return params;
}

safecheckstring( data )
{
    if ( isdefined( data ) )
        return data;
    else
        return "empty";
}

safecheckweapon( data )
{
    if ( isdefined( data ) )
        return data.basename;
    else
        return "empty";
}

safechecknum( data )
{
    if ( isdefined( data ) )
        return data;
    else
        return 0;
}

safedivide( data, _id_F1563935AEEB5199 )
{
    if ( !isdefined( _id_F1563935AEEB5199 ) || _id_F1563935AEEB5199 <= 0 )
        return data / 1;
    else
        return data / _id_F1563935AEEB5199;
}

branalytics_endgame()
{
    if ( _branalytics_addeventallowed() )
    {
        if ( isdefined( level.delayedeventtypes["vehicle"] ) )
        {
            foreach ( _id_C30ADB03CA046EDE in level.delayedeventtypes["vehicle"] )
            {
                if ( !isdefined( _id_C30ADB03CA046EDE.ent ) )
                {
                    _id_C30ADB03CA046EDE.state = 1;
                    continue;
                }

                if ( distancesquared( _id_C30ADB03CA046EDE.origin, _id_C30ADB03CA046EDE.ent.origin ) > squared( 1000 ) )
                    _id_C30ADB03CA046EDE.state = 1;
            }
        }

        if ( isdefined( level.br_armory_kiosk ) )
        {
            foreach ( _id_15B89FF206500554 in level.br_armory_kiosk.scriptables )
            {
                state = 0;

                if ( istrue( _id_15B89FF206500554.visible ) )
                    state = 1;

                time = 0;
                entnum = -1;
                _id_BB96ECD805545B2E( "kiosk", _id_15B89FF206500554.origin, state, time, "", entnum );
            }
        }

        foreach ( _id_BAFEF05479604422 in level.delayedeventtypes )
        {
            foreach ( _id_CE203D78F57223DE in _id_BAFEF05479604422 )
                _id_BB96ECD805545B2E( _id_CE203D78F57223DE.type, _id_CE203D78F57223DE.origin, _id_CE203D78F57223DE.state, _id_CE203D78F57223DE.time, _id_CE203D78F57223DE.data, -1 );
        }
    }

    if ( 1 )
        analyticswritecsv();
}

_id_B9C4D225E9548D8B()
{
    if ( !isdefined( level.prematchendtime ) )
        return 0;

    if ( !istrue( level._id_47BE1D1BB3B425A6 ) )
        return 0;

    if ( isplayer( self ) )
        return 1;

    if ( isagent( self ) )
        return 1;

    return 0;
}

_id_90D7BFD05ED0FBE9()
{
    level endon( "game_ended" );
    self endon( "disconnect" );
    self endon( "brAnalytics_agent_killed" );
    entnum = self getentitynumber();
    state = 0;
    data = "";
    _id_7DBFB7362717CE21 = 0;
    _id_A81180FE2DF07C44 = "";

    for (;;)
    {
        wait 30.0;

        if ( !isalive( self ) )
            continue;

        if ( isdefined( self.gulag ) && self.gulag == 1 )
            continue;

        if ( isagent( self ) )
        {
            if ( isdefined( self.enemy ) )
                _id_7DBFB7362717CE21 = self.enemy getentitynumber();
            else
                _id_7DBFB7362717CE21 = 0;

            if ( isdefined( self._id_F8BC7ECDD324DD79 ) )
                _id_A81180FE2DF07C44 = self._id_F8BC7ECDD324DD79.behavior;
            else
                _id_A81180FE2DF07C44 = "";
        }
        else if ( isplayer( self ) )
        {
            if ( isdefined( self.plundercount ) )
                _id_7DBFB7362717CE21 = int( self.plundercount );

            if ( isdefined( self.team ) )
                _id_A81180FE2DF07C44 = self.team;
        }

        time = _branalytics_geteventtimestamp();

        if ( self._id_D5C444A3FBB7D030 < time - 30.0 || state != _id_7DBFB7362717CE21 || data != _id_A81180FE2DF07C44 )
        {
            self._id_D5C444A3FBB7D030 = time;
            state = _id_7DBFB7362717CE21;
            data = _id_A81180FE2DF07C44;
            _id_BB96ECD805545B2E( "breadcrumb", self.origin, state, time, data, entnum );
        }
    }
}

_id_F183D915239368B7( time )
{
    if ( !_id_B9C4D225E9548D8B() )
        return;

    if ( !isdefined( self._id_D5C444A3FBB7D030 ) )
    {
        self._id_D5C444A3FBB7D030 = time;
        thread _id_90D7BFD05ED0FBE9();
    }
    else
        self._id_D5C444A3FBB7D030 = time;
}

_id_8E6652060309B9DB( origin, data )
{
    if ( !_branalytics_addeventallowed() )
        return;

    _branalytics_addevent( "agent_alloc", origin, 0, data );
}

_id_252E45FC60E2A731( ent )
{
    if ( !isdefined( ent ) || !_branalytics_addeventallowed() )
        return;

    state = 0;

    if ( isdefined( ent.category ) && ent.category == "gulag" )
        state = 1;

    data = ent.agent_type;
    _id_EEFAA754FC189980( "agent_spawn", ent, state, data );
}

_id_0E3AEF4FCB303CFF( ent, _id_8227176423F57171, attacker )
{
    if ( !isdefined( ent ) || !_branalytics_addeventallowed() )
        return;

    ent notify( "brAnalytics_agent_killed" );

    if ( _id_8227176423F57171 )
        _id_9C46FC77656F0E4B = "dormancy";
    else if ( !isdefined( attacker ) || !( isagent( attacker ) || isplayer( attacker ) ) || attacker.classname == "worldspawn" || attacker.classname == "script_vehicle" || attacker.classname == "script_model" || attacker.classname == "misc_turret" || attacker.classname == "misc_samsite" || attacker.classname == "trigger_hurt" || attacker.classname == "trigger_multiple" || attacker.classname == "script_origin" )
        _id_9C46FC77656F0E4B = "world";
    else
    {
        _id_2A8DBAD5E36EBD27 = attacker getcurrentweapon();
        _id_9C46FC77656F0E4B = _id_2A8DBAD5E36EBD27.basename;
    }

    state = 0;

    if ( isdefined( _id_8227176423F57171 ) && _id_8227176423F57171 == 1 )
        state = 1;

    _id_EEFAA754FC189980( "agent_down", ent, state, _id_9C46FC77656F0E4B );
}

_id_5BD0A2D95D2E42A5( origin, state )
{
    if ( !_branalytics_addeventallowed() )
        return;

    _branalytics_addevent( "stronghold_spawn", origin, state );
}

_id_F3CFF8F31F5CDBF4( origin )
{
    if ( !_branalytics_addeventallowed() )
        return;

    _branalytics_addevent( "stronghold_despawn", origin );
}

initcashtracking()
{
    level.cashtypes = [];
    level.cashtypes[level.cashtypes.size] = "loot";
    level.cashtypes[level.cashtypes.size] = "mission";
    level.cashtypes[level.cashtypes.size] = "combat";
    level.cashtypes[level.cashtypes.size] = "cache";
    level.cashtypes[level.cashtypes.size] = "cache_legendary";
    level.cashtypes[level.cashtypes.size] = "cache_scavenger";
    level.cashtypes[level.cashtypes.size] = "loot_chopper";
    level.cashtypes[level.cashtypes.size] = "c130_box";
    level.cashmetrics = [];

    foreach ( team in level.teamnamelist )
    {
        data = spawnstruct();
        data.sources = [];
        data.totaldata = [];

        foreach ( type in level.cashtypes )
        {
            data.sources[type] = 0;
            data.totaldata[type] = 0;
        }

        level.cashmetrics[team] = data;
    }

    level waittill( "prematch_done" );
    level thread recordinterval();
}

recordinterval()
{
    for ( waittime = 60.0; !istrue( level.gameended ); waittime = max( 60.0 - _id_48A78BEE31DAA649, 0 ) )
    {
        level scripts\engine\utility::waittill_notify_or_timeout( "game_ended", waittime );
        starttime = gettime();
        _id_C3E10A42A81ADE25 = scripts\mp\gamescore::getteamscoreplacements();

        foreach ( team in level.teamnamelist )
        {
            if ( !isdefined( team ) )
                continue;

            time = scripts\mp\matchdata::gettimefrommatchstart( gettime() );
            _id_EC6A81EAC0E4DC61 = [];
            _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "match_complete";
            _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = 0;
            _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "time";
            _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = time;
            _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "team";
            _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = team;
            _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "placement";
            _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = _id_C3E10A42A81ADE25[team];

            foreach ( type in level.cashtypes )
            {
                value = level.cashmetrics[team].sources[type];
                _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "cash_source_" + type;
                _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = value;
                level.cashmetrics[team].totaldata[type] = level.cashmetrics[team].totaldata[type] + value;
                level.cashmetrics[team].sources[type] = 0;
            }

            dlog_recordevent( "dlog_event_blood_money_interval", _id_EC6A81EAC0E4DC61 );
            waitframe();
        }

        _id_48A78BEE31DAA649 = ( gettime() - starttime ) * 0.001;
    }

    time = scripts\mp\matchdata::gettimefrommatchstart( gettime() );
    _id_C3E10A42A81ADE25 = scripts\mp\gamescore::getteamscoreplacements();

    foreach ( team in level.teamnamelist )
    {
        _id_EC6A81EAC0E4DC61 = [];
        _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "match_complete";
        _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = 1;
        _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "time";
        _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = time;
        _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "team";
        _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = team;
        _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "placement";
        _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = _id_C3E10A42A81ADE25[team];

        foreach ( type in level.cashtypes )
        {
            value = level.cashmetrics[team].totaldata[type];
            _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = "cash_source_" + type;
            _id_EC6A81EAC0E4DC61[_id_EC6A81EAC0E4DC61.size] = value;
        }

        dlog_recordevent( "dlog_event_blood_money_interval", _id_EC6A81EAC0E4DC61 );
    }
}

trackcashevent( player, type, amount )
{
    if ( !isdefined( level.cashmetrics ) || !isdefined( player ) || !isdefined( player.team ) )
        return;

    team = player.team;
    level.cashmetrics[team].sources[type] = level.cashmetrics[team].sources[type] + amount;
}

onmatchstartbr()
{
    thread _onmatchstartbr();
}

_onmatchstartbr()
{
    waittillframeend;
    _id_FAF0D2FAC3F47583 = level.brgametype.name;
    maxteamsize = scripts\engine\utility::getintorzero( level.maxteamsize );
    _id_D12A341B40354143 = scripts\engine\utility::getintorzero( level.players.size );

    if ( isdefined( level.teamswithplayers ) )
        _id_652F47620AC4713F = scripts\engine\utility::getintorzero( level.teamswithplayers.size );
    else
        _id_652F47620AC4713F = 0;

    _id_B287376C626B75B6 = 0;

    foreach ( player in level.players )
    {
        if ( isbot( player ) || player isplayerheadless() )
            continue;

        _id_B287376C626B75B6++;
    }

    if ( isdefined( level.br_armory_kiosk ) )
        _id_A3D16EC55B882CCD = scripts\engine\utility::getintorzero( level.br_armory_kiosk.teamrevivecost );
    else
        _id_A3D16EC55B882CCD = 0;

    _id_5CEAEA1D11F6F7F5 = scripts\engine\utility::getintorzero( level.usegulag );

    if ( isdefined( level.gulag ) )
    {
        _id_F2C958A504A3BD33 = scripts\engine\utility::getintorzero( level.gulag.maxuses );
        _id_55F22A96A43D437E = scripts\engine\utility::getintorzero( level.gulag.numarmorhealth );
        _id_41046871E0C8B9A8 = scripts\engine\utility::getintorzero( level.gulag.spawnloot );
    }
    else
    {
        _id_F2C958A504A3BD33 = 0;
        _id_55F22A96A43D437E = 0;
        _id_41046871E0C8B9A8 = 0;
    }

    _id_9D8974FF163F463D = [];

    if ( getdvarint( "dvar_90A3DFD557408611", 1 ) && isdefined( level.questinfo ) )
    {
        foreach ( type, info in level.questinfo.tabletinfo )
        {
            _id_9D8974FF163F463D[_id_9D8974FF163F463D.size] = "name";
            _id_9D8974FF163F463D[_id_9D8974FF163F463D.size] = type;
            _id_E60552DD6ABCC4AA = isdefined( info ) && istrue( info.enabled );
            _id_9D8974FF163F463D[_id_9D8974FF163F463D.size] = "is_enabled";
            _id_9D8974FF163F463D[_id_9D8974FF163F463D.size] = _id_E60552DD6ABCC4AA;
        }
    }

    _id_85D8DAEAC55B1742 = scripts\engine\utility::getintorzero( getplaylistid() );

    if ( isdefined( level.prematchendtime ) )
        prematchendtime = level.prematchendtime;
    else
        prematchendtime = -1;

    dlog_recordevent( "dlog_event_br_server_match_start", [ "br_mission_type_info", _id_9D8974FF163F463D, "map", level.script, "sub_game_type", _id_FAF0D2FAC3F47583, "max_team_size", maxteamsize, "player_count", _id_D12A341B40354143, "human_player_count", _id_B287376C626B75B6, "team_count", _id_652F47620AC4713F, "kiosk_respawn_cost", _id_A3D16EC55B882CCD, "gulag_active", _id_5CEAEA1D11F6F7F5, "gulag_max_uses", _id_F2C958A504A3BD33, "gulag_starting_armor", _id_55F22A96A43D437E, "gulag_spawn_loot", _id_41046871E0C8B9A8, "prematch_end_time", prematchendtime, "playlist_id", _id_85D8DAEAC55B1742 ] );
}
