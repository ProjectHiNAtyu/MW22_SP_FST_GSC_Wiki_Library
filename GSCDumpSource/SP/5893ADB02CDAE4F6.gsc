// IW9 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

createfx()
{
    if ( !level.createfx_enabled )
        return;

    _func_2D95D2DE0E83E6FF();
    level.func_position_player = ::func_position_player;
    level.func_position_player_get = ::func_position_player_get;
    level.func_updatefx = scripts\common\createfx::restart_fx_looper;
    level.func_process_fx_rotater = scripts\common\createfx::process_fx_rotater;
    level.func_player_speed = ::func_player_speed;
    level.mp_createfx = 0;
    scripts\engine\utility::array_call( getaiarray(), ::delete );
    scripts\engine\utility::array_call( _func_91E8F01DD90DE05A(), ::delete );
    ai = getaiarray();
    scripts\engine\utility::array_call( ai, ::delete );
    scripts\common\createfx::createfx_common();
    thread scripts\common\createfx::createfxlogic();
    thread scripts\common\createfx::func_get_level_fx();
    level.player allowcrouch( 0 );
    level.player allowprone( 0 );
    createfx_only_triggers();
    level waittill( "eternity" );
}

createfx_only_triggers()
{
    _id_B65F27B4BA84B114 = [];
    _id_B65F27B4BA84B114["trigger_multiple_createart_transient"] = scripts\sp\trigger::trigger_createart_transient;

    foreach ( classname, function in _id_B65F27B4BA84B114 )
    {
        triggers = getentarray( classname, "classname" );
        scripts\engine\utility::array_levelthread( triggers, function );
    }
}

func_position_player_get( _id_918CDF5248017E62 )
{
    if ( distancesquared( _id_918CDF5248017E62, level.player.origin ) > 4096 )
    {
        setdvar( "dvar_57B68F9976F53F0D", level.player.origin[0] );
        setdvar( "dvar_57B68E9976F53CDA", level.player.origin[1] );
        setdvar( "dvar_57B68D9976F53AA7", level.player.origin[2] );
    }

    return level.player.origin;
}

func_position_player()
{
    _id_1925D24D0AE333E6 = [];
    _id_1925D24D0AE333E6[0] = getdvarint( "dvar_57B68F9976F53F0D" );
    _id_1925D24D0AE333E6[1] = getdvarint( "dvar_57B68E9976F53CDA" );
    _id_1925D24D0AE333E6[2] = getdvarint( "dvar_57B68D9976F53AA7" );
    level.player setorigin( ( _id_1925D24D0AE333E6[0], _id_1925D24D0AE333E6[1], _id_1925D24D0AE333E6[2] ) );
    level.player setplayerangles( ( 0, level.player.angles[1], 0 ) );
}

func_player_speed()
{
    setsaveddvar( "dvar_11A6AAF18B50047B", level._createfx.player_speed );
}
