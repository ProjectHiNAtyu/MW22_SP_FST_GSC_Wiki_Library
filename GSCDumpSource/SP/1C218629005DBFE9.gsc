// IW9 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

init()
{
    if ( !isdefined( level._id_51E86DB962C414BB.style ) )
    {
        level._id_51E86DB962C414BB._id_F340C0E6A7E586F3 = [];
        _id_19BAFB945D0F6C7B();
        level.player thread _id_722FE59E6E6DAA04();
    }
}

_id_19BAFB945D0F6C7B()
{
    _id_D0FBE358C5473863 = _func_5B8C2AF0033C3A14( "takedownstyle" );

    foreach ( _id_C545F61C9BA000A9 in _id_D0FBE358C5473863 )
    {
        style = getscriptbundle( _id_C545F61C9BA000A9 );

        if ( !isdefined( style ) )
            continue;

        _id_0ED75C102C31AE55 = spawnstruct();
        _id_0ED75C102C31AE55.name = _id_C545F61C9BA000A9;
        _id_0ED75C102C31AE55.perks = [];
        _id_0ED75C102C31AE55._id_56508BBE9D05BC14 = [];
        _id_0ED75C102C31AE55._id_51E86DB962C414BB = [];

        if ( isdefined( style._id_309AAFB1FEE158B8 ) )
        {
            _id_C6C54A86F6D2EE11 = 0;

            foreach ( _id_00AE17C5A8B1BC1B in style._id_309AAFB1FEE158B8 )
            {
                _id_0ED75C102C31AE55.perks[_id_C6C54A86F6D2EE11] = strtok( scripts\engine\utility::_id_53C4C53197386572( _id_00AE17C5A8B1BC1B.perks, "" ), " ," );
                _id_0ED75C102C31AE55._id_56508BBE9D05BC14[_id_C6C54A86F6D2EE11] = strtok( scripts\engine\utility::_id_53C4C53197386572( _id_00AE17C5A8B1BC1B._id_56508BBE9D05BC14, "" ), " ," );
                _id_C6C54A86F6D2EE11++;
            }
        }

        if ( isdefined( style._id_84637A6F26DC9277 ) )
        {
            foreach ( _id_8740755104ED5F23 in style._id_84637A6F26DC9277 )
            {
                if ( isdefined( _id_8740755104ED5F23._id_D442547D75DFFD09 ) )
                {
                    _id_3D143923BEC393DA = _func_40FD49171FAD19D3( "takedown:" + _id_8740755104ED5F23._id_D442547D75DFFD09 );

                    foreach ( _id_3CB860E3AEC86B2A in level._id_51E86DB962C414BB._id_51E86DB962C414BB )
                    {
                        if ( _id_3CB860E3AEC86B2A.name == _id_3D143923BEC393DA )
                            _id_0ED75C102C31AE55._id_51E86DB962C414BB[_id_0ED75C102C31AE55._id_51E86DB962C414BB.size] = _id_3CB860E3AEC86B2A;
                    }
                }
            }
        }

        level._id_51E86DB962C414BB._id_F340C0E6A7E586F3[level._id_51E86DB962C414BB._id_F340C0E6A7E586F3.size] = _id_0ED75C102C31AE55;
    }
}

_id_722FE59E6E6DAA04()
{
    player = self;
    _id_D0A5CC24CEBEC36F = [ 0 ];
    _id_802052F77D625598 = [ 0 ];
    player _id_C55B99C6BC9D2C43( _id_D0A5CC24CEBEC36F, _id_802052F77D625598 );
}

_id_C55B99C6BC9D2C43( _id_0DCA7CD44BD6E1DE, _id_D0BECF1A4ED79115 )
{
    player = self;

    if ( isdefined( player._id_3CB860E3AEC86B2A.perks ) )
    {
        foreach ( perkname in player._id_3CB860E3AEC86B2A.perks )
            player unsetperk( perkname, 1 );
    }

    player._id_3CB860E3AEC86B2A._id_E111CC7DDE3AB3C8 = [];
    player._id_3CB860E3AEC86B2A.perks = [];
    player._id_3CB860E3AEC86B2A._id_56508BBE9D05BC14 = [];

    foreach ( _id_DBDB852349DBE8A6 in _id_0DCA7CD44BD6E1DE )
    {
        style = level._id_51E86DB962C414BB._id_F340C0E6A7E586F3[_id_DBDB852349DBE8A6];
        _id_00AE17C5A8B1BC1B = _id_D0BECF1A4ED79115[_id_DBDB852349DBE8A6];
        player._id_3CB860E3AEC86B2A._id_E111CC7DDE3AB3C8 = scripts\engine\utility::array_combine( player._id_3CB860E3AEC86B2A._id_E111CC7DDE3AB3C8, style._id_51E86DB962C414BB );

        if ( _id_00AE17C5A8B1BC1B < style.perks.size )
            player._id_3CB860E3AEC86B2A.perks = scripts\engine\utility::array_combine( player._id_3CB860E3AEC86B2A.perks, style.perks[_id_00AE17C5A8B1BC1B] );

        if ( _id_00AE17C5A8B1BC1B < style._id_56508BBE9D05BC14.size )
            player._id_3CB860E3AEC86B2A._id_56508BBE9D05BC14 = scripts\engine\utility::array_combine( player._id_3CB860E3AEC86B2A._id_56508BBE9D05BC14, style._id_56508BBE9D05BC14[_id_00AE17C5A8B1BC1B] );
    }

    foreach ( perkname in player._id_3CB860E3AEC86B2A.perks )
        player setperk( perkname, 1 );

    player thread _id_A8A7835BF9750993();
}

_id_A8A7835BF9750993()
{
    player = self;
    player notify( "takedownstyle_player_wait" );
    player endon( "takedownstyle_player_wait" );

    for (;;)
    {
        player waittill( "takedown_end" );

        foreach ( _id_04522E19831C852C in player._id_3CB860E3AEC86B2A._id_56508BBE9D05BC14 )
            player _id_427CE33EC0C820CF::_id_57C783CBA2592DB1( _id_04522E19831C852C );
    }
}
