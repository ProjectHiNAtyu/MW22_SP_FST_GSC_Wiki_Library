// IW9 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

main()
{
    scripts\engine\sp\utility::post_load_precache( ::_id_BF161307A213AD69 );
    _id_7BFD4C00E80CCD5D();
}

_id_BF161307A213AD69()
{

}

_id_EED57C01B98DDC03()
{
    level.player scripts\common\utility::dof_enable_autofocus( 2.2, level._id_066398E5BC5A7E14, 20, 20, undefined, "tag_eye", undefined, 1 );
}

_id_2FB70A6208900EA3()
{
    level.player scripts\common\utility::dof_enable( 2.2, 200, undefined, 4, 4 );
    scripts\engine\utility::flag_wait( "intro_igc_done" );
    level.player scripts\common\utility::dof_disable_autofocus();
}

_id_41034B67EA1DD7AE()
{
    wait 0.1;
    _id_78A011D5940FEB77 = getent( "lighting_minivan", "script_noteworthy" );
    _id_03B819B9C304F403 = scripts\engine\utility::getstruct( "reflection_reference", "targetname" );
    _id_78A011D5940FEB77.origin = _id_03B819B9C304F403.origin;
    _id_78A011D5940FEB77.angles = _id_03B819B9C304F403.angles;
}

_id_DD12F8676DDA4A4F()
{
    wait 0.4;
    setsaveddvar( "dvar_9AB6A766FC4E0C06", 0.6 );
    setsaveddvar( "dvar_4C14E16355AA5CB0", 4.0 );
    setsaveddvar( "dvar_4C14E46355AA6349", 1 );
}

_id_71ED461C2E5C4D69()
{
    setsaveddvar( "dvar_9AB6A766FC4E0C06", 0.6 );
    setsaveddvar( "dvar_4C14E16355AA5CB0", 4.0 );
    setsaveddvar( "dvar_4C14E46355AA6349", 1 );
}

_id_8AD0E9FFC375CDE4()
{
    setsaveddvar( "dvar_9AB6A766FC4E0C06", 0.33 );
    setsaveddvar( "dvar_4C14E16355AA5CB0", 3 );
    setsaveddvar( "dvar_4C14E46355AA6349", 3 );
}

_id_E3AE08A9DD39DFC5()
{
    setsaveddvar( "dvar_9AB6A766FC4E0C06", 0.33 );
    setsaveddvar( "dvar_4C14E16355AA5CB0", 3 );
    setsaveddvar( "dvar_4C14E46355AA6349", 2 );
    setsundirection( anglestoforward( ( -73, 155.7, 0 ) ) );
    setsaveddvar( "dvar_5A83A561CB4970B2", 1500 );
    visionsetnaked( "strike_cave", 0.0 );
    scripts\engine\utility::flag_wait( "bink_shot_igc_done" );
    visionsetnaked( "strike_ghost_reveal", 0.0 );
}

_id_485873F5D5A8A8B7()
{
    setsundirection( anglestoforward( ( -27, 17, 0 ) ) );
    visionsetnaked( "strike_intro", 0.0 );
    scripts\engine\utility::flag_wait( "bink_shot_sh010_anim_done" );
    setsaveddvar( "dvar_9AB6A766FC4E0C06", 0.33 );
    setsaveddvar( "dvar_4C14E16355AA5CB0", 2 );
    setsaveddvar( "dvar_4C14E46355AA6349", 2 );
    visionsetnaked( "strike_intro_2", 0.0 );
    setsundirection( anglestoforward( ( -58, -89, 0 ) ) );
}

_id_A901134AE2A2CA92()
{
    setsundirection( anglestoforward( ( -50, 90, 0 ) ) );
    setsaveddvar( "dvar_7E4D832C5798D718", "0 10 0" );
    setsaveddvar( "dvar_9AB6A766FC4E0C06", 0.85 );
    setsaveddvar( "dvar_4C14E16355AA5CB0", 3 );
    setsaveddvar( "dvar_4C14E46355AA6349", 3 );
}

_id_C8725A03FD781113()
{
    visionsetnaked( "strike_ghost_reveal", 0.0 );
    thread _id_DB42AD988367D34F( 0.01, 45.0, 0.6, 8.7 );
    thread _id_B6AC6C34886B46B9();
    setsundirection( anglestoforward( ( -68, 155.7, 0 ) ) );
    wait 9.5;
    visionsetnaked( "", 0.0 );
}

_id_B9C9E868693500A3()
{
    wait 20;
    visionsetnaked( "", 2.5 );
}

_id_B6AC6C34886B46B9()
{
    setsaveddvar( "dvar_5A83A561CB4970B2", 4500 );
    setsaveddvar( "dvar_9AB6A766FC4E0C06", 0.1 );
    setsaveddvar( "dvar_4C14E16355AA5CB0", 3 );
    setsaveddvar( "dvar_4C14E46355AA6349", 1 );
    thread _id_DF19CFECABEB3979();
    wait 9.8;
    scripts\engine\sp\utility::lerp_saveddvar( "dvar_9AB6A766FC4E0C06", 0.33, 0.3 );
    scripts\engine\sp\utility::lerp_saveddvar( "dvar_4C14E16355AA5CB0", 3, 0.3 );
    scripts\engine\sp\utility::lerp_saveddvar( "dvar_4C14E46355AA6349", 2, 0.3 );
}

_id_DF19CFECABEB3979()
{
    light = getent( "cin_light_ghost", "targetname" );
    destination = ( 28167.1, 11899.2, 2278.25 );
    wait 8.9;
    light moveto( destination, 3.8 );
}

_id_DB42AD988367D34F( _id_BC94ADD9A6699813, _id_2E882FB3D40AB2B5, time, _id_FCD35B6807F1776F )
{
    light = getent( "cin_light_ghost", "targetname" );

    if ( !isdefined( light ) )
        return;

    _id_63F445469B886BF8 = int( time * 20 );
    _id_3777ECE6A73EADA5 = float( ( _id_2E882FB3D40AB2B5 - _id_BC94ADD9A6699813 ) / float( _id_63F445469B886BF8 ) );
    _id_4DF54B0146E3B939 = _id_2E882FB3D40AB2B5;
    light setlightintensity( _id_4DF54B0146E3B939 );

    if ( isdefined( _id_FCD35B6807F1776F ) )
        wait( _id_FCD35B6807F1776F );

    for ( _id_AC0E594AC96AA3A8 = 0; _id_AC0E594AC96AA3A8 < _id_63F445469B886BF8; _id_AC0E594AC96AA3A8++ )
    {
        light setlightintensity( _id_4DF54B0146E3B939 );
        _id_4DF54B0146E3B939 = _id_4DF54B0146E3B939 - _id_3777ECE6A73EADA5;
        wait 0.05;
    }

    light setlightintensity( _id_BC94ADD9A6699813 );
}

_id_C7492D3E29E7F9FA()
{
    self notify( "count_down_thread" );
    self endon( "count_down_thread" );
    t = 0.0;

    for (;;)
    {
        t = t + 0.05;
        wait 0.05;
    }
}

_id_4EF13F007C96CA99()
{
    scripts\engine\utility::flag_wait( "missile_launch_sh010_playing" );
    thread _id_1D9B7DF075273463();
    thread _id_629743F610D5313C();
    thread _id_2FCCC3D9416BC55D();
    scripts\engine\utility::flag_wait( "missile_launch_sh020_playing" );
    thread _id_A33994C45B58B31F();
    thread _id_B3F5454E96F49E28();
    scripts\engine\utility::flag_wait( "missile_launch_anim_done" );
    thread _id_5FE25C4525AFE563();
    scripts\engine\utility::flag_wait( "missile_flyby_anim_done" );
    visionsetnaked( "", 0.0 );
    _id_6C21834AF994AA9D();
}

_id_629743F610D5313C()
{
    visionsetnaked( "strike_container_IGC_01", 0.0 );
    wait 11.0;
    visionsetnaked( "strike_container_IGC_02", 0.3 );
}

_id_A33994C45B58B31F()
{
    thread _id_66333407094917DD();
    visionsetnaked( "strike_container_IGC_03", 0.0 );
    wait 3.0;
    visionsetnaked( "strike_container_IGC_03_dense", 0.02 );
}

_id_5FE25C4525AFE563()
{
    visionsetnaked( "strike_missile_flyby", 0.0 );
    setsundirection( anglestoforward( ( -50, 90, 0 ) ) );
    setsaveddvar( "dvar_7E4D832C5798D718", "0 10 0" );
    setsaveddvar( "dvar_9AB6A766FC4E0C06", 0.35 );
    setsaveddvar( "dvar_4C14E16355AA5CB0", 1 );
    setsaveddvar( "dvar_4C14E46355AA6349", 2 );
}

_id_2FCCC3D9416BC55D()
{
    setsundirection( anglestoforward( ( -68, 155.7, 0 ) ) );
    setsaveddvar( "dvar_7E4D832C5798D718", "0 144 0" );
    setsaveddvar( "dvar_9AB6A766FC4E0C06", 0.35 );
    setsaveddvar( "dvar_4C14E16355AA5CB0", 2 );
    setsaveddvar( "dvar_4C14E46355AA6349", 2 );
    setsaveddvar( "dvar_1EA8544D78048529", 1 );
    setsaveddvar( "dvar_6157BE5FE5B7CD6E", 1 );
    setsaveddvar( "dvar_DD8E902514D20451", 0.5 );
    setsaveddvar( "dvar_6E3F8CEF6BE16B33", 1 );
    setsaveddvar( "dvar_ECA4B727B01FD254", 6 );
    setsaveddvar( "dvar_5D66C2EF5A9612E0", 0 );
    setsaveddvar( "dvar_F9190CD77B0B2463", 0.75 );
}

_id_B3F5454E96F49E28()
{
    setsundirection( anglestoforward( ( -68, 101, 0 ) ) );
    setsaveddvar( "dvar_7E4D832C5798D718", "0 136 0" );
    setsaveddvar( "dvar_9AB6A766FC4E0C06", 0.45 );
}

_id_6C21834AF994AA9D()
{
    setsaveddvar( "dvar_7E4D832C5798D718", "0 112 0" );
    setsundirection( anglestoforward( ( -68, 155.7, 0 ) ) );
    resetsundirection();
}

_id_1D9B7DF075273463()
{
    level._id_65A2741A76383B0B = getentarray( "midtro_rocket_light", "targetname" );

    foreach ( light in level._id_65A2741A76383B0B )
    {
        light.og_intensity = light getlightintensity();
        light setlightintensity( 0.0 );
    }
}

_id_66333407094917DD()
{
    if ( !isdefined( level._id_65A2741A76383B0B ) )
        return;

    wait 2.4;
    _id_245204370DD066AD = 1.0;

    foreach ( light in level._id_65A2741A76383B0B )
        light thread scripts\sp\lights::lerp_intensity( light.og_intensity, _id_245204370DD066AD );
}

_id_FA8104BC6715B400()
{
    visionsetnaked( "strike_overwatch_outro", 0.0 );
    setsundirection( anglestoforward( ( -68, 155.7, 0 ) ) );
    setsaveddvar( "dvar_5A83A561CB4970B2", 16000 );
    wait 3.35;
    visionsetnaked( "strike_explosion", 0.1 );
    wait 0.1;
    visionsetnaked( "strike_post_explosion", 8 );
}

_id_BEE08B9A24DCA195()
{
    setsaveddvar( "dvar_9AB6A766FC4E0C06", 0.15 );
    setsaveddvar( "dvar_4C14E16355AA5CB0", 3 );
    setsaveddvar( "dvar_4C14E46355AA6349", 4 );
    thread _id_E08534CA295C8029();
    thread _id_FA8104BC6715B400();
    scripts\engine\utility::flag_wait( "outro_anim_done" );
}

_id_7BFD4C00E80CCD5D()
{
    level._id_6BA2F634C7B0CFDB = getentarray( "outro_hero_light", "targetname" );

    foreach ( light in level._id_6BA2F634C7B0CFDB )
    {
        light.og_intensity = light getlightintensity();
        light setlightintensity( 0.0 );
    }

    level._id_36BF527DF05F31CB = getentarray( "outro_fire_light", "targetname" );

    foreach ( light in level._id_36BF527DF05F31CB )
    {
        light.og_intensity = light getlightintensity();
        light setlightintensity( 0.0 );
    }
}

_id_E08534CA295C8029()
{
    if ( !isdefined( level._id_6BA2F634C7B0CFDB ) || !isdefined( level._id_36BF527DF05F31CB ) )
        return;

    foreach ( light in level._id_6BA2F634C7B0CFDB )
        light setlightintensity( light.og_intensity );

    wait 2.0;
    _id_245204370DD066AD = 1.0;

    foreach ( light in level._id_36BF527DF05F31CB )
        light thread scripts\sp\lights::lerp_intensity( light.og_intensity, _id_245204370DD066AD );

    wait( _id_245204370DD066AD + 1.0 );

    foreach ( light in level._id_36BF527DF05F31CB )
        light thread scripts\sp\lights::lerp_intensity( 0.0, _id_245204370DD066AD );
}
