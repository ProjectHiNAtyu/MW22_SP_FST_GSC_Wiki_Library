// IW9 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

precache( offhand )
{
    scripts\sp\equipment\offhands::registeroffhandfirefunc( offhand, ::fragfiremain );
}

fragfiremain( grenade, weapon )
{
    grenade endon( "frag_deleted" );
    thread _id_0F4E8D02D2F70888::evaluateattackevent( "frag" );
    grenade thread notifyondelete();
    grenade waittill( "explode", origin );
    playrumbleonposition( "grenade_rumble", origin );
    earthquake( 0.38, 0.65, origin, 900 );
}

notifyondelete()
{
    self endon( "explode" );

    while ( isdefined( self ) )
        wait 0.05;

    self notify( "frag_deleted" );
}
