// IW9 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

black_screen()
{
    overlay = newhudelem();
    overlay.x = 0;
    overlay.y = 0;
    overlay setshader( "black", 640, 480 );
    overlay.alignx = "left";
    overlay.aligny = "top";
    overlay.sort = 1;
    overlay.horzalign = "fullscreen";
    overlay.vertalign = "fullscreen";
    overlay.alpha = 1;
    overlay.foreground = 0;
    return overlay;
}

_id_4B42567AFC5579C3()
{

}

_id_00E256029E30F1C4()
{

}

_id_EED166A97E91BC87()
{
    return self _meth_569AC32FF1837D7C( "gpadEnabled" );
}

_id_9050C8BFE043B51D( noteworthy )
{
    return scripts\engine\sp\utility::trigger_wait( noteworthy, "script_noteworthy" );
}

_id_D26404FA28607555( _id_5A888D1F754C231F )
{
    return _id_5A888D1F754C231F * 1000;
}

_id_35C3A57E094A2617( _id_22CD6AE7DCAE5E3F, _id_D3F1A68B570EF55D, _id_2BEB1F5955A331FF )
{
    _id_2BEB1F5955A331FF = scripts\engine\utility::_id_53C4C53197386572( _id_2BEB1F5955A331FF, 1 );

    if ( getdvarint( "dvar_0578D2896719CE75" ) == 1 )
        return;

    if ( _id_22CD6AE7DCAE5E3F != "none" )
    {
        if ( _id_2BEB1F5955A331FF )
            scripts\sp\utility::play_skippable_cinematic( _id_22CD6AE7DCAE5E3F );
        else
            scripts\sp\utility::play_skippable_cinematic( _id_22CD6AE7DCAE5E3F, "disable_skip" );
    }
    else
    {

    }
}

_id_53AD942F68DA1ABC( message )
{
    level endon( "stop_pulsing_message" );
    level notify( "stop_pulsing_message" );
}

_id_ED98697EB9B406A9( _id_16290C9DDA466BCE )
{
    return -1 * _id_16290C9DDA466BCE;
}

_id_0C31BD3B05608059( _id_6C9750573F9A9742, origin, angles, time )
{
    if ( self _meth_C4CCFB7335DE3E72() )
        self _meth_8FF8FD7841F6EBA2();

    wait 0.5;
    _id_3B314A693FCEE051 = _func_4358B309FDCC6D44( _id_6C9750573F9A9742 ) * time;
    _id_C1F3CC91D3A3A288 = _func_4358B309FDCC6D44( _id_6C9750573F9A9742 ) - _id_3B314A693FCEE051;
    iprintlnbold( "Skip time: " + _id_3B314A693FCEE051 + " | Shot length: " + _func_4358B309FDCC6D44( _id_6C9750573F9A9742 ) + " | Time dif: " + _id_C1F3CC91D3A3A288 );
    self _meth_33010A90BCF48DB4( _id_6C9750573F9A9742, 0, origin, angles, _id_3B314A693FCEE051 );
    wait( _id_C1F3CC91D3A3A288 );
    self notify( "shot_stopped" );
    self _meth_8FF8FD7841F6EBA2();
}

_id_1B4D1577363A1BBD( message )
{
    self.ent_flag[message] = !self.ent_flag[message];
}

_id_EB1327C165EB1226( _id_49FC2D1C19B0CD90, _id_1BEECE0C72F13CF1, _id_61416A7AF7DDDB93, _id_5DE828D53E2E4EBF, _id_8A1A4C6D9F2CB774 )
{
    _id_8A1A4C6D9F2CB774 = scripts\engine\utility::_id_53C4C53197386572( _id_8A1A4C6D9F2CB774, 0 );
    _id_103939096A50030D = vectornormalize( _id_1BEECE0C72F13CF1 - _id_49FC2D1C19B0CD90 );
    _id_2F3FF0CDBC2483F6 = _id_61416A7AF7DDDB93 - _id_49FC2D1C19B0CD90;
    t = vectordot( _id_103939096A50030D, _id_2F3FF0CDBC2483F6 );
    _id_FAE2F8846758E0E9 = _id_49FC2D1C19B0CD90 + _id_103939096A50030D * t;
    _id_0D73BDD3CCD0DF1C = lengthsquared( _id_61416A7AF7DDDB93 - _id_FAE2F8846758E0E9 );
    return _id_0D73BDD3CCD0DF1C < squared( _id_5DE828D53E2E4EBF );
}

_id_B51FFF6B420C2167( origin, radius, time )
{
    time = scripts\engine\utility::_id_53C4C53197386572( time, 7 );
    time = gettime() + time * 1000;

    while ( gettime() < time )
        wait 0.05;
}

_id_7A0BD1470481C863()
{
    level._id_20096C0FCCA0DC93 = level.player.origin;
    level.player hide();
    level.player.ignoreme = 1;
}

_id_CA6FDB6507C11146( _id_1E63749AC1D93C52 )
{
    level.player setorigin( _id_1E63749AC1D93C52 );
}

_id_ADDC829ABCD2C828()
{
    level.player setorigin( level._id_20096C0FCCA0DC93 );
    level._id_20096C0FCCA0DC93 = undefined;
    level.player show();
    level.player.ignoreme = 0;
}

_id_B831401568C40AF8()
{
    scripts\engine\sp\utility::set_start_location( "strike_overwatch_start", self );
}

_id_E376A2A1B419E02A()
{
    self endon( "death" );
    _id_625B90A0EB77BB25();
    wait 0.3;
}

_id_C9EA209D6966AAC5()
{
    self endon( "death" );
    _id_625B90A0EB77BB25();
}

_id_979AD8DF021CC9F7( _id_A7FE730C4B4ED74A )
{
    self endon( "death" );
    _id_400664C262BEE794();
    _id_9A74DA5BA2E42B14( _id_A7FE730C4B4ED74A );
    _id_C96A3A882632425E();
}

_id_400664C262BEE794()
{
    self endon( "death" );
    level.player thread _id_3B64EB40368C1450::set( "strike_use_radio", "cg_drawcrosshair", 0 );
    level.player thread _id_3B64EB40368C1450::set( "strike_use_radio", "reload", 0 );
    level.player thread _id_3B64EB40368C1450::set( "strike_use_radio", "weapon_switch", 0 );
    level.player thread _id_3B64EB40368C1450::set( "strike_use_radio", "autoreload", 0 );
    wait 0.2;

    if ( scripts\engine\utility::ent_flag( "scope_used" ) )
        return;

    if ( isalive( level.player ) )
        self forceplaygestureviewmodel( level.gestures["radio_use"], undefined, 1, 0, 1, 0 );
}

_id_C96A3A882632425E()
{
    self endon( "death" );
    level.player thread _id_3B64EB40368C1450::set( "strike_use_radio", "cg_drawcrosshair", 1 );
    level.player thread _id_3B64EB40368C1450::set( "strike_use_radio", "reload", 1 );
    level.player thread _id_3B64EB40368C1450::set( "strike_use_radio", "weapon_switch", 1 );
    level.player thread _id_3B64EB40368C1450::set( "strike_use_radio", "autoreload", 1 );

    if ( scripts\engine\utility::ent_flag( "scope_used" ) )
        return;

    if ( isalive( level.player ) )
        self stopgestureviewmodel( level.gestures["radio_use"] );
}

_id_625B90A0EB77BB25()
{
    self endon( "death" );

    while ( scripts\engine\utility::ent_flag( "scope_used" ) )
        waitframe();
}

_id_9A74DA5BA2E42B14( alias )
{
    wait 0.2;
    _id_5D265B4FCA61F070::say( alias );
}

_id_C7CDBFE8D938A136( _id_24F7120356B22344 )
{
    return ( _id_24F7120356B22344, _id_24F7120356B22344, _id_24F7120356B22344 );
}

fade_to_black( fade_time )
{
    overlay = scripts\sp\hud_util::create_client_overlay( "black", 0 );
    overlay fadeovertime( fade_time );
    overlay.alpha = 1.0;
    wait( fade_time );
}

_id_7D8CDFC996EBFB05( scale, duration, position )
{
    level.player earthquakeforplayer( scale, duration, position, 1000 );
    level.player playrumbleonpositionforclient( "artillery_rumble", position );
}

_id_BFCF7F27A638E230()
{
    loadout = spawnstruct();
    loadout.rifle = scripts\sp\utility::make_weapon_special( "iw9_ar_mcbravo_v1", undefined, "iw9_ar_mcbravo_bp" );
    loadout.sidearm = scripts\sp\utility::make_weapon( "iw9_pi_golf17_sp", [ "pgrip_tac_p24", "iw9_minireddot04_pstl", "mag_pi_large_p24", "silencer01_pi" ] );
    return loadout;
}

_id_FA8CCCA801D80D2C()
{
    _id_A23A0758F335E273 = _func_2387688936D207B1( "anim_ghost", "targetname" );
    _id_A23A0758F335E273.count = 1;
    _id_3CEF84D10F889AEC = _id_A23A0758F335E273 scripts\engine\sp\utility::spawn_ai( 1 );
    _id_3CEF84D10F889AEC detach( _id_3CEF84D10F889AEC.headmodel );
    _id_3CEF84D10F889AEC.headmodel = "head_sp_hero_ghost_desert_no_glasses_lod";
    _id_3CEF84D10F889AEC attach( _id_3CEF84D10F889AEC.headmodel );
    loadout = _id_BFCF7F27A638E230();
    _id_3CEF84D10F889AEC _id_3433EE6B63C7E243::forceuseweapon( loadout.rifle, "primary" );
    _id_3CEF84D10F889AEC _meth_E99626ADD202FE1A( 1 );
    _id_3CEF84D10F889AEC.script_friendname = "";
    _id_3CEF84D10F889AEC.name = _id_3CEF84D10F889AEC.script_friendname;
    return _id_3CEF84D10F889AEC;
}

_id_C555D1B78FB02537()
{
    return _id_C418440ADB8F6EC6( "graves", "head_hero_graves_lod" );
}

_id_C418440ADB8F6EC6( animname, head_model, _id_0B9D64DCE8EBEA6C )
{
    body = scripts\engine\sp\utility::spawn_anim_model( animname, ( 0, 0, 0 ) );
    body.headmodel = head_model;

    if ( isdefined( body.headmodel ) )
        body attach( body.headmodel );

    if ( isdefined( _id_0B9D64DCE8EBEA6C ) )
        body _id_4D29DEFE8B63603A( _id_0B9D64DCE8EBEA6C );

    return body;
}

_id_4D29DEFE8B63603A( _id_0B9D64DCE8EBEA6C )
{
    tag = "j_gun";
    gun = scripts\engine\sp\utility::spawn_anim_weapon( _id_0B9D64DCE8EBEA6C, self gettagorigin( tag ), self gettagangles( tag ) );
    gun linkto( self, tag );
}

_id_A9464E53AD10369C()
{
    level.player._id_F296F7E55B9E9150 = getdvarint( "dvar_B38FCF293D1E91A8" );
}

_id_CFD27C84A6D70AB8()
{
    level.player _meth_1D98630AA343510D( level.player._id_F296F7E55B9E9150, 1, 0.5, 0.5 );
    level.player._id_F296F7E55B9E9150 = undefined;
}

_id_75C402B55302CE6C( _id_CA85A0DE365C6A63 )
{
    _id_A4B8EF30B3D782C3 = level._id_CCE2D86C9CF3563B[_id_CA85A0DE365C6A63];
    fov = scripts\engine\utility::ter_op( isdefined( _id_A4B8EF30B3D782C3 ), _id_A4B8EF30B3D782C3, level.player._id_F296F7E55B9E9150 );
    level.player _meth_1D98630AA343510D( fov, 0 );
}

_id_A46AE4399C486ECD( _id_1561A580D280F0F1 )
{
    level.player _meth_1D98630AA343510D( _id_1561A580D280F0F1, 0 );
}

_id_394734AC0F771395()
{
    player_rig = scripts\engine\sp\utility::spawn_anim_model( "player_rig", ( 0, 0, 0 ) );
    player_rig hide();
    player_rig _meth_8BAA620B49E2BEBA();
    return player_rig;
}

_id_696DB97B12DEE715( create_player_rig, _id_18AEBC26D7795251 )
{
    create_player_rig = scripts\engine\utility::_id_53C4C53197386572( create_player_rig, 1 );
    _id_18AEBC26D7795251 = scripts\engine\utility::_id_53C4C53197386572( _id_18AEBC26D7795251, 1 );

    if ( _id_18AEBC26D7795251 )
        level._id_066398E5BC5A7E14 = scripts\engine\utility::_id_53C4C53197386572( level._id_066398E5BC5A7E14, _id_FA8CCCA801D80D2C() );

    level.player thread _id_3B64EB40368C1450::set( "strike_igc_anim", "weapon", 0 );

    if ( create_player_rig )
    {
        level.player_rig = scripts\engine\utility::_id_53C4C53197386572( level.player_rig, _id_394734AC0F771395() );
        level.player playerlinkto( level.player_rig, "tag_player" );
        level.player playerlinktodelta( level.player_rig, "tag_player", 0, 0, 0, 0, 0 );
    }
}

_id_C45BA8F429DBCAFD( _id_44CCC002EC058BC7 )
{
    _id_44CCC002EC058BC7 = scripts\engine\utility::_id_53C4C53197386572( _id_44CCC002EC058BC7, 0.5 );

    if ( isdefined( level._id_066398E5BC5A7E14 ) )
    {
        level._id_066398E5BC5A7E14 delete();
        level._id_066398E5BC5A7E14 = undefined;
    }

    if ( isdefined( level.player_rig ) )
    {
        level.player _meth_AF4B9B0F0E7C6C42( _id_44CCC002EC058BC7 );
        level.player_rig delete();
        level.player_rig = undefined;
        level.player notify( "player_rig_unlinked" );
    }

    level.player _id_3B64EB40368C1450::_id_462E6336A0DC84A8( "strike_igc_anim", "weapon" );
}

_id_AE884D53DE8FE220( ents )
{
    foreach ( ent in ents )
        ent dontinterpolate();
}

_id_4DD4FF86EDC8A7CB()
{
    return length( level.player getvelocity() ) > 5;
}

_id_475FE383999C5286( ent )
{
    if ( isdefined( ent ) )
        ent delete();
}

_id_1B8B279CF9721DD9( _id_CD8195C935C24CCC )
{
    if ( isdefined( _id_CD8195C935C24CCC ) )
        _id_CD8195C935C24CCC destroy();
}

_id_79CE3D421EF5E5B7( icon )
{
    if ( isdefined( icon ) && icon != -1 )
        deleteheadicon( icon );
}

_id_613CAE768DD7E87F( _id_3F594777B26BB842 )
{
    _id_1ED3E67D8921969E = scripts\sp\utility::userskip_wait();

    if ( !_id_1ED3E67D8921969E )
        return;

    scripts\sp\hud_util::fade_out( 0, "black" );
    wait 0.1;
    thread scripts\sp\hud_util::fade_in( 1, "black" );
    _id_5D265B4FCA61F070::_id_54D3BD59BFF7E908();
    scripts\engine\utility::flag_set( _id_3F594777B26BB842 );
    scripts\sp\utility::userskip_stop();
}

level_setendofscripting( delay )
{
    if ( isdefined( delay ) )
        wait( delay );

    iprintlnbold( "End of Scripting" );
    _id_F69BA8D7B96E8326 = 1.0;
    overlay = scripts\sp\hud_util::create_client_overlay( "black", 0 );
    overlay fadeovertime( _id_F69BA8D7B96E8326 );
    overlay.alpha = 1.0;
    wait( _id_F69BA8D7B96E8326 );
    scripts\engine\sp\utility::nextmission();
}

_id_8C951AD58A886A7B( function )
{
    if ( isdefined( function ) )
        self [[ function ]]();
}

_id_FFC7A1716E646BFF()
{
    return anglestoforward( level.player getplayerangles() );
}

_id_4D417B26A3016B20()
{
    return anglestoright( level.player getplayerangles() );
}

_id_3E89C493C4BC093F()
{
    return anglestoup( level.player getplayerangles() );
}

_id_EE3AFE80A2918F7A()
{
    return _id_ED98697EB9B406A9( _id_3E89C493C4BC093F() );
}

_id_53AF6138DAE4F52F()
{
    return _id_ED98697EB9B406A9( _id_4D417B26A3016B20() );
}

_id_9F219BB151515501()
{
    scripts\engine\utility::kill_exploder( "heathaze_zoom_1" );
    scripts\engine\utility::kill_exploder( "heathaze_zoom_2" );
    scripts\engine\utility::exploder( "heathaze_normal" );
    thread _id_68345A6B719A553C::_id_8AD0E9FFC375CDE4();
}

give_spotter_scope( _id_108BEB8461FCB2D9, _id_E9AA66FEF184D4BE, _id_54A7A96BADE865A3, _id_72E27F1D0FA5B9AA )
{
    level._id_FC4F13D1550877E0._id_02616D3DD1D52992 = 0;
    scripts\engine\utility::ent_flag_init( "scope_used" );
    scripts\engine\utility::ent_flag_init( "scope_zoomed" );
    self._id_E9AA66FEF184D4BE = _id_E9AA66FEF184D4BE;
    scripts\engine\sp\utility::give_offhand( "offhand_spotter_scope", undefined, [ "iw9_spotterscope_offhand_vz" ] );
    thread _id_251723A4ACD56FFC( _id_108BEB8461FCB2D9, _id_E9AA66FEF184D4BE, _id_54A7A96BADE865A3, _id_72E27F1D0FA5B9AA );
}

_id_0C41C5C361E620BD()
{
    self notify( "spotter_taken_away" );
    scripts\engine\utility::ent_flag_clear( "scope_used" );
    _id_8C951AD58A886A7B( self._id_E9AA66FEF184D4BE );
    thread _id_68345A6B719A553C::_id_8AD0E9FFC375CDE4();
}

_id_251723A4ACD56FFC( _id_108BEB8461FCB2D9, _id_E9AA66FEF184D4BE, _id_54A7A96BADE865A3, _id_72E27F1D0FA5B9AA )
{
    level endon( "spotter_taken_away" );
    level.player notifyonplayercommand( "alt_offhand_raise", "+equip_toggle_throw" );
    childthread _id_732D9C37383E3029( _id_108BEB8461FCB2D9, _id_54A7A96BADE865A3, _id_72E27F1D0FA5B9AA );
    childthread _id_7CE88ACA3498C90F( _id_E9AA66FEF184D4BE );
    childthread _id_61779CDD9960C405( _id_54A7A96BADE865A3, _id_72E27F1D0FA5B9AA );
}

_id_61779CDD9960C405( _id_54A7A96BADE865A3, _id_72E27F1D0FA5B9AA )
{
    for (;;)
    {
        switch ( level.player playergetzoomlevelindex() )
        {
            case 0:
                if ( scripts\engine\utility::ent_flag( "scope_zoomed" ) )
                {
                    scripts\engine\utility::ent_flag_clear( "scope_zoomed" );
                    thread _id_8C951AD58A886A7B( _id_72E27F1D0FA5B9AA );
                }

                break;
            case 1:
                if ( !scripts\engine\utility::ent_flag( "scope_zoomed" ) )
                {
                    scripts\engine\utility::ent_flag_set( "scope_zoomed" );
                    thread _id_8C951AD58A886A7B( _id_54A7A96BADE865A3 );
                }

                break;
            default:
                break;
        }

        waitframe();
    }
}

_id_732D9C37383E3029( _id_108BEB8461FCB2D9, _id_54A7A96BADE865A3, _id_72E27F1D0FA5B9AA )
{
    for (;;)
    {
        scripts\engine\utility::waittill_any( "frag_pressed", "alt_offhand_raise" );

        if ( scripts\engine\utility::ent_flag( "scope_used" ) )
            continue;

        scripts\engine\utility::ent_flag_set( "scope_used" );
        thread _id_8C951AD58A886A7B( _id_108BEB8461FCB2D9 );
    }
}

_id_7CE88ACA3498C90F( _id_E9AA66FEF184D4BE )
{
    for (;;)
    {
        if ( !isdefined( self._id_3F3D082C1CE72A0D ) )
            self._id_3F3D082C1CE72A0D = 1;

        scripts\engine\utility::waittill_any( "frag_released", "alt_offhand_raise" );

        if ( self _meth_61C258EACEE448B2() )
            self._id_3F3D082C1CE72A0D = !self._id_3F3D082C1CE72A0D;
        else
            self._id_3F3D082C1CE72A0D = 1;

        if ( !scripts\engine\utility::ent_flag( "scope_used" ) )
            continue;

        if ( !self._id_3F3D082C1CE72A0D )
            continue;

        scripts\engine\utility::ent_flag_clear( "scope_used" );
        thread _id_8C951AD58A886A7B( _id_E9AA66FEF184D4BE );
    }
}

_id_218F857CE750313F()
{

}

_id_16E2ABB97039F7E7()
{

}
