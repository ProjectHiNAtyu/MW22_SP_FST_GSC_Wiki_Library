// IW9 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

main()
{

}

setup_names()
{
    if ( isdefined( level.names ) )
        return;

    _id_751FFAEBFD2F0181["unitednations"] = 0;
    _id_751FFAEBFD2F0181["unitednationsfemale"] = 1;
    _id_751FFAEBFD2F0181["unitedstates"] = 0;
    _id_751FFAEBFD2F0181["unitedstatesfemale"] = 1;
    _id_751FFAEBFD2F0181["sas"] = 0;
    _id_751FFAEBFD2F0181["sasfemale"] = 1;
    _id_751FFAEBFD2F0181["fsa"] = 4;
    _id_751FFAEBFD2F0181["fsafemale"] = 5;
    _id_751FFAEBFD2F0181["alqatala"] = 2;
    _id_751FFAEBFD2F0181["alqatalafemale"] = 3;
    _id_751FFAEBFD2F0181["russian"] = 6;
    _id_751FFAEBFD2F0181["cartel"] = 8;
    _id_751FFAEBFD2F0181["mexicanspecialforces"] = 8;
    _id_751FFAEBFD2F0181["mexicanspecialforcesfemale"] = 8;
    _id_751FFAEBFD2F0181["mexicanarmy"] = 8;
    _id_751FFAEBFD2F0181["shadowcompany"] = 0;

    foreach ( _id_8E5A9B658FA525ED, _id_5E9770323AA54F5B in _id_751FFAEBFD2F0181 )
    {
        level.names[_id_8E5A9B658FA525ED] = [];

        if ( _id_5E9770323AA54F5B < 0 )
            continue;

        table_get_names( _id_8E5A9B658FA525ED, _id_5E9770323AA54F5B );
    }

    init_script_friendnames();

    foreach ( _id_8E5A9B658FA525ED, _id_5E9770323AA54F5B in _id_751FFAEBFD2F0181 )
    {
        remove_script_friendnames_from_list( _id_8E5A9B658FA525ED );
        randomize_name_list( _id_8E5A9B658FA525ED );
        level.nameindex[_id_8E5A9B658FA525ED] = 0;
    }

    _id_751FFAEBFD2F0181 = undefined;
}

table_get_names( _id_8E5A9B658FA525ED, _id_5E9770323AA54F5B )
{
    _id_E159EDF45C50DBE2 = tablelookuprownum( "sp/names.csv", _id_5E9770323AA54F5B, "__END__" );
    _id_6D906809844C7CB1 = [];

    for ( _id_AC0E594AC96AA3A8 = 0; _id_AC0E594AC96AA3A8 < _id_E159EDF45C50DBE2; _id_AC0E594AC96AA3A8++ )
        _id_6D906809844C7CB1[_id_AC0E594AC96AA3A8] = _id_AC0E594AC96AA3A8;

    _id_6D906809844C7CB1 = scripts\engine\utility::array_randomize( _id_6D906809844C7CB1 );
    limit = min( 50, _id_E159EDF45C50DBE2 );

    for ( _id_AC0E594AC96AA3A8 = 0; _id_AC0E594AC96AA3A8 < limit; _id_AC0E594AC96AA3A8++ )
        add_name_from_table( _id_8E5A9B658FA525ED, _id_6D906809844C7CB1[_id_AC0E594AC96AA3A8], _id_5E9770323AA54F5B );

    _id_6D906809844C7CB1 = undefined;
}

add_name_from_table( _id_8E5A9B658FA525ED, _id_71C6648A89E9B390, _id_5E9770323AA54F5B )
{
    name = tablelookupbyrow( "sp/names.csv", _id_71C6648A89E9B390, _id_5E9770323AA54F5B );
    add_name( _id_8E5A9B658FA525ED, name );
}

copy_names( _id_DB46F2175A94CE91, _id_242F4F6D24F1AD68 )
{
    level.names[_id_DB46F2175A94CE91] = level.names[_id_242F4F6D24F1AD68];
}

add_name( _id_8E5A9B658FA525ED, _id_FE5613325FEAC573 )
{
    level.names[_id_8E5A9B658FA525ED][level.names[_id_8E5A9B658FA525ED].size] = _id_FE5613325FEAC573;
}

add_names( _id_8E5A9B658FA525ED, _id_421137C8F14F3F00 )
{
    foreach ( _id_FE5613325FEAC573 in _id_421137C8F14F3F00 )
        level.names[_id_8E5A9B658FA525ED][level.names[_id_8E5A9B658FA525ED].size] = _id_FE5613325FEAC573;
}

remove_name( _id_8E5A9B658FA525ED, _id_FE5613325FEAC573 )
{
    level.names[_id_8E5A9B658FA525ED] = scripts\engine\utility::array_remove( level.names[_id_8E5A9B658FA525ED], _id_FE5613325FEAC573 );
}

init_script_friendnames()
{
    script_friendnames = [];
    spawners = _func_91E8F01DD90DE05A();
    _id_8BAB3203A26744B8 = getaiarray();

    foreach ( spawner in spawners )
    {
        if ( isdefined( spawner.script_friendname ) && spawner.script_friendname != "none" )
        {
            name = normalize_script_friendname( spawner.script_friendname );
            script_friendnames[script_friendnames.size] = name;
        }
    }

    foreach ( ai in _id_8BAB3203A26744B8 )
    {
        if ( isdefined( ai.script_friendname ) && ai.script_friendname != "none" )
        {
            name = normalize_script_friendname( ai.script_friendname );
            script_friendnames[script_friendnames.size] = name;
        }
    }

    level.script_friendnames = script_friendnames;
}

normalize_script_friendname( name )
{
    _id_67F14F8315CB0F2F = strtok( name, " " );

    if ( _id_67F14F8315CB0F2F.size > 1 )
        name = _id_67F14F8315CB0F2F[1];

    return name;
}

remove_script_friendnames_from_list( _id_8E5A9B658FA525ED )
{
    foreach ( _id_F22DE6D0FFCA183C in level.script_friendnames )
    {
        foreach ( _id_411AD48615E31134 in level.names[_id_8E5A9B658FA525ED] )
        {
            if ( _id_F22DE6D0FFCA183C == _id_411AD48615E31134 )
                remove_name( _id_8E5A9B658FA525ED, _id_411AD48615E31134 );
        }
    }
}

randomize_name_list( _id_8E5A9B658FA525ED )
{
    _id_A61C75B156FC1EE0 = level.names[_id_8E5A9B658FA525ED].size;

    for ( _id_AC0E594AC96AA3A8 = 0; _id_AC0E594AC96AA3A8 < _id_A61C75B156FC1EE0; _id_AC0E594AC96AA3A8++ )
    {
        _id_AFE2BC520FC88E81 = randomint( _id_A61C75B156FC1EE0 );
        temp = level.names[_id_8E5A9B658FA525ED][_id_AC0E594AC96AA3A8];
        level.names[_id_8E5A9B658FA525ED][_id_AC0E594AC96AA3A8] = level.names[_id_8E5A9B658FA525ED][_id_AFE2BC520FC88E81];
        level.names[_id_8E5A9B658FA525ED][_id_AFE2BC520FC88E81] = temp;
    }
}

get_name( override )
{
    if ( isdefined( self.team ) && self.team == "neutral" )
        return;

    getcallsign();

    if ( isdefined( self.script_friendname ) )
    {
        if ( self.script_friendname == "none" )
            return;

        self.name = self.script_friendname;
        getrankfromname( self.name );
        self notify( "set name and rank" );
        return;
    }

    get_name_for_nationality( self.voice );
    self notify( "set name and rank" );
}

get_name_for_nationality( _id_8E5A9B658FA525ED )
{
    level.nameindex[_id_8E5A9B658FA525ED] = ( level.nameindex[_id_8E5A9B658FA525ED] + 1 ) % level.names[_id_8E5A9B658FA525ED].size;
    name = level.names[_id_8E5A9B658FA525ED][level.nameindex[_id_8E5A9B658FA525ED]];
    _id_00AE17C5A8B1BC1B = randomint( 10 );

    if ( nationalityusessurnames( _id_8E5A9B658FA525ED ) )
    {
        _id_950ABBBB5D12325F = _id_8E5A9B658FA525ED + "_surnames";
        level.nameindex[_id_950ABBBB5D12325F] = ( level.nameindex[_id_950ABBBB5D12325F] + 1 ) % level.names[_id_950ABBBB5D12325F].size;
        name = name + " " + level.names[_id_950ABBBB5D12325F][level.nameindex[_id_950ABBBB5D12325F]];
    }

    if ( nationalityusescallsigns( _id_8E5A9B658FA525ED ) )
    {
        _id_1B47EC827F34BD5B = name;
        self.airank = "private";
    }
    else
    {
        _id_00AE17C5A8B1BC1B = getrank( _id_8E5A9B658FA525ED, _id_00AE17C5A8B1BC1B );
        _id_1B47EC827F34BD5B = _id_00AE17C5A8B1BC1B + name;
        self.airank = "sergeant";
    }

    if ( isai( self ) && self isbadguy() )
        self.ainame = _id_1B47EC827F34BD5B;
    else
        self.name = _id_1B47EC827F34BD5B;
}

getcallsign()
{
    if ( isdefined( self.script_callsign ) )
    {
        if ( self.script_callsign == "none" )
            return;

        self.callsign = self.script_callsign;
        return;
    }
}

getrank( _id_8E5A9B658FA525ED, _id_00AE17C5A8B1BC1B )
{
    if ( _id_8E5A9B658FA525ED == "unitednations" )
    {
        if ( _id_00AE17C5A8B1BC1B > 5 )
        {
            self.airank = "private";
            return "Cst. ";
        }
        else if ( _id_00AE17C5A8B1BC1B > 2 )
        {
            self.airank = "private";
            return "Sgt. ";
        }
        else
        {
            self.airank = "sergeant";
            return "Insp. ";
        }
    }
    else if ( _id_8E5A9B658FA525ED == "sas" )
    {
        if ( _id_00AE17C5A8B1BC1B > 5 )
        {
            self.airank = "private";
            return "Pte. ";
        }
        else if ( _id_00AE17C5A8B1BC1B > 2 )
        {
            self.airank = "private";
            return "Cpl. ";
        }
        else
        {
            self.airank = "sergeant";
            return "Sgt. ";
        }
    }
    else if ( _id_00AE17C5A8B1BC1B > 5 )
    {
        self.airank = "private";
        return "Pvt. ";
    }
    else if ( _id_00AE17C5A8B1BC1B > 2 )
    {
        self.airank = "private";
        return "Cpl. ";
    }
    else
    {
        self.airank = "sergeant";
        return "Sgt. ";
    }
}

getrankfromname( name )
{
    if ( !isdefined( name ) )
        self.airank = "private";

    _id_67F14F8315CB0F2F = strtok( name, " " );
    _id_2898C01F7EAE7A63 = _id_67F14F8315CB0F2F[0];

    switch ( _id_2898C01F7EAE7A63 )
    {
        case "Pvt.":
            self.airank = "private";
            break;
        case "Pfc.":
            self.airank = "private";
            break;
        case "Agent":
            self.airank = "private";
            break;
        case "Cpl.":
            self.airank = "corporal";
            break;
        case "Sgt.":
            self.airank = "sergeant";
            break;
        case "Lt.":
            self.airank = "lieutenant";
            break;
        case "Cpt.":
            self.airank = "captain";
            break;
        default:
            self.airank = "private";
            break;
    }
}

nationalityusescallsigns( _id_8E5A9B658FA525ED )
{
    switch ( _id_8E5A9B658FA525ED )
    {
        case "fsa":
        case "fsafemale":
            return 1;
    }

    return 0;
}

nationalityusessurnames( _id_8E5A9B658FA525ED )
{
    return isdefined( level.names[_id_8E5A9B658FA525ED + "_surnames"] );
}
