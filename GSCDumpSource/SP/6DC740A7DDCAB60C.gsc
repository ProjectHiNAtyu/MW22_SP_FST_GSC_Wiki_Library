// IW9 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

_id_C396D07D3F8EB204()
{
    scripts\engine\utility::flag_init( "missile_called" );
    scripts\engine\utility::flag_init( "missile_launch_sh010_playing" );
    scripts\engine\utility::flag_init( "missile_launch_sh020_playing" );
    scripts\engine\utility::flag_init( "missile_launch_anim_done" );
    scripts\engine\utility::flag_init( "missile_flying_sh010_playing" );
    scripts\engine\utility::flag_init( "missile_flying_sh020_playing" );
    scripts\engine\utility::flag_init( "missile_flyby_anim_done" );
    scripts\engine\utility::flag_init( "missile_launched" );
    scripts\engine\utility::flag_init( "missile_exploded" );
    scripts\engine\utility::flag_init( "missile_left_canyon" );
    scripts\engine\utility::flag_init( "missile_strike_success" );
}

_id_D2B3DA03ADF97DD3()
{
    setdvarifuninitialized( "dvar_818BD12FE634FFE9", 0 );
}

_id_8CFC2811BDBF47DF()
{
    scripts\engine\sp\utility::add_hint_string( "missile_boosters", &"STRIKE/TUTORIAL_MISSILE_BOOSTERS" );
    scripts\engine\sp\utility::add_hint_string( "steer_missile", &"STRIKE/TUTORIAL_MISSILE_STEER", _id_50924364DF2B5579::_id_BC6748FA0CABAFE7 );
    scripts\engine\sp\utility::add_hint_string( "flight_invert", &"STRIKE/FLIGHT_INVERT", ::_id_6C3F5A3F2A0809EA );
}

_id_6C3F5A3F2A0809EA()
{
    return level.player reloadbuttonpressed();
}

_id_55F5B27DDF8E55AB()
{
    _id_2302EB019AEEC2B3::_id_D963976FC25AD23F();
    level.player _id_79FB381FD77D2642::_id_E376A2A1B419E02A();
    level.player _id_79FB381FD77D2642::_id_B831401568C40AF8();
    _id_2302EB019AEEC2B3::_id_B3F096B1124E2210();
}

_id_FA83410DE7BE4647()
{
    _id_1096BC9315122E88::_id_D1A8270C167E8A4F( "strike_task_01", "stop", "completed" );
    _id_1096BC9315122E88::_id_D1A8270C167E8A4F( "strike_task_02", "start" );
    thread _id_55FA4E381FA031CB();
    thread _id_C5FD71F9D3C25917();
    scripts\engine\utility::flag_wait( "missile_called" );
    level.player takeallweapons();
    _id_79FB381FD77D2642::_id_9F219BB151515501();
    _id_79FB381FD77D2642::_id_1B8B279CF9721DD9( level._id_47F211362E2945AE );
}

_id_49B2E5A1AE0AA284()
{
    scripts\engine\utility::flag_set( "missile_called" );
}

_id_55FA4E381FA031CB()
{
    scripts\engine\utility::flag_wait( "overwatch_vo_done" );
    level._id_0D0D86A5364DB0CB _id_5D265B4FCA61F070::say( "dx_sp_hell_peak_lasw_copyallstationstarge" );
    level._id_01BF6EA71AAAF0EE _id_5D265B4FCA61F070::say( "dx_sp_hell_peak_shep_shadow1youarecleared" );
    level._id_E3BF2B6FB9AF5BF7 _id_5D265B4FCA61F070::say( "dx_sp_hell_peak_grav_rogerthatactual" );
    scripts\engine\utility::flag_set( "missile_called" );
}

_id_C5FD71F9D3C25917()
{
    setmusicstate( "mx_strike_missilefire" );
}

_id_6C0BBB65D311B977()
{
    level.player _id_79FB381FD77D2642::_id_B831401568C40AF8();
    _id_2302EB019AEEC2B3::_id_D963976FC25AD23F();
    _id_2302EB019AEEC2B3::_id_B3F096B1124E2210();
}

_id_9DA5FFD3E0605933()
{
    level.player scripts\engine\utility::delaycall( 5.0, ::clearsoundsubmix, "iw9_sp_music_down", 2.5 );

    while ( level.player isinfreefall() )
        waitframe();

    while ( !isalive( level.player ) )
        waitframe();

    level.player thread _id_128D5218ACACB1A6::_id_33A87BC008897C8B( ( -92399.3, 24687.4, 6997.05 ), ( -92399.3, 22383.4, 6997.05 ) );
    _id_79FB381FD77D2642::_id_35C3A57E094A2617( "sp_str_cine_midtro", [ _id_1CBAF9E00CD9EE9C::_id_92732CF20D3B00E3, _id_1CBAF9E00CD9EE9C::_id_56CCDA0E295C9038 ], 0 );
}

_id_C6F0E306F39A4CA8()
{
    scripts\engine\utility::flag_set( "missile_launch_anim_done" );
}

_id_9791B53A4AE6B688()
{
    _id_2302EB019AEEC2B3::_id_D963976FC25AD23F();
    _id_2302EB019AEEC2B3::_id_B3F096B1124E2210();
    _id_2302EB019AEEC2B3::_id_D776CF84A9041C16();
    level.player thread _id_128D5218ACACB1A6::_id_33A87BC008897C8B( ( -92399.3, 24687.4, 6997.05 ), ( -92399.3, 22383.4, 6997.05 ) );
}

_id_2732844B954B73B6()
{
    scripts\engine\utility::flag_set( "missile_launched" );
    level thread _id_14D0AED9A9D09785();
    level._id_3B17AA81D6BFB3C5 = 999;
    scripts\sp\autosave::_autosave_game_now( 1, undefined, 1 );
    thread _id_18446F68F9DD53C8();
    thread _id_3FBC5B83E70E9839();
    thread _id_68345A6B719A553C::_id_A901134AE2A2CA92();
    _id_79FB381FD77D2642::_id_A9464E53AD10369C();
    level.player takeallweapons();
    level.player setstance( "stand", 1, 1, 1 );
    level.player.og_fov = getdvarint( "dvar_DF1DC712C4A91588" );
    level.player _meth_1D98630AA343510D( 95 );
    thread missile_logic( ( -92399.3, 24687.4, 6997.05 ), ( -92399.3, 22383.4, 6997.05 ) );
}

_id_3FBC5B83E70E9839()
{
    scripts\engine\utility::exploder( "missile_flight" );
    setsaveddvar( "dvar_DAB366F405822E6C", 0.002 );
    setsaveddvar( "dvar_83BBE73116F488D6", "0.85" );
}

_id_5EDCE18F95E9D07F()
{
    scripts\engine\utility::kill_exploder( "missile_flight" );
    setsaveddvar( "dvar_DAB366F405822E6C", 0.001 );
    visionsetnaked( "", 0 );
}

_id_14D0AED9A9D09785()
{
    wait 0.5;
    level._id_ACDEE83AAE8EB6EA = spawn( "script_origin", ( -83642, 1445, 6112 ) );
    level._id_ACDEE83AAE8EB6EA playloopsound( "vel_strike_flight_earth_01" );
    level._id_ACDEE73AAE8EB4B7 = spawn( "script_origin", ( -79462, -9555, 5392 ) );
    level._id_ACDEE73AAE8EB4B7 playloopsound( "vel_strike_flight_earth_02" );
    level._id_ACDEE63AAE8EB284 = spawn( "script_origin", ( -70538, -6498, 5301 ) );
    level._id_ACDEE63AAE8EB284 playloopsound( "vel_strike_flight_earth_01" );
    level._id_ACDEE53AAE8EB051 = spawn( "script_origin", ( -47691, 5358, 4451 ) );
    level._id_ACDEE53AAE8EB051 playloopsound( "vel_strike_flight_earth_02" );
    level._id_ACDEE43AAE8EAE1E = spawn( "script_origin", ( -31373, 7947, 2922 ) );
    level._id_ACDEE43AAE8EAE1E playloopsound( "vel_strike_flight_earth_01" );
    level._id_ACDEE33AAE8EABEB = spawn( "script_origin", ( -24728, 5342, 3468 ) );
    level._id_ACDEE33AAE8EABEB playloopsound( "vel_strike_flight_earth_02" );
    level._id_ACDEE23AAE8EA9B8 = spawn( "script_origin", ( -16937, 9396, 3024 ) );
    level._id_ACDEE23AAE8EA9B8 playloopsound( "vel_strike_flight_earth_01" );
}

_id_DD9DEDB2A8FCFB6F()
{
    if ( isdefined( level._id_95A2640E8C2F125C ) )
        level._id_95A2640E8C2F125C thread scripts\engine\sp\utility::sound_fade_and_delete( 0.05, 1 );

    if ( isdefined( level._id_C35906D57C41ED60 ) )
        level._id_C35906D57C41ED60 stopsounds();

    if ( isdefined( level._id_D1C73D5538A80325 ) )
        level._id_D1C73D5538A80325 stopsounds();

    if ( isdefined( level._id_0AE17E9E7A0A8E9A ) )
    {
        level._id_0AE17E9E7A0A8E9A stoploopsound( "scn_strike_missile_flight_lp_banking_01_lr" );
        level._id_0AE17E9E7A0A8E9A scripts\engine\utility::delaycall( 0.1, ::delete );
    }

    if ( isdefined( level._id_ACDEE83AAE8EB6EA ) )
        level._id_ACDEE83AAE8EB6EA stoploopsound( "vel_strike_flight_earth_01" );

    if ( isdefined( level._id_ACDEE73AAE8EB4B7 ) )
        level._id_ACDEE73AAE8EB4B7 stoploopsound( "vel_strike_flight_earth_02" );

    if ( isdefined( level._id_ACDEE63AAE8EB284 ) )
        level._id_ACDEE63AAE8EB284 stoploopsound( "vel_strike_flight_earth_01" );

    if ( isdefined( level._id_ACDEE53AAE8EB051 ) )
        level._id_ACDEE53AAE8EB051 stoploopsound( "vel_strike_flight_earth_02" );

    if ( isdefined( level._id_ACDEE43AAE8EAE1E ) )
        level._id_ACDEE43AAE8EAE1E stoploopsound( "vel_strike_flight_earth_01" );

    if ( isdefined( level._id_ACDEE33AAE8EABEB ) )
        level._id_ACDEE33AAE8EABEB stoploopsound( "vel_strike_flight_earth_02" );

    if ( isdefined( level._id_ACDEE23AAE8EA9B8 ) )
        level._id_ACDEE23AAE8EA9B8 stoploopsound( "vel_strike_flight_earth_01" );

    wait 0.1;

    if ( isdefined( level._id_C35906D57C41ED60 ) )
        level._id_C35906D57C41ED60 delete();

    if ( isdefined( level._id_95A2640E8C2F125C ) )
        level._id_95A2640E8C2F125C delete();

    if ( isdefined( level._id_ACDEE83AAE8EB6EA ) )
        level._id_ACDEE83AAE8EB6EA delete();

    if ( isdefined( level._id_ACDEE73AAE8EB4B7 ) )
        level._id_ACDEE73AAE8EB4B7 delete();

    if ( isdefined( level._id_ACDEE63AAE8EB284 ) )
        level._id_ACDEE63AAE8EB284 delete();

    if ( isdefined( level._id_ACDEE53AAE8EB051 ) )
        level._id_ACDEE53AAE8EB051 delete();

    if ( isdefined( level._id_ACDEE43AAE8EAE1E ) )
        level._id_ACDEE43AAE8EAE1E delete();

    if ( isdefined( level._id_ACDEE33AAE8EABEB ) )
        level._id_ACDEE33AAE8EABEB delete();

    if ( isdefined( level._id_ACDEE23AAE8EA9B8 ) )
        level._id_ACDEE23AAE8EA9B8 delete();
}

_id_20985980723E99BF()
{
    scripts\engine\utility::flag_set( "missile_left_canyon" );
    level._id_3B17AA81D6BFB3C5 = 999;
}

_id_D5B4FEEA0DC4F1F7()
{
    _id_5D257B10F1E30396 = 2;
    scripts\engine\sp\utility::display_hint( "steer_missile", _id_5D257B10F1E30396, undefined, level.player, "stop_steering_hint" );
    wait( _id_5D257B10F1E30396 );
    wait 0.5;

    if ( level.player usinggamepad() )
        value = level.player _meth_569AC32FF1837D7C( "invertPitchGamepad" ) || level.player _meth_569AC32FF1837D7C( "invertPitchFlyingGamepad" );
    else
        value = level.player _meth_569AC32FF1837D7C( "invertPitchVehicleFlyingKBM" );

    thread _id_6E5B1D9090C72896();
    _id_5628849164B3B405 = 3;
    scripts\engine\sp\utility::display_hint_forced( "flight_invert", _id_5628849164B3B405, undefined, level.player, "force_remove_invert_hint" );
    wait( _id_5628849164B3B405 );
    level notify( "stop_checking_pitch" );
}

_id_6E5B1D9090C72896()
{
    level endon( "stop_checking_pitch" );
    level.player waittill( "reload_pressed" );
    level.player playrumbleonentity( "damage_heavy" );

    if ( level.player usinggamepad() )
    {
        _id_E2F31DD91529A10C = "invertPitchFlyingGamepad";
        value = level.player _meth_569AC32FF1837D7C( "invertPitchGamepad" ) || level.player _meth_569AC32FF1837D7C( _id_E2F31DD91529A10C );
        level.player _meth_98122FA7C7A078D8( "invertPitchGamepad", 0 );
    }
    else
    {
        _id_E2F31DD91529A10C = "invertPitchVehicleFlyingKBM";
        value = level.player _meth_569AC32FF1837D7C( _id_E2F31DD91529A10C );
    }

    if ( value >= 1 )
        value = 0;
    else
        value = 1;

    level.player _meth_98122FA7C7A078D8( _id_E2F31DD91529A10C, value );
}

missile_logic( _id_4E5348300548819D, _id_6C75C181184CFC4B )
{
    level.player thread _id_128D5218ACACB1A6::runcruisepredator( 0, _id_4E5348300548819D, _id_6C75C181184CFC4B );
    _id_917A7C4A4FE1DA75();
    level._id_D1C73D5538A80325 scripts\engine\utility::ent_flag_init( "cruise_missile_boosted" );
    level._id_D1C73D5538A80325 scripts\engine\utility::ent_flag_wait( "player_posessed_missile" );
    thread _id_D5B4FEEA0DC4F1F7();
    level.player playerlinktoabsolute( level._id_D1C73D5538A80325 );
    level.player enableinvulnerability();
    level.player freezecontrols( 1 );
    thread _id_743671E9A6FA414A( level._id_D1C73D5538A80325 );
    thread _id_614E7B17B63874F1();
    thread _id_46914E52D3CEBEB3();
    thread _id_798CEA8E7AA50AB0();
}

_id_5822D70A1005279E()
{
    level endon( "cruise_missile_explode" );
    _id_917A7C4A4FE1DA75();
    _id_AB9D15DFF0896FC6 = level.player _meth_569AC32FF1837D7C( "ViewMouseHorzSensitivity" );

    for (;;)
    {
        waitframe();

        if ( level._id_D1C73D5538A80325 scripts\engine\utility::ent_flag( "exploded" ) )
            break;

        if ( !level.player _meth_569AC32FF1837D7C( "gpadEnabled" ) )
            continue;

        _id_264F6FCB437EFFBC = level.player _meth_569AC32FF1837D7C( "ViewMouseHorzSensitivity" );

        if ( abs( _id_264F6FCB437EFFBC ) != 50 )
            level.player _meth_98122FA7C7A078D8( "ViewMouseHorzSensitivity", 50 );
    }

    level.player _meth_98122FA7C7A078D8( "ViewMouseHorzSensitivity", _id_AB9D15DFF0896FC6 );
}

_id_917A7C4A4FE1DA75()
{
    while ( !isdefined( level._id_D1C73D5538A80325 ) )
        waitframe();
}

_id_FF497164721605A9()
{
    level._id_12BC13ED0E8F2FE4 = newhudelem();
    level._id_12BC13ED0E8F2FE4 setshader( "overlay_cruise_main_reticle", 2, 2 );
    level._id_12BC13ED0E8F2FE4.x = 320.0;
    level._id_12BC13ED0E8F2FE4.y = 100;
    level._id_12BC13ED0E8F2FE4.alignx = "center";
    level._id_12BC13ED0E8F2FE4.fontscale = 2;
}

_id_D8F31D2961885B74()
{
    level endon( "stop_throttling_saves" );
    level endon( "missile_left_canyon" );
    level endon( "cruise_missile_explode" );
    scripts\engine\utility::flag_clear( "can_save" );
    level._id_B608D0E94FA22854 = [];
    cur_node = scripts\engine\utility::getstruct( "missile_safe_path", "targetname" );

    for ( _id_AC0E594AC96AA3A8 = 0; isdefined( cur_node ); _id_AC0E594AC96AA3A8++ )
    {
        cur_node.index = _id_AC0E594AC96AA3A8;
        level._id_B608D0E94FA22854 = scripts\engine\utility::array_add( level._id_B608D0E94FA22854, cur_node );

        if ( !isdefined( cur_node.target ) )
            break;

        cur_node = scripts\engine\utility::getstruct( cur_node.target, "targetname" );
    }

    _id_917A7C4A4FE1DA75();
    level._id_D1C73D5538A80325 endon( "cruise_missile_explode" );
    _id_F7BC2DC2E8BA2D52 = 1000;

    for (;;)
    {
        dist = _id_24620A0770F709F7();
        _id_A7024FA119F7E9B6 = getdvarint( "dvar_818BD12FE634FFE9", 0 );

        if ( _id_A7024FA119F7E9B6 )
            iprintlnbold( dist );

        if ( dist < _id_F7BC2DC2E8BA2D52 )
        {
            scripts\engine\utility::flag_set( "can_save" );
            thread scripts\engine\sp\utility::autosave_now_silent();
        }
        else
            scripts\engine\utility::flag_clear( "can_save" );

        waitframe();
    }
}

_id_24620A0770F709F7()
{
    a = level._id_D1C73D5538A80325 _id_19FD85A523F4B773( level._id_B608D0E94FA22854 );
    b = level._id_D1C73D5538A80325 _id_19FD85A523F4B773( level._id_B608D0E94FA22854, a );

    if ( a == b )
        return 0;

    _id_A7024FA119F7E9B6 = getdvarint( "dvar_818BD12FE634FFE9", 0 );

    if ( _id_A7024FA119F7E9B6 )
        thread scripts\engine\utility::draw_line_for_time( a.origin, b.origin, 1, 0, 1, 1 );

    _id_2F1C395832E91073 = pointonsegmentnearesttopoint( a.origin, b.origin, level._id_D1C73D5538A80325.origin );

    if ( _id_A7024FA119F7E9B6 )
        thread scripts\engine\utility::draw_line_for_time( _id_2F1C395832E91073, level._id_D1C73D5538A80325.origin, 1, 1, 1, 1 );

    return distance( _id_2F1C395832E91073, level._id_D1C73D5538A80325.origin );
}

_id_19FD85A523F4B773( nodes, _id_52A71DCB6260A62C )
{
    _id_9BDE6CEB27BC4985 = nodes[0];

    foreach ( node in nodes )
    {
        if ( distance( self.origin, node.origin ) < distance( self.origin, _id_9BDE6CEB27BC4985.origin ) )
        {
            if ( isdefined( _id_52A71DCB6260A62C ) && node == _id_52A71DCB6260A62C || _id_9BDE6CEB27BC4985 == node )
                continue;

            _id_9BDE6CEB27BC4985 = node;
        }
    }

    return _id_9BDE6CEB27BC4985;
}

_id_E4B880762A0DD8C0()
{
    _id_2302EB019AEEC2B3::_id_D963976FC25AD23F();
    _id_2302EB019AEEC2B3::_id_B3F096B1124E2210();
    _id_2302EB019AEEC2B3::_id_D776CF84A9041C16();
    _id_79FB381FD77D2642::_id_A9464E53AD10369C();
    level.player takeallweapons();
    level.player setstance( "stand", 1, 1, 1 );
    level.player.og_fov = getdvarint( "dvar_DF1DC712C4A91588" );
    level.player _meth_1D98630AA343510D( 95 );
    thread _id_3FBC5B83E70E9839();
    _id_D5685B7BAEE6505E = ( -41216, 3576, 5997.5 );
    _id_6CC653FAB526FBCA = ( -39960, 3920, 5893.5 );
    level.player thread _id_128D5218ACACB1A6::_id_33A87BC008897C8B( _id_D5685B7BAEE6505E, _id_6CC653FAB526FBCA );
    thread missile_logic( _id_D5685B7BAEE6505E, _id_6CC653FAB526FBCA );
}

_id_81AA1411933759CE()
{
    _id_917A7C4A4FE1DA75();
    thread _id_5ACCCAFEEA3EEADC();
    scripts\engine\utility::delaythread( 1, scripts\engine\sp\utility::nextmission_primeloadbink );
    level waittill( "cruise_missile_explode", _id_83F2E7C3CD68FEAE, _id_DF4B15EE230BF93A );
    _id_1096BC9315122E88::_id_D1A8270C167E8A4F( "strike_task_02", "stop", "completed" );
    _id_A431D8C4C67A5D1C( _id_83F2E7C3CD68FEAE, _id_DF4B15EE230BF93A );
    level.player setsoundsubmix( "iw9_sp_fade_to_black_bink_load", 0.05 );
    setmusicstate( "" );
    level.player setclienttriggeraudiozone( "fade_to_black", 0.05 );
    scripts\engine\sp\utility::remove_extra_autosave_check( "missile_check_obstacles" );
    scripts\engine\sp\utility::remove_extra_autosave_check( "missile_check_out_of_bounds" );
    level notify( "stop_throttling_saves" );
}

_id_2123F5398AB0F807()
{
    scripts\engine\utility::flag_set( "missile_strike_success" );
}

_id_4B8B87C2116674C7()
{
    if ( !isdefined( level._id_D1C73D5538A80325 ) )
        return 0;

    _id_7636B8DC247C7CB4 = level._id_D1C73D5538A80325.origin + vectornormalize( _id_29EFCACE9F6F26D6() ) * 1000;
    _id_166755BEE58BF03A = _id_B4443B8D54575139( _id_7636B8DC247C7CB4 );
    _id_7636B8DC247C7CB4 = level._id_D1C73D5538A80325.origin + vectornormalize( _id_982206FEAD787ED9() ) * 500;
    _id_7E7C8C847AF65140 = _id_B4443B8D54575139( _id_7636B8DC247C7CB4 );
    _id_7636B8DC247C7CB4 = level._id_D1C73D5538A80325.origin + vectornormalize( _id_0164B43B51C321C4() ) * 500;
    _id_6413BB401F51C4E2 = _id_B4443B8D54575139( _id_7636B8DC247C7CB4 );
    _id_7636B8DC247C7CB4 = level._id_D1C73D5538A80325.origin + vectornormalize( _id_1F31505A47162B91() ) * 500;
    _id_DB5DA0BA31F86CEF = _id_B4443B8D54575139( _id_7636B8DC247C7CB4 );
    return _id_166755BEE58BF03A && _id_7E7C8C847AF65140 && _id_6413BB401F51C4E2 && _id_DB5DA0BA31F86CEF;
}

_id_DCD817DD801E272E()
{
    return level._id_D1C73D5538A80325 scripts\engine\utility::ent_flag( "out_of_bounds" ) == 0;
}

_id_19BA2216A210BAEC()
{
    return anglestoup( level._id_D1C73D5538A80325.angles );
}

_id_982206FEAD787ED9()
{
    return _id_79FB381FD77D2642::_id_ED98697EB9B406A9( _id_19BA2216A210BAEC() );
}

_id_29EFCACE9F6F26D6()
{
    return anglestoforward( level._id_D1C73D5538A80325.angles );
}

_id_0164B43B51C321C4()
{
    return _id_79FB381FD77D2642::_id_ED98697EB9B406A9( _id_1F31505A47162B91() );
}

_id_1F31505A47162B91()
{
    return anglestoright( level._id_D1C73D5538A80325.angles );
}

_id_B4443B8D54575139( _id_7636B8DC247C7CB4 )
{
    trace_contents = scripts\engine\trace::create_contents( 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0 );
    hit = scripts\engine\trace::ray_trace( level._id_D1C73D5538A80325.origin, _id_7636B8DC247C7CB4, [ level.player, level._id_D1C73D5538A80325 ], trace_contents, 1 );
    _id_CEB527696B0D5850 = [ "surftype_dirt", "surftype_rock", "surftype_foliage_dry", "surftype_foliage_wet", "surftype_gravel", "surftype_mud", "surftype_sand", "surftype_rock", "surftype_asphalt_dry", "surftype_asphalt_wet", "surftype_metal_tank", "surftype_user_terrain1", "surftype_user_terrain2", "surftype_user_terrain3", "surftype_user_terrain4", "surftype_user_terrain5", "surftype_user_terrain6", "surftype_user_terrain7", "surftype_user_terrain8", "surftype_user_terrain9" ];
    return hit["surfacetype"] == "surftype_none";
}

_id_46914E52D3CEBEB3()
{
    scripts\engine\utility::flag_wait( "missile_left_canyon" );
    _id_5EB99D988F79D0F2();
}

_id_798CEA8E7AA50AB0()
{
    level endon( "cruise_missile_explode" );
    scripts\engine\utility::flag_wait( "missile_left_canyon" );
    thread _id_DDF39E7832356107();
    scripts\engine\sp\utility::display_hint( "missile_boosters", undefined, undefined, level.player, "missile_boosters_hint_endon" );
    level._id_D1C73D5538A80325 scripts\engine\utility::ent_flag_wait( "cruise_missile_boosted" );
    level.player notify( "missile_boosters_hint_endon" );
    thread _id_22157BD2675A7E80();
    childthread _id_8504BF1B8BA16CF2();

    if ( !isdefined( level._id_C35906D57C41ED60 ) )
    {
        level._id_C35906D57C41ED60 = spawn( "script_origin", level._id_D1C73D5538A80325.origin );
        level._id_C35906D57C41ED60 playsound( "scn_strike_missile_flight_boost_rise_01_lr" );
        level._id_C35906D57C41ED60 playsound( "scn_strike_missile_flight_boost_start_01_lr" );
    }
    else
        level._id_C35906D57C41ED60 playsound( "scn_strike_missile_flight_boost_start_01_lr" );

    if ( isdefined( level._id_95A2640E8C2F125C ) )
    {

    }

    level._id_D1C73D5538A80325 _meth_D7F8AF62D6094CC8( 450 );
}

_id_22157BD2675A7E80()
{
    level.player stoprumble( "viewmodel_xsmall" );
    level.player playrumbleonentity( "viewmodel_large" );
    _id_F9825388ABE3034B = 0.75;
    _func_8111D316E1958815( level._id_D1C73D5538A80325.origin, 6, 10, 5, _id_F9825388ABE3034B, 0, -1, 0, 15, 17, 2 );
    level.player _meth_1D98630AA343510D( 120, 0.5 );
}

_id_8504BF1B8BA16CF2()
{
    level.player endon( "death" );
    level.player endon( "cruise_missile_finished" );
    visionsetnaked( "strike_missile_flight_boost", 1 );

    for (;;)
    {
        level.player _meth_8EBB1FB4F90C415B( 2.5, 2.5, 2.5, 0.5, 0.2, 0.2, 850, 0.5 );
        level.player playrumbleonentity( "viewmodel_large" );
        wait 0.15;
    }
}

_id_DDF39E7832356107()
{
    level endon( "cruise_missile_explode" );
    _id_917A7C4A4FE1DA75();
    _id_1611FFC25CBDFCBF();
    level._id_D1C73D5538A80325 scripts\engine\utility::ent_flag_set( "cruise_missile_boosted" );
}

_id_1611FFC25CBDFCBF()
{
    level endon( "cruise_missile_explode" );

    while ( level.player attackbuttonpressed() )
        waitframe();

    level.player waittill( "attack_pressed" );
}

_id_743671E9A6FA414A( missile )
{
    level endon( "cruise_missile_explode" );
    _id_917A7C4A4FE1DA75();
    scripts\engine\utility::flag_wait( "missile_left_canyon" );
    _id_741C70BA0DE65FB8 = scripts\engine\utility::getstruct( "peak_base_center", "targetname" );
    _id_A1CBBF978C8490D5 = 300;

    for (;;)
    {
        _id_CBF327F6DA336A3D = length( _id_741C70BA0DE65FB8.origin - missile.origin );
        _id_FEC47A03F66BCA81 = scripts\engine\utility::mph_to_ips( _id_A1CBBF978C8490D5 );
        level._id_3B17AA81D6BFB3C5 = _id_CBF327F6DA336A3D / _id_FEC47A03F66BCA81;
        waitframe();
    }
}

_id_614E7B17B63874F1()
{
    level endon( "cruise_missile_explode" );
    level._id_D1C73D5538A80325 endon( "death" );
    _id_741C70BA0DE65FB8 = scripts\engine\utility::getstruct( "peak_base_center", "targetname" );

    while ( isdefined( level._id_D1C73D5538A80325 ) )
    {
        _id_CBF327F6DA336A3D = length( _id_741C70BA0DE65FB8.origin - level._id_D1C73D5538A80325.origin );

        if ( _id_CBF327F6DA336A3D < 60800 )
            break;

        waitframe();
    }

    scripts\engine\utility::flag_set( "missile_left_canyon" );
}

_id_18446F68F9DD53C8()
{
    level endon( "cruise_missile_explode" );
    _id_917A7C4A4FE1DA75();
    level._id_D1C73D5538A80325 scripts\engine\utility::ent_flag_wait( "player_posessed_missile" );
    level._id_E3BF2B6FB9AF5BF7 _id_5D265B4FCA61F070::say( "dx_sp_hell_lams_grav_linkisgoodtargetacqu" );
    level._id_E3BF2B6FB9AF5BF7 _id_5D265B4FCA61F070::say( "dx_sp_hell_lams_grav_thiswilltakesomemanu" );
    level._id_E3BF2B6FB9AF5BF7 _id_5D265B4FCA61F070::say( "dx_sp_hell_lams_grav_missilebearingnorthe" );
    childthread _id_002DFB8FE2AB4337();
    _id_741C70BA0DE65FB8 = scripts\engine\utility::getstruct( "peak_base_center", "targetname" );

    for (;;)
    {
        if ( distance2dsquared( _id_741C70BA0DE65FB8.origin, level._id_D1C73D5538A80325.origin ) < squared( 70000 ) )
            break;

        waitframe();
    }
}

_id_5ACCCAFEEA3EEADC()
{
    level endon( "cruise_missile_explode" );
    scripts\engine\utility::flag_wait( "missile_left_canyon" );
    level _id_5D265B4FCA61F070::_id_5510C489D7F09128();
    level._id_01BF6EA71AAAF0EE _id_5D265B4FCA61F070::say( "dx_sp_hell_lams_shep_yourerightinthepocke" );
    wait 0.1;
    level._id_E3BF2B6FB9AF5BF7 _id_5D265B4FCA61F070::say( "dx_sp_hell_lams_grav_checkcomininhot" );
    _id_DD8F49FA767065EE( 10 );
    level._id_E3BF2B6FB9AF5BF7 _id_5D265B4FCA61F070::say( "dx_sp_hell_lams_grav_braceforimpact" );
    thread _id_1A03FEB324E91EE0();
    _id_DD8F49FA767065EE( 9 );

    if ( !isdefined( level._id_C35906D57C41ED60 ) )
    {
        level._id_C35906D57C41ED60 = spawn( "script_origin", level._id_D1C73D5538A80325.origin );
        level._id_C35906D57C41ED60 playsound( "scn_strike_missile_flight_boost_rise_01_lr" );
        level.player setsoundsubmix( "iw9_sp_strike_missile_up", 7.0 );
    }
    else
        level.player setsoundsubmix( "iw9_sp_strike_missile_up", 6.0 );

    level._id_E3BF2B6FB9AF5BF7 _id_79FB381FD77D2642::_id_9A74DA5BA2E42B14( "dx_sp_hell_lams_grav_timetotarget10second" );
    level._id_E3BF2B6FB9AF5BF7 _id_79FB381FD77D2642::_id_9A74DA5BA2E42B14( "dx_sp_hell_lams_grav_terminationin321" );
    wait 2;
    level._id_D1C73D5538A80325 notify( "explode" );
}

_id_1A03FEB324E91EE0()
{
    setmusicstate( "mx_strike_null" );
}

_id_DD8F49FA767065EE( _id_CC748B6D457627FE )
{
    while ( level._id_3B17AA81D6BFB3C5 >= _id_CC748B6D457627FE )
        waitframe();
}

_id_002DFB8FE2AB4337()
{
    level endon( "cruise_missile_explode" );
    level endon( "missile_left_canyon" );
    childthread _id_2BA82389118D5F09();
    _id_D855ADEAFADA1A09 = scripts\engine\utility::create_deck( [ "dx_sp_hell_lams_shep_checkyourheadingshad", "dx_sp_hell_lams_shep_linebackupontargetsh", "dx_sp_hell_lams_shep_adjustcourseyoureoff", "dx_sp_hell_lams_shep_iwantthiswarheadonaf", "dx_sp_hell_lams_shep_youregoingoffcourse" ] );
    _id_7E2E1EDF53FE98FA = scripts\engine\utility::create_deck( [ "dx_sp_hell_lams_shep_bearingisgoodshadow1", "dx_sp_hell_lams_shep_holdyourheadingshado", "dx_sp_hell_lams_grav_checkcomininhot" ] );

    for (;;)
    {
        level._id_D1C73D5538A80325 scripts\engine\utility::ent_flag_wait( "out_of_bounds" );
        _id_A063A72464A04A79 = _id_D855ADEAFADA1A09 scripts\engine\utility::deck_draw();

        if ( isdefined( _id_A063A72464A04A79 ) )
            level childthread _id_5D265B4FCA61F070::say( _id_A063A72464A04A79 );

        while ( level._id_D1C73D5538A80325 scripts\engine\utility::ent_flag( "out_of_bounds" ) )
            waitframe();

        _id_A063A72464A04A79 = _id_7E2E1EDF53FE98FA scripts\engine\utility::deck_draw();

        if ( isdefined( _id_A063A72464A04A79 ) )
            level _id_5D265B4FCA61F070::say( _id_A063A72464A04A79, 1 );
    }
}

_id_2BA82389118D5F09()
{
    level endon( "missile_left_canyon" );
    level endon( "cruise_missile_explode" );
    contents = scripts\engine\trace::create_contents( 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0 );
    _id_7BBF0150C08B1E5D = [ level._id_D1C73D5538A80325, level.player ];
    _id_C24E598DE377CE78 = 500;

    for (;;)
    {
        end = level._id_D1C73D5538A80325.origin + vectornormalize( _id_1F31505A47162B91() ) * _id_C24E598DE377CE78;
        _id_1A36AE2E75A95893 = scripts\engine\trace::ray_trace( level._id_D1C73D5538A80325.origin, end, _id_7BBF0150C08B1E5D, contents, 1 );
        end = level._id_D1C73D5538A80325.origin + vectornormalize( _id_0164B43B51C321C4() ) * _id_C24E598DE377CE78;
        _id_AD0379A95C2AB01E = scripts\engine\trace::ray_trace( level._id_D1C73D5538A80325.origin, end, _id_7BBF0150C08B1E5D, contents, 1 );
        _id_CEB527696B0D5850 = [ "surftype_dirt", "surftype_rock", "surftype_foliage_dry", "surftype_foliage_wet", "surftype_gravel", "surftype_mud", "surftype_sand", "surftype_rock", "surftype_asphalt_dry", "surftype_asphalt_wet", "surftype_metal_tank", "surftype_user_terrain1", "surftype_user_terrain2", "surftype_user_terrain3", "surftype_user_terrain4", "surftype_user_terrain5", "surftype_user_terrain6", "surftype_user_terrain7", "surftype_user_terrain8", "surftype_user_terrain9" ];

        if ( scripts\engine\utility::array_contains( _id_CEB527696B0D5850, _id_1A36AE2E75A95893["surfacetype"] ) )
        {
            _id_302DAAA6C17197FF( "right" );
            continue;
        }

        if ( scripts\engine\utility::array_contains( _id_CEB527696B0D5850, _id_AD0379A95C2AB01E["surfacetype"] ) )
            _id_302DAAA6C17197FF( "left" );

        wait 0.5;
    }
}

_id_302DAAA6C17197FF( direction )
{
    level _id_5D265B4FCA61F070::_id_5510C489D7F09128();
    _id_A5A96185EA01997C = scripts\engine\utility::create_deck( [ "dx_sp_hell_lams_shep_adjust5degreesleft", "dx_sp_hell_lams_shep_missileisveeringtowa" ], 1, 1 );
    _id_8F46FBCA62A2C5EB = scripts\engine\utility::create_deck( [ "dx_sp_hell_lams_shep_adjust5degreesright", "dx_sp_hell_lams_shep_missileisdriftingoff" ], 1, 1 );

    switch ( direction )
    {
        case "left":
            level _id_5D265B4FCA61F070::say( _id_8F46FBCA62A2C5EB scripts\engine\utility::deck_draw() );
            break;
        case "right":
            level _id_5D265B4FCA61F070::say( _id_A5A96185EA01997C scripts\engine\utility::deck_draw() );
            break;
        default:
    }

    wait 3;
}

_id_5EB99D988F79D0F2()
{
    level._id_1ECCBB9158F0A28A = newhudelem();
    level._id_1ECCBB9158F0A28A setshader( "icon_waypoint_target_marker", 640, 640 );
    level._id_1ECCBB9158F0A28A setwaypoint( 1, 1, 1, 0 );
    level._id_1ECCBB9158F0A28A thread _id_80CAEB1BF30A9A93();
    level._id_1ECCBB9158F0A28A _meth_4F1F5E315DC51039( level._id_30FFA2D97ADB1413, ( 0, 0, -800 ) );
    level._id_30FFA2D97ADB1413 dontinterpolate();
}

_id_80CAEB1BF30A9A93()
{
    self endon( "entitydeleted" );
    level endon( "cruise_missile_explode" );
    self.alpha = 0;
    wait 2;
    self fadeovertime( 0.5 );
    self.alpha = 1;
}

_id_A431D8C4C67A5D1C( _id_83F2E7C3CD68FEAE, _id_DF4B15EE230BF93A )
{
    scripts\engine\utility::flag_set( "missile_exploded" );
    level thread _id_DD9DEDB2A8FCFB6F();
    level._id_7820AEE3C3B050F9 = _id_83F2E7C3CD68FEAE;
    _id_5D265B4FCA61F070::_id_CB329CF8896EDEAA( "allies" );
    _id_79FB381FD77D2642::_id_CFD27C84A6D70AB8();
    _id_79FB381FD77D2642::_id_1B8B279CF9721DD9( level._id_1ECCBB9158F0A28A );
    level.player notify( "stop_steering_hint" );
    level.player notify( "force_remove_invert_hint" );
    level.player notify( "missile_boosters_hint_endon" );
    thread _id_5EDCE18F95E9D07F();
    level thread _id_DD9DEDB2A8FCFB6F();
    failed = _id_F7F70B29E1CF0A65( _id_83F2E7C3CD68FEAE, _id_DF4B15EE230BF93A );

    if ( failed )
    {
        _id_963B2003B7C7E36F();

        if ( scripts\engine\utility::flag( "missile_left_canyon" ) )
            scripts\sp\player_death::set_custom_death_quote( 455 );
        else
            scripts\sp\player_death::set_custom_death_quote( 487 );

        scripts\sp\utility::missionfailedwrapper();
        scripts\sp\player_death::clear_custom_death_quote();
        level waittill( "forever" );
    }
    else
    {
        scripts\engine\utility::flag_set( "missile_strike_success" );
        level.player setorigin( scripts\engine\utility::getstruct( "strike_overwatch_start", "targetname" ).origin );
        level.player disableinvulnerability();
        level.player freezecontrols( 0 );
    }
}

_id_F7F70B29E1CF0A65( _id_83F2E7C3CD68FEAE, _id_DF4B15EE230BF93A )
{
    if ( isdefined( _id_DF4B15EE230BF93A.msg ) && _id_DF4B15EE230BF93A.msg == "explode" )
        return 1;

    _id_DC5F0892CA0B91FF = getent( "strike_missile_col_validation", "targetname" );

    if ( !ispointinvolume( _id_83F2E7C3CD68FEAE, _id_DC5F0892CA0B91FF ) )
        return 1;

    return 0;
}

_id_963B2003B7C7E36F()
{
    level.player playsound( "snake_cam_static" );
    visionsetnaked( "cruise_predator_static", 0 );
    _id_4D3D240D60243C23 = level.player scripts\engine\utility::spawn_script_origin();
    _id_61ABE6A9C578A7BA = level.player scripts\engine\utility::spawn_script_origin();
    wait 0.2;
    wait 0.7;
    _id_61ABE6A9C578A7BA delete();
    _id_4D3D240D60243C23 delete();
}
