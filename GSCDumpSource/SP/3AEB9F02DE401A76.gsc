// IW9 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

init_deathfx()
{
    scripts\engine\utility::add_fx( "deathfx_bloodpool_generic", "vfx/iw8/char/blood/vfx_deathfx_bloodpool_01.vfx" );
}

main()
{
    self endon( "killanimscript" );
    self waittill( "hellfreezesover" );
}

doimmediateragdolldeath()
{

}

play_blood_pool( _id_A234A65C378F3289, flagname )
{
    if ( !isdefined( self ) )
        return;

    if ( isdefined( self.skipbloodpool ) )
        return;

    _id_F58A124E0F0556E7 = self gettagorigin( "j_SpineUpper" );
    _id_A43B0202C06E0907 = self gettagangles( "j_SpineUpper" );
    forward = anglestoforward( _id_A43B0202C06E0907 );
    up = anglestoup( _id_A43B0202C06E0907 );
    right = anglestoright( _id_A43B0202C06E0907 );
    _id_F58A124E0F0556E7 = _id_F58A124E0F0556E7 + forward * -8.5 + up * 5 + right * 0;
    trace = scripts\engine\trace::_bullet_trace( _id_F58A124E0F0556E7 + ( 0, 0, 30 ), _id_F58A124E0F0556E7 - ( 0, 0, 100 ), 0, undefined );

    if ( trace["normal"][2] > 0.9 )
        playfx( level._effect["deathfx_bloodpool_generic"], _id_F58A124E0F0556E7 );
}
