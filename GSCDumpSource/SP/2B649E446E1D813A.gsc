// IW9 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

init_level()
{
    scripts\sp\starts::init_starts();
    level.script = tolower( getdvar( "dvar_687FB8F9B7A23245" ) );
    level.framedurationseconds = level.frameduration / 1000;
}

init_global_dvars()
{
    setsaveddvar( "dvar_1CC4E4A2542AF7F5", "0" );
    setsaveddvar( "dvar_682A9BC40F96CA4A", "1" );
    setsaveddvar( "dvar_9B1982D1C7ACCFB2", !scripts\sp\utility::is_trials_level() );
    setsaveddvar( "dvar_1DDE331A8E0153D8", 4 );
    setsaveddvar( "dvar_63EB1893F96AC98D", 4 );
    setsaveddvar( "dvar_79A0C60CE3306D67", "0.000 0.000 0.000 0.000" );
    setsaveddvar( "dvar_79A0C50CE3306B34", "0.882 0.882 0.882 1.000" );
    setsaveddvar( "dvar_79A0C80CE33071CD", "0.804 0.157 0.157 1.000" );
    setsaveddvar( "dvar_79A0C70CE3306F9A", "0.431 0.745 0.235 1.000" );
    setsaveddvar( "dvar_79A0C20CE330649B", "0.157 0.784 0.784 1.000" );
    setsaveddvar( "dvar_79A0C10CE3306268", "0.784 0.490 0.157 1.000" );
    setsaveddvar( "dvar_79A0C40CE3306901", "0.804 0.804 0.035 1.000" );
    setsaveddvar( "dvar_79A0C30CE33066CE", "0.000 0.000 0.000 0.000" );
    setsaveddvar( "dvar_E5ECC5B581EEBD5B", 0 );
    setdvarifuninitialized( "dvar_F07AE454D79D2299", 1 );
    setdvarifuninitialized( "dvar_46D6CA4C8B20782D", 0 );
    setdvarifuninitialized( "dvar_2FB5684532AD1A80", 1 );
    setsaveddvar( "dvar_191CC88F6727F6C8", 0 );
}

init_global_omnvars()
{
    setomnvar( "ui_gettocover_text", "game/get_to_cover" );
}

init_global_precache()
{
    precacheshader( "black" );
    precacheshader( "white" );
    precacheshader( "overlay_static" );
    precachemodel( "fx" );
    precachemodel( "tag_origin" );
    precachemodel( "tag_laser" );
    precachemodel( "tag_ik_target_left" );
    precachemodel( "tag_ik_target_right" );
    precacherumble( "damage_heavy" );
    precacherumble( "damage_light" );
    precacherumble( "grenade_rumble" );
    precacherumble( "artillery_rumble" );
    precacherumble( "slide_start" );
    precacherumble( "slide_loop" );
    precacherumble( "leap_end" );
    _func_A39466ADC48F650F( "defaultweapon" );
    precacheshader( "widg_gradient_left_to_right" );
    precacheshader( "widg_gradient_right_to_left" );
    precacheshader( "widg_gradient_bottom_to_top" );
    precacheshader( "widg_gradient_top_to_bottom" );
}

init_funcs()
{
    scripts\engine\utility::create_func_ref( "setsaveddvar", ::setsaveddvar );
    scripts\engine\utility::create_func_ref( "useanimtree", ::useanimtree );
    scripts\engine\utility::create_func_ref( "setanim", ::setanim );
    scripts\engine\utility::create_func_ref( "setanimknob", ::setanimknob );
    scripts\engine\utility::create_func_ref( "setflaggedanimknob", ::_meth_50CE1815D713CDC6 );
    scripts\engine\utility::create_func_ref( "setflaggedanimknobrestart", ::setflaggedanimknobrestart );
    scripts\engine\utility::create_func_ref( "setanimlimited", ::setanimlimited );
    scripts\engine\utility::create_func_ref( "setanimtime", ::setanimtime );
    scripts\engine\utility::create_func_ref( "getanimtime", ::getanimtime );
    scripts\engine\utility::create_func_ref( "getanimlength", ::getanimlength );
    scripts\engine\utility::create_func_ref( "clearanim", ::clearanim );
    scripts\engine\utility::create_func_ref( "kill", ::kill );
    scripts\engine\utility::create_func_ref( "magicgrenade", ::_func_22E707DB087AA60E );
    scripts\engine\utility::create_func_ref( "connectPaths", ::connectpaths );
    scripts\engine\utility::create_func_ref( "disconnectPaths", ::disconnectpaths );
    scripts\engine\utility::create_func_ref( "makeEntitySentient", ::makeentitysentient );
    scripts\engine\utility::create_func_ref( "laserForceOn", ::_meth_6F7BE4CB996E4D3E );
    scripts\engine\utility::create_func_ref( "laserForceOff", ::_meth_9BA253C26D6D6740 );
    scripts\engine\utility::create_func_ref( "badPlaceDelete", ::badplace_delete );
    scripts\engine\utility::create_func_ref( "badPlaceCylinder", ::badplace_cylinder );
    scripts\engine\utility::create_func_ref( "freeEntitySentient", ::freeentitysentient );
    scripts\engine\utility::create_func_ref( "stat_track_kill_func", ::_meth_9BA253C26D6D6740 );
    scripts\engine\utility::create_func_ref( "laserForceOff", ::_meth_9BA253C26D6D6740 );
    scripts\engine\utility::create_func_ref( "getspawner", ::_func_2387688936D207B1 );
    scripts\engine\utility::create_func_ref( "ai_has_color", scripts\engine\sp\utility::has_color );
    scripts\engine\utility::create_func_ref( "playsound_on_tag", scripts\engine\sp\utility::play_sound_on_tag );
    scripts\engine\utility::create_func_ref( "playloopsound_on_tag", scripts\engine\sp\utility::play_loop_sound_on_tag );
    scripts\engine\utility::create_func_ref( "playsound_on_entity", scripts\engine\sp\utility::play_sound_on_entity );
    scripts\engine\utility::create_func_ref( "playloopsound_on_entity", scripts\engine\utility::play_loop_sound_on_entity );
    scripts\engine\utility::create_func_ref( "display_hint", scripts\engine\sp\utility::display_hint );
    scripts\engine\utility::create_func_ref( "add_hint_string", scripts\engine\sp\utility::add_hint_string );
    scripts\engine\utility::create_func_ref( "spawn_ai", scripts\engine\sp\utility::spawn_ai );
    scripts\engine\utility::create_func_ref( "spawn_failed", scripts\common\ai::spawn_failed );
    scripts\engine\utility::create_func_ref( "dronespawn_bodyonly", scripts\engine\sp\utility::dronespawn_bodyonly );
    scripts\engine\utility::create_func_ref( "bodyonlyspawn", scripts\engine\sp\utility::bodyonlyspawn );
    scripts\engine\sp\utility::setupglobalcallbackfunctions_sp();
    level.dopickyautosavechecks = 1;
    level.autosave_threat_check_enabled = 1;
    level.getnodefunction = ::getnode;
    level.getnodearrayfunction = ::getnodearray;
    level.addaieventlistener_func = ::_meth_FD583F75F1EF78DE;
    level.getspawnerarrayfunction = ::_func_91E8F01DD90DE05A;
    level.fnbuildweapon = scripts\sp\utility::make_weapon;
    level.fnbuildweaponspecial = scripts\sp\utility::make_weapon_special;
    level.fnscriptedweaponassignment = scripts\sp\scripted_weapon_assignment::getscriptedweapon;

    if ( _func_03CB5DA19764BAA3() != "T10" )
        _id_45D238A595862E40::_id_2FCE2F81588A2462();
}

_id_43B9DFBFB2702B96()
{
    if ( isdefined( level.values ) )
        return;

    _id_3B64EB40368C1450::_id_20EB90F5B8963388();
    _id_3B64EB40368C1450::_id_7372010B17478CDC( "cg_drawcrosshair", 1, 0, "$self", ::_id_C88206DCF93476A2, "$value" );
    _id_3B64EB40368C1450::_id_7372010B17478CDC( "weapon_scanning", 1, 0, "$self", ::_id_F372A21BCB8FC73B, "$value" );
    _id_3B64EB40368C1450::_id_7372010B17478CDC( "antigrav_float", 0, 1, "$self", ::_id_493C39F4DF2E5B50, "$value" );
    _id_3B64EB40368C1450::_id_7372010B17478CDC( "hands", 1, 0, "$self", ::_id_9A83D95D2B6BD514, "$value" );
    _id_3B64EB40368C1450::_id_2239A4A14E69A8EF( "nvg" );
    _id_3B64EB40368C1450::_id_7372010B17478CDC( "nvg", 1, 0, "$self", ::_id_120C300530A9FB46, "$value" );
}

init_global_variables()
{
    if ( !isdefined( level.missionfailed ) )
        level.missionfailed = 0;

    if ( !isdefined( level.g_effect ) )
        level.g_effect = [];

    thread do_level_first_frame();
}

init_objective_colors()
{
    _id_139B3FC0580996D2 = "1.0 1.0 1.0";
    _id_2E520C4DF5E59348 = "0.9 0.9 0.9";
    _id_2E56954DF5EAB66A = "0.85 0.85 0.85";
    setsaveddvar( "dvar_107D51E577CCA76E", _id_139B3FC0580996D2 );
}

_id_C88206DCF93476A2( _id_77C892C2CEC7A0EB )
{
    if ( !isdefined( _id_77C892C2CEC7A0EB ) )
        _id_77C892C2CEC7A0EB = 0;

    setsaveddvar( "dvar_5D474D39E096F8F1", _id_77C892C2CEC7A0EB );
}

_id_F372A21BCB8FC73B( _id_77C892C2CEC7A0EB )
{
    if ( !isdefined( _id_77C892C2CEC7A0EB ) )
        _id_77C892C2CEC7A0EB = 0;

    if ( _id_77C892C2CEC7A0EB )
        scripts\engine\utility::flag_clear( "weapon_scanning_off" );
    else
        scripts\engine\utility::flag_set( "weapon_scanning_off" );
}

_id_493C39F4DF2E5B50( _id_77C892C2CEC7A0EB )
{
    if ( !isdefined( _id_77C892C2CEC7A0EB ) )
        _id_77C892C2CEC7A0EB = 1;

    if ( _id_77C892C2CEC7A0EB )
        level.player scripts\engine\utility::ent_flag_clear( "disable_antigrav_float" );
    else
    {
        if ( !level.player scripts\engine\utility::ent_flag_exist( "disable_antigrav_float" ) )
            level.player scripts\engine\utility::ent_flag_init( "disable_antigrav_float" );

        level.player scripts\engine\utility::ent_flag_set( "disable_antigrav_float" );
    }
}

_id_9A83D95D2B6BD514( _id_77C892C2CEC7A0EB )
{
    if ( !isdefined( _id_77C892C2CEC7A0EB ) )
        _id_77C892C2CEC7A0EB = 0;

    self _meth_1921ACD19C2C2397( !_id_77C892C2CEC7A0EB );
}

_id_120C300530A9FB46( value )
{
    if ( !isdefined( value ) )
        value = 1;

    if ( value != 1 )
        thread scripts\sp\nvg\nvg_player::disable_nvg_proc( 1, value == -1 );
    else
        thread scripts\sp\nvg\nvg_player::disable_nvg_proc( 0 );
}

do_level_first_frame()
{
    level.first_frame = 1;
    wait 0.05;
    level.first_frame = -1;
}

post_load_functions()
{
    scripts\engine\utility::flag_set( "load_finished" );

    if ( isdefined( level.post_load_funcs ) )
    {
        foreach ( func in level.post_load_funcs )
            [[ func ]]();
    }
}

load_binks()
{
    if ( scripts\engine\sp\utility::is_default_start() )
    {
        index = scripts\sp\endmission::getlevelindex( level.script );

        if ( isdefined( index ) )
            setomnvar( "ui_transition_movie", scripts\sp\endmission::getlevelbink( index ) );
    }
}

delete_on_load()
{
    scripts\engine\utility::array_delete( getentarray( "delete_on_load", "targetname" ) );
    scripts\engine\utility::delaythread( 0.05, scripts\engine\utility::array_delete, getentarray( "delete_on_firstframeend", "targetname" ) );
}

_id_1C7A57D2AAF33417()
{
    while ( getdvarint( "dvar_FC7E51CF1D4CB29D" ) )
        waitframe();

    scripts\engine\utility::flag_set( "post_cl_pregame" );
}
