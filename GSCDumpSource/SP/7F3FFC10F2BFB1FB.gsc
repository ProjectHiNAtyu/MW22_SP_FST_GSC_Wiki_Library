// IW9 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

init()
{
    level.uiparent = spawnstruct();
    level.uiparent.horzalign = "left";
    level.uiparent.vertalign = "top";
    level.uiparent.alignx = "left";
    level.uiparent.aligny = "top";
    level.uiparent.x = 0;
    level.uiparent.y = 0;
    level.uiparent.width = 0;
    level.uiparent.height = 0;
    level.uiparent.children = [];
    level.fontheight = 12;
    setdvar( "dvar_32CDE99045864A11", 0 );
    setdvar( "dvar_787D2C09CA39AAC4", 0 );
    setdvar( "dvar_9565929F2BA6B781", "off" );
    setdvar( "dvar_A1036B0B7AF18AA8", "off" );
    setdvar( "dvar_F0B47C7069FD9933", "off" );
    setdvar( "dvar_FC22F9D5D3626CFA", "off" );
    setdvar( "dvar_98062FE56E38667D", 0 );
    setdvar( "dvar_111335A236A9FF1F", "" );
    setdvar( "dvar_0F401B38CB54CF63", 0.0 );
    setdvar( "dvar_9FB9448766C1F439", 1 );
    setdvar( "dvar_6A3A3C63C640148F", 1 );
    setdvar( "dvar_7674DB8D5FB90C21", 0 );
    setdvar( "dvar_6B6A0DBE8C0BF7BF", 0 );
    helmet_meters_init();
}

helmet_meters_init()
{
    if ( isdefined( level.helmet_meters ) )
        return;

    _id_82E17163C463A68F = [];
    _id_82E17163C463A68F["oxygen"] = 0.0;
    _id_82E17163C463A68F["temperature"] = 0;
    _id_82E17163C463A68F["pressure"] = 0.0;
    level.helmet_meters = _id_82E17163C463A68F;
}

helmet_meters_on( _id_6E29076E6E757D96, hidden )
{
    if ( _id_6E29076E6E757D96 == "suit" )
    {
        _id_C22600C21DD8201D = randomfloatrange( 93.83, 93.87 );
        _id_F5B8B7B89FFEFFD1 = randomintrange( 18, 22 );
        _id_CDF9004BE7E44056 = randomfloatrange( 8.2, 8.4 );
    }
    else
    {
        _id_C22600C21DD8201D = randomfloatrange( 20.93, 20.97 );
        _id_F5B8B7B89FFEFFD1 = randomintrange( 18, 22 );
        _id_CDF9004BE7E44056 = randomfloatrange( 14.5, 14.9 );
    }

    if ( isdefined( hidden ) && hidden )
    {
        level.helmet_meters["oxygen"] = _id_C22600C21DD8201D;
        level.helmet_meters["temperature"] = _id_F5B8B7B89FFEFFD1;
        level.helmet_meters["pressure"] = _id_CDF9004BE7E44056;
        return;
    }

    level.helmet_meters["oxygen"] = 0.0;
    level.helmet_meters["temperature"] = 0;
    level.helmet_meters["pressure"] = 0.0;
    duration = randomfloatrange( 3, 4 );
    thread helmet_meters_ramp_and_stabilize( "oxygen", duration, _id_C22600C21DD8201D );
    thread helmet_meters_ramp_and_stabilize( "temperature", duration, _id_F5B8B7B89FFEFFD1 );
    thread helmet_meters_ramp_and_stabilize( "pressure", duration, _id_CDF9004BE7E44056 );
}

helmet_meters_off( hidden )
{
    thread helmet_meters_ramp( "oxygen", randomfloatrange( 3, 4 ), 0.0 );
    thread helmet_meters_ramp( "temperature", randomfloatrange( 3, 4 ), 0 );
    thread helmet_meters_ramp( "pressure", randomfloatrange( 3, 4 ), 0.0 );
}

helmet_meters_normal_suit( duration, hidden )
{
    _id_C22600C21DD8201D = randomfloatrange( 93.83, 93.87 );
    _id_F5B8B7B89FFEFFD1 = randomintrange( 18, 22 );
    _id_CDF9004BE7E44056 = randomfloatrange( 8.2, 8.4 );
    level.helmet_meters["oxygen"] = _id_C22600C21DD8201D;
    level.helmet_meters["temperature"] = _id_F5B8B7B89FFEFFD1;
    level.helmet_meters["pressure"] = _id_CDF9004BE7E44056;

    if ( isdefined( hidden ) && hidden )
        return;

    if ( !isdefined( duration ) )
    {
        setomnvar( "ui_helmet_meter_oxygen", helmet_meters_rounding( "oxygen", _id_C22600C21DD8201D ) );
        setomnvar( "ui_helmet_meter_temperature", helmet_meters_rounding( "temperature", _id_F5B8B7B89FFEFFD1 ) );
        setomnvar( "ui_helmet_meter_pressure", helmet_meters_rounding( "pressure", _id_CDF9004BE7E44056 ) );
        return;
    }

    thread helmet_meters_ramp_and_stabilize( "oxygen", duration, _id_C22600C21DD8201D );
    thread helmet_meters_ramp_and_stabilize( "temperature", duration, _id_F5B8B7B89FFEFFD1 );
    thread helmet_meters_ramp_and_stabilize( "pressure", duration, _id_CDF9004BE7E44056 );
}

helmet_meters_normal_ship( duration, hidden )
{
    _id_C22600C21DD8201D = randomfloatrange( 20.93, 20.97 );
    _id_F5B8B7B89FFEFFD1 = randomintrange( 18, 22 );
    _id_CDF9004BE7E44056 = randomfloatrange( 14.5, 14.9 );
    level.helmet_meters["oxygen"] = _id_C22600C21DD8201D;
    level.helmet_meters["temperature"] = _id_F5B8B7B89FFEFFD1;
    level.helmet_meters["pressure"] = _id_CDF9004BE7E44056;

    if ( isdefined( hidden ) && hidden )
        return;

    if ( !isdefined( duration ) )
    {
        setomnvar( "ui_helmet_meter_oxygen", helmet_meters_rounding( "oxygen", _id_C22600C21DD8201D ) );
        setomnvar( "ui_helmet_meter_temperature", helmet_meters_rounding( "temperature", _id_F5B8B7B89FFEFFD1 ) );
        setomnvar( "ui_helmet_meter_pressure", helmet_meters_rounding( "pressure", _id_CDF9004BE7E44056 ) );
        return;
    }

    thread helmet_meters_ramp_and_stabilize( "oxygen", duration, _id_C22600C21DD8201D );
    thread helmet_meters_ramp_and_stabilize( "temperature", duration, _id_F5B8B7B89FFEFFD1 );
    thread helmet_meters_ramp_and_stabilize( "pressure", duration, _id_CDF9004BE7E44056 );
}

helmet_meters_set_oxygen( value, duration, hidden )
{
    if ( isdefined( hidden ) && hidden )
    {
        level.helmet_meters["oxygen"] = value;
        return;
    }

    if ( !isdefined( duration ) )
        duration = randomfloatrange( 3, 4 );

    helmet_meters_ramp( "oxygen", duration, value );
    helmet_meters_stabilize( "oxygen" );
}

helmet_meters_set_temperature( value, duration, hidden )
{
    if ( isdefined( hidden ) && hidden )
    {
        level.helmet_meters["temperature"] = value;
        return;
    }

    if ( !isdefined( duration ) )
        duration = randomfloatrange( 3, 4 );

    helmet_meters_ramp( "temperature", duration, value );
    helmet_meters_stabilize( "temperature" );
}

helmet_meters_set_pressure( value, duration, hidden )
{
    if ( isdefined( hidden ) && hidden )
    {
        level.helmet_meters["pressure"] = value;
        return;
    }

    if ( !isdefined( duration ) )
        duration = randomfloatrange( 3, 4 );

    helmet_meters_ramp( "pressure", duration, value );
    helmet_meters_stabilize( "pressure" );
}

helmet_meters_airlock_in( duration )
{
    _id_C22600C21DD8201D = randomfloatrange( 20.93, 20.97 );
    _id_F5B8B7B89FFEFFD1 = randomintrange( 18, 22 );
    _id_CDF9004BE7E44056 = randomfloatrange( 14.5, 14.9 );

    if ( !isdefined( duration ) )
        duration = randomfloatrange( 3, 4 );

    thread helmet_meters_ramp_and_stabilize( "oxygen", duration, _id_C22600C21DD8201D );

    if ( !isdefined( duration ) )
        duration = randomfloatrange( 3, 4 );

    thread helmet_meters_ramp_and_stabilize( "temperature", duration, _id_F5B8B7B89FFEFFD1 );

    if ( !isdefined( duration ) )
        duration = randomfloatrange( 3, 4 );

    thread helmet_meters_ramp_and_stabilize( "pressure", duration, _id_CDF9004BE7E44056 );
}

helmet_meters_airlock_out( duration )
{
    _id_C22600C21DD8201D = randomfloatrange( 93.83, 93.87 );
    _id_F5B8B7B89FFEFFD1 = randomintrange( 18, 22 );
    _id_CDF9004BE7E44056 = randomfloatrange( 8.2, 8.4 );

    if ( !isdefined( duration ) )
        duration = randomfloatrange( 3, 4 );

    thread helmet_meters_ramp_and_stabilize( "oxygen", duration, _id_C22600C21DD8201D );

    if ( !isdefined( duration ) )
        duration = randomfloatrange( 3, 4 );

    thread helmet_meters_ramp_and_stabilize( "temperature", duration, _id_F5B8B7B89FFEFFD1 );

    if ( !isdefined( duration ) )
        duration = randomfloatrange( 3, 4 );

    thread helmet_meters_ramp_and_stabilize( "pressure", duration, _id_CDF9004BE7E44056 );
}

helmet_meters_forced_decompress( _id_6E29076E6E757D96, duration )
{
    if ( _id_6E29076E6E757D96 == "interior" )
    {
        _id_C22600C21DD8201D = randomfloatrange( 20.93, 20.97 );
        _id_F5B8B7B89FFEFFD1 = randomintrange( 18, 22 );
        _id_CDF9004BE7E44056 = randomfloatrange( 14.5, 14.9 );
    }
    else
    {
        _id_C22600C21DD8201D = randomfloatrange( 6, 8 );
        _id_F5B8B7B89FFEFFD1 = randomintrange( -60, -50 );
        _id_CDF9004BE7E44056 = randomfloatrange( 4, 6 );
    }

    if ( !isdefined( duration ) )
        duration = randomfloatrange( 2, 3 );

    thread helmet_meters_ramp_and_stabilize( "oxygen", duration, _id_C22600C21DD8201D );

    if ( !isdefined( duration ) )
        duration = randomfloatrange( 2, 3 );

    thread helmet_meters_ramp_and_stabilize( "temperature", duration, _id_F5B8B7B89FFEFFD1 );

    if ( !isdefined( duration ) )
        duration = randomfloatrange( 2, 3 );

    thread helmet_meters_ramp_and_stabilize( "pressure", duration, _id_CDF9004BE7E44056 );
}

helmet_meters_ramp( type, duration, _id_F3834A5535C25544 )
{
    accel = 0;
    decel = 0;
    _id_78CD7A63F38D99D1 = 0;
    _id_4D6F2E32D535B9DA = abs( ( _id_F3834A5535C25544 - level.helmet_meters[type] ) / duration * 0.05 );
    _id_E9D476A3809CB3F1 = "ui_helmet_meter_" + type;

    if ( type == "oxygen" )
    {
        accel = 1;
        decel = 1;
    }
    else if ( type == "temperature" )
    {
        accel = 2;
        decel = 3;
    }
    else if ( type == "pressure" )
    {
        accel = 1;
        decel = 1;
    }

    _id_4A6B621514643F05 = accel * 0.05;
    _id_A3EC44B662B56140 = decel * 0.05;
    _id_27C1CB3C9EA0E04D = 1;

    if ( _id_F3834A5535C25544 == level.helmet_meters[type] )
        return;
    else if ( _id_F3834A5535C25544 < level.helmet_meters[type] )
        _id_27C1CB3C9EA0E04D = 0;

    for ( _id_AC0E594AC96AA3A8 = 0; _id_AC0E594AC96AA3A8 < duration; _id_AC0E594AC96AA3A8 = _id_AC0E594AC96AA3A8 + 0.05 )
    {
        if ( _id_27C1CB3C9EA0E04D )
            level.helmet_meters[type] = level.helmet_meters[type] + _id_4D6F2E32D535B9DA;
        else
            level.helmet_meters[type] = level.helmet_meters[type] - _id_4D6F2E32D535B9DA;

        _id_F82EACB5A2248D90 = helmet_meters_rounding( type, level.helmet_meters[type] );
        setomnvar( _id_E9D476A3809CB3F1, _id_F82EACB5A2248D90 );
        wait 0.05;
    }

    _id_F82EACB5A2248D90 = helmet_meters_rounding( type, level.helmet_meters[type] );
    setomnvar( _id_E9D476A3809CB3F1, _id_F82EACB5A2248D90 );
}

helmet_meters_stabilize( type )
{
    _id_F3834A5535C25544 = 0;

    if ( type == "oxygen" )
        _id_F3834A5535C25544 = randomfloatrange( -0.5, 0.5 ) + level.helmet_meters[type];
    else if ( type == "temperature" )
        _id_F3834A5535C25544 = randomintrange( -1, 1 ) + level.helmet_meters[type];
    else if ( type == "pressure" )
        _id_F3834A5535C25544 = randomfloatrange( -0.5, 0.5 ) + level.helmet_meters[type];

    _id_6AEC809BE13C61CC = level.helmet_meters[type];
    duration = randomfloatrange( 1, 3 );
    helmet_meters_ramp( type, duration, _id_F3834A5535C25544 );
    duration = randomfloatrange( 1, 2 );
    helmet_meters_ramp( type, duration, _id_6AEC809BE13C61CC );
}

helmet_meters_ramp_and_stabilize( type, duration, _id_F3834A5535C25544 )
{
    helmet_meters_ramp( type, duration, _id_F3834A5535C25544 );
    helmet_meters_stabilize( type );
}

helmet_meters_rounding( type, value )
{
    _id_F3834A5535C25544 = int( value );
    return _id_F3834A5535C25544;
}
