// IW9 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

scriptable_spglobalcallback()
{
    scripts\engine\scriptable::scriptable_setinitcallback( ::scriptable_spcallback );
}

scriptable_spcallback()
{
    starttime = gettime();
    scriptables = getscriptablearray( "scriptable", "code_classname" );

    foreach ( scriptable in scriptables )
    {
        if ( isdefined( scriptable.initialized ) )
        {
            thread scriptable_print_warning();
            continue;
        }

        if ( isdefined( scriptable.script_noteworthy ) )
        {
            if ( scriptable.script_noteworthy == "interactive_door" )
                scriptable scripts\sp\door_scriptable::scriptable_init();
            else if ( issubstr( scriptable.script_noteworthy, "dynolight" ) )
                scripts\sp\interactables\dynolight::add_dynolight( scriptable );
        }

        scriptable.initialized = 1;
    }

    scripts\sp\interactables\dynolight::init();
    waitframe();

    if ( !scripts\engine\utility::flag_exist( "scriptables_ready" ) )
        scripts\engine\utility::flag_init( "scriptables_ready" );

    scripts\engine\utility::flag_set( "scriptables_ready" );
}

scriptable_print_warning()
{
    if ( isdefined( level.scriptable_warning ) )
        return;

    level.scriptable_warning = 1;
    wait 0.1;
    iprintln( "^3Scriptables tried re-initializing, you may want to map_restart for safety" );
}
